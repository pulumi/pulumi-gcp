name: topic-iam-binding
runtime: yaml
description: A minimal Pulumi YAML program
resources:
  myTopic:
    type: gcp:pubsub/topic:Topic
  myServiceAccount:
    type: gcp:serviceaccount:Account
    properties:
      accountId: service-id-iam-binding-1
  myTopicIAMBinding:
    type: gcp:pubsub/topicIAMBinding:TopicIAMBinding
    properties:
      topic: ${myTopic.name}
      members:
        - "serviceAccount:${myServiceAccount.email}"
      role: "roles/pubsub.publisher"
