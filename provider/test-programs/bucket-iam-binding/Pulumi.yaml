name: bucket-iam-binding
runtime: yaml
resources:
  mybucket:
    properties:
      location: US
    type: gcp:storage:Bucket
  binding:
    type: gcp:storage:BucketIAMBinding
    properties:
      bucket: ${mybucket.name}
      role: roles/storage.objectAdmin
      members:
        - "allAuthenticatedUsers"
outputs:
  bucketId: ${mybucket.id}