// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package storage

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Gets existing object contents inside an existing bucket in Google Cloud Storage service (GCS).
// See [the official documentation](https://cloud.google.com/storage/docs/key-terms#objects)
// and
// [API](https://cloud.google.com/storage/docs/json_api/v1/objects).
//
// > **Warning:** The object content will be saved in the state, and visible to everyone who has access to the state file.
//
// > **Warning:** This data source loads all object contents into memory. Limit the results with `matchGlob` or `prefix`.
//
// ## Example Usage
//
// Extract object base64 contents from objects:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/storage"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
// func main() {
// pulumi.Run(func(ctx *pulumi.Context) error {
// example, err := storage.GetBucketObjectContents(ctx, &storage.GetBucketObjectContentsArgs{
// Bucket: "example-bucket",
// MatchGlob: pulumi.StringRef("example-{foo,bar}.json"),
// Prefix: pulumi.StringRef("example"),
// }, nil);
// if err != nil {
// return err
// }
// ctx.Export("base64EncodedJsonContents", pulumi.StringArray(%!v(PANIC=Format method: fatal: A failure has occurred: unlowered splat expression @ example.pp:7,11-49)))
// return nil
// })
// }
// ```
func GetBucketObjectContents(ctx *pulumi.Context, args *GetBucketObjectContentsArgs, opts ...pulumi.InvokeOption) (*GetBucketObjectContentsResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv GetBucketObjectContentsResult
	err := ctx.Invoke("gcp:storage/getBucketObjectContents:getBucketObjectContents", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getBucketObjectContents.
type GetBucketObjectContentsArgs struct {
	// The name of the containing bucket.
	Bucket string `pulumi:"bucket"`
	// A glob pattern used to filter results (for example, `foo*bar`).
	MatchGlob *string `pulumi:"matchGlob"`
	// Filter results to include only objects whose names begin with this prefix.
	Prefix *string `pulumi:"prefix"`
}

// A collection of values returned by getBucketObjectContents.
type GetBucketObjectContentsResult struct {
	Bucket string `pulumi:"bucket"`
	// A list of retrieved object contents contained in the provided GCS bucket. Structure is defined below.
	BucketObjects []GetBucketObjectContentsBucketObject `pulumi:"bucketObjects"`
	// The provider-assigned unique ID for this managed resource.
	Id        string  `pulumi:"id"`
	MatchGlob *string `pulumi:"matchGlob"`
	Prefix    *string `pulumi:"prefix"`
}

func GetBucketObjectContentsOutput(ctx *pulumi.Context, args GetBucketObjectContentsOutputArgs, opts ...pulumi.InvokeOption) GetBucketObjectContentsResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (GetBucketObjectContentsResultOutput, error) {
			args := v.(GetBucketObjectContentsArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("gcp:storage/getBucketObjectContents:getBucketObjectContents", args, GetBucketObjectContentsResultOutput{}, options).(GetBucketObjectContentsResultOutput), nil
		}).(GetBucketObjectContentsResultOutput)
}

// A collection of arguments for invoking getBucketObjectContents.
type GetBucketObjectContentsOutputArgs struct {
	// The name of the containing bucket.
	Bucket pulumi.StringInput `pulumi:"bucket"`
	// A glob pattern used to filter results (for example, `foo*bar`).
	MatchGlob pulumi.StringPtrInput `pulumi:"matchGlob"`
	// Filter results to include only objects whose names begin with this prefix.
	Prefix pulumi.StringPtrInput `pulumi:"prefix"`
}

func (GetBucketObjectContentsOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*GetBucketObjectContentsArgs)(nil)).Elem()
}

// A collection of values returned by getBucketObjectContents.
type GetBucketObjectContentsResultOutput struct{ *pulumi.OutputState }

func (GetBucketObjectContentsResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*GetBucketObjectContentsResult)(nil)).Elem()
}

func (o GetBucketObjectContentsResultOutput) ToGetBucketObjectContentsResultOutput() GetBucketObjectContentsResultOutput {
	return o
}

func (o GetBucketObjectContentsResultOutput) ToGetBucketObjectContentsResultOutputWithContext(ctx context.Context) GetBucketObjectContentsResultOutput {
	return o
}

func (o GetBucketObjectContentsResultOutput) Bucket() pulumi.StringOutput {
	return o.ApplyT(func(v GetBucketObjectContentsResult) string { return v.Bucket }).(pulumi.StringOutput)
}

// A list of retrieved object contents contained in the provided GCS bucket. Structure is defined below.
func (o GetBucketObjectContentsResultOutput) BucketObjects() GetBucketObjectContentsBucketObjectArrayOutput {
	return o.ApplyT(func(v GetBucketObjectContentsResult) []GetBucketObjectContentsBucketObject { return v.BucketObjects }).(GetBucketObjectContentsBucketObjectArrayOutput)
}

// The provider-assigned unique ID for this managed resource.
func (o GetBucketObjectContentsResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v GetBucketObjectContentsResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o GetBucketObjectContentsResultOutput) MatchGlob() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetBucketObjectContentsResult) *string { return v.MatchGlob }).(pulumi.StringPtrOutput)
}

func (o GetBucketObjectContentsResultOutput) Prefix() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetBucketObjectContentsResult) *string { return v.Prefix }).(pulumi.StringPtrOutput)
}

func init() {
	pulumi.RegisterOutputType(GetBucketObjectContentsResultOutput{})
}
