// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package apigee

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Deploys a specific Apigee API Proxy revision to a given Apigee environment.
//
// To get more information about EnvironmentApiRevisionDeployment, see:
//
// * [API documentation](https://cloud.google.com/apigee/docs/reference/apis/apigee/rest/v1/organizations.environments.apis.revisions.deployments/deploy)
// * How-to Guides
//   - [Deploying an API proxy](https://cloud.google.com/apigee/docs/api-platform/deploy/ui-deploy-new#apigee-api)
//
// ## Example Usage
//
// ### Apigee Environment Api Revision Deployment Basic
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/apigee"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := apigee.NewEnvironmentApiRevisionDeployment(ctx, "proxy_deployment_basic", &apigee.EnvironmentApiRevisionDeploymentArgs{
//				OrgId:            pulumi.String("my-org"),
//				Environment:      pulumi.String("dev"),
//				Api:              pulumi.String("hello-proxy"),
//				Revision:         pulumi.Int(1),
//				Override:         pulumi.Bool(true),
//				SequencedRollout: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// EnvironmentApiRevisionDeployment can be imported using any of these accepted formats:
//
// * `organizations/{{org_id}}/environments/{{environment}}/apis/{{api}}/revisions/{{revision}}`
// * `{{org_id}}/{{environment}}/{{api}}/{{revision}}`
// * `{{id}}`
//
// When using the `pulumi import` command, EnvironmentApiRevisionDeployment can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:apigee/environmentApiRevisionDeployment:EnvironmentApiRevisionDeployment default organizations/{{org_id}}/environments/{{environment}}/apis/{{api}}/revisions/{{revision}}
// $ pulumi import gcp:apigee/environmentApiRevisionDeployment:EnvironmentApiRevisionDeployment default {{org_id}}/{{environment}}/{{api}}/{{revision}}
// $ pulumi import gcp:apigee/environmentApiRevisionDeployment:EnvironmentApiRevisionDeployment default {{id}}
// ```
type EnvironmentApiRevisionDeployment struct {
	pulumi.CustomResourceState

	// Apigee API proxy name.
	Api pulumi.StringOutput `pulumi:"api"`
	// Basepaths associated with the deployed proxy.
	Basepaths pulumi.StringArrayOutput `pulumi:"basepaths"`
	// RFC3339 timestamp when deployment started.
	DeployStartTime pulumi.StringOutput `pulumi:"deployStartTime"`
	// Apigee environment name.
	Environment pulumi.StringOutput `pulumi:"environment"`
	// Apigee organization ID.
	OrgId pulumi.StringOutput `pulumi:"orgId"`
	// If true, replaces other deployed revisions of this proxy in the environment.
	Override pulumi.BoolPtrOutput `pulumi:"override"`
	// API proxy revision number to deploy.
	Revision pulumi.IntOutput `pulumi:"revision"`
	// If true, enables sequenced rollout for safe traffic switching.
	SequencedRollout pulumi.BoolPtrOutput `pulumi:"sequencedRollout"`
	// Optional service account the deployed proxy runs as.
	ServiceAccount pulumi.StringPtrOutput `pulumi:"serviceAccount"`
	// Deployment state reported by Apigee.
	State pulumi.StringOutput `pulumi:"state"`
}

// NewEnvironmentApiRevisionDeployment registers a new resource with the given unique name, arguments, and options.
func NewEnvironmentApiRevisionDeployment(ctx *pulumi.Context,
	name string, args *EnvironmentApiRevisionDeploymentArgs, opts ...pulumi.ResourceOption) (*EnvironmentApiRevisionDeployment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Api == nil {
		return nil, errors.New("invalid value for required argument 'Api'")
	}
	if args.Environment == nil {
		return nil, errors.New("invalid value for required argument 'Environment'")
	}
	if args.OrgId == nil {
		return nil, errors.New("invalid value for required argument 'OrgId'")
	}
	if args.Revision == nil {
		return nil, errors.New("invalid value for required argument 'Revision'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource EnvironmentApiRevisionDeployment
	err := ctx.RegisterResource("gcp:apigee/environmentApiRevisionDeployment:EnvironmentApiRevisionDeployment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetEnvironmentApiRevisionDeployment gets an existing EnvironmentApiRevisionDeployment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetEnvironmentApiRevisionDeployment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *EnvironmentApiRevisionDeploymentState, opts ...pulumi.ResourceOption) (*EnvironmentApiRevisionDeployment, error) {
	var resource EnvironmentApiRevisionDeployment
	err := ctx.ReadResource("gcp:apigee/environmentApiRevisionDeployment:EnvironmentApiRevisionDeployment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering EnvironmentApiRevisionDeployment resources.
type environmentApiRevisionDeploymentState struct {
	// Apigee API proxy name.
	Api *string `pulumi:"api"`
	// Basepaths associated with the deployed proxy.
	Basepaths []string `pulumi:"basepaths"`
	// RFC3339 timestamp when deployment started.
	DeployStartTime *string `pulumi:"deployStartTime"`
	// Apigee environment name.
	Environment *string `pulumi:"environment"`
	// Apigee organization ID.
	OrgId *string `pulumi:"orgId"`
	// If true, replaces other deployed revisions of this proxy in the environment.
	Override *bool `pulumi:"override"`
	// API proxy revision number to deploy.
	Revision *int `pulumi:"revision"`
	// If true, enables sequenced rollout for safe traffic switching.
	SequencedRollout *bool `pulumi:"sequencedRollout"`
	// Optional service account the deployed proxy runs as.
	ServiceAccount *string `pulumi:"serviceAccount"`
	// Deployment state reported by Apigee.
	State *string `pulumi:"state"`
}

type EnvironmentApiRevisionDeploymentState struct {
	// Apigee API proxy name.
	Api pulumi.StringPtrInput
	// Basepaths associated with the deployed proxy.
	Basepaths pulumi.StringArrayInput
	// RFC3339 timestamp when deployment started.
	DeployStartTime pulumi.StringPtrInput
	// Apigee environment name.
	Environment pulumi.StringPtrInput
	// Apigee organization ID.
	OrgId pulumi.StringPtrInput
	// If true, replaces other deployed revisions of this proxy in the environment.
	Override pulumi.BoolPtrInput
	// API proxy revision number to deploy.
	Revision pulumi.IntPtrInput
	// If true, enables sequenced rollout for safe traffic switching.
	SequencedRollout pulumi.BoolPtrInput
	// Optional service account the deployed proxy runs as.
	ServiceAccount pulumi.StringPtrInput
	// Deployment state reported by Apigee.
	State pulumi.StringPtrInput
}

func (EnvironmentApiRevisionDeploymentState) ElementType() reflect.Type {
	return reflect.TypeOf((*environmentApiRevisionDeploymentState)(nil)).Elem()
}

type environmentApiRevisionDeploymentArgs struct {
	// Apigee API proxy name.
	Api string `pulumi:"api"`
	// Apigee environment name.
	Environment string `pulumi:"environment"`
	// Apigee organization ID.
	OrgId string `pulumi:"orgId"`
	// If true, replaces other deployed revisions of this proxy in the environment.
	Override *bool `pulumi:"override"`
	// API proxy revision number to deploy.
	Revision int `pulumi:"revision"`
	// If true, enables sequenced rollout for safe traffic switching.
	SequencedRollout *bool `pulumi:"sequencedRollout"`
	// Optional service account the deployed proxy runs as.
	ServiceAccount *string `pulumi:"serviceAccount"`
}

// The set of arguments for constructing a EnvironmentApiRevisionDeployment resource.
type EnvironmentApiRevisionDeploymentArgs struct {
	// Apigee API proxy name.
	Api pulumi.StringInput
	// Apigee environment name.
	Environment pulumi.StringInput
	// Apigee organization ID.
	OrgId pulumi.StringInput
	// If true, replaces other deployed revisions of this proxy in the environment.
	Override pulumi.BoolPtrInput
	// API proxy revision number to deploy.
	Revision pulumi.IntInput
	// If true, enables sequenced rollout for safe traffic switching.
	SequencedRollout pulumi.BoolPtrInput
	// Optional service account the deployed proxy runs as.
	ServiceAccount pulumi.StringPtrInput
}

func (EnvironmentApiRevisionDeploymentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*environmentApiRevisionDeploymentArgs)(nil)).Elem()
}

type EnvironmentApiRevisionDeploymentInput interface {
	pulumi.Input

	ToEnvironmentApiRevisionDeploymentOutput() EnvironmentApiRevisionDeploymentOutput
	ToEnvironmentApiRevisionDeploymentOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentOutput
}

func (*EnvironmentApiRevisionDeployment) ElementType() reflect.Type {
	return reflect.TypeOf((**EnvironmentApiRevisionDeployment)(nil)).Elem()
}

func (i *EnvironmentApiRevisionDeployment) ToEnvironmentApiRevisionDeploymentOutput() EnvironmentApiRevisionDeploymentOutput {
	return i.ToEnvironmentApiRevisionDeploymentOutputWithContext(context.Background())
}

func (i *EnvironmentApiRevisionDeployment) ToEnvironmentApiRevisionDeploymentOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EnvironmentApiRevisionDeploymentOutput)
}

// EnvironmentApiRevisionDeploymentArrayInput is an input type that accepts EnvironmentApiRevisionDeploymentArray and EnvironmentApiRevisionDeploymentArrayOutput values.
// You can construct a concrete instance of `EnvironmentApiRevisionDeploymentArrayInput` via:
//
//	EnvironmentApiRevisionDeploymentArray{ EnvironmentApiRevisionDeploymentArgs{...} }
type EnvironmentApiRevisionDeploymentArrayInput interface {
	pulumi.Input

	ToEnvironmentApiRevisionDeploymentArrayOutput() EnvironmentApiRevisionDeploymentArrayOutput
	ToEnvironmentApiRevisionDeploymentArrayOutputWithContext(context.Context) EnvironmentApiRevisionDeploymentArrayOutput
}

type EnvironmentApiRevisionDeploymentArray []EnvironmentApiRevisionDeploymentInput

func (EnvironmentApiRevisionDeploymentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*EnvironmentApiRevisionDeployment)(nil)).Elem()
}

func (i EnvironmentApiRevisionDeploymentArray) ToEnvironmentApiRevisionDeploymentArrayOutput() EnvironmentApiRevisionDeploymentArrayOutput {
	return i.ToEnvironmentApiRevisionDeploymentArrayOutputWithContext(context.Background())
}

func (i EnvironmentApiRevisionDeploymentArray) ToEnvironmentApiRevisionDeploymentArrayOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EnvironmentApiRevisionDeploymentArrayOutput)
}

// EnvironmentApiRevisionDeploymentMapInput is an input type that accepts EnvironmentApiRevisionDeploymentMap and EnvironmentApiRevisionDeploymentMapOutput values.
// You can construct a concrete instance of `EnvironmentApiRevisionDeploymentMapInput` via:
//
//	EnvironmentApiRevisionDeploymentMap{ "key": EnvironmentApiRevisionDeploymentArgs{...} }
type EnvironmentApiRevisionDeploymentMapInput interface {
	pulumi.Input

	ToEnvironmentApiRevisionDeploymentMapOutput() EnvironmentApiRevisionDeploymentMapOutput
	ToEnvironmentApiRevisionDeploymentMapOutputWithContext(context.Context) EnvironmentApiRevisionDeploymentMapOutput
}

type EnvironmentApiRevisionDeploymentMap map[string]EnvironmentApiRevisionDeploymentInput

func (EnvironmentApiRevisionDeploymentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*EnvironmentApiRevisionDeployment)(nil)).Elem()
}

func (i EnvironmentApiRevisionDeploymentMap) ToEnvironmentApiRevisionDeploymentMapOutput() EnvironmentApiRevisionDeploymentMapOutput {
	return i.ToEnvironmentApiRevisionDeploymentMapOutputWithContext(context.Background())
}

func (i EnvironmentApiRevisionDeploymentMap) ToEnvironmentApiRevisionDeploymentMapOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EnvironmentApiRevisionDeploymentMapOutput)
}

type EnvironmentApiRevisionDeploymentOutput struct{ *pulumi.OutputState }

func (EnvironmentApiRevisionDeploymentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**EnvironmentApiRevisionDeployment)(nil)).Elem()
}

func (o EnvironmentApiRevisionDeploymentOutput) ToEnvironmentApiRevisionDeploymentOutput() EnvironmentApiRevisionDeploymentOutput {
	return o
}

func (o EnvironmentApiRevisionDeploymentOutput) ToEnvironmentApiRevisionDeploymentOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentOutput {
	return o
}

// Apigee API proxy name.
func (o EnvironmentApiRevisionDeploymentOutput) Api() pulumi.StringOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringOutput { return v.Api }).(pulumi.StringOutput)
}

// Basepaths associated with the deployed proxy.
func (o EnvironmentApiRevisionDeploymentOutput) Basepaths() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringArrayOutput { return v.Basepaths }).(pulumi.StringArrayOutput)
}

// RFC3339 timestamp when deployment started.
func (o EnvironmentApiRevisionDeploymentOutput) DeployStartTime() pulumi.StringOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringOutput { return v.DeployStartTime }).(pulumi.StringOutput)
}

// Apigee environment name.
func (o EnvironmentApiRevisionDeploymentOutput) Environment() pulumi.StringOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringOutput { return v.Environment }).(pulumi.StringOutput)
}

// Apigee organization ID.
func (o EnvironmentApiRevisionDeploymentOutput) OrgId() pulumi.StringOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringOutput { return v.OrgId }).(pulumi.StringOutput)
}

// If true, replaces other deployed revisions of this proxy in the environment.
func (o EnvironmentApiRevisionDeploymentOutput) Override() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.BoolPtrOutput { return v.Override }).(pulumi.BoolPtrOutput)
}

// API proxy revision number to deploy.
func (o EnvironmentApiRevisionDeploymentOutput) Revision() pulumi.IntOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.IntOutput { return v.Revision }).(pulumi.IntOutput)
}

// If true, enables sequenced rollout for safe traffic switching.
func (o EnvironmentApiRevisionDeploymentOutput) SequencedRollout() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.BoolPtrOutput { return v.SequencedRollout }).(pulumi.BoolPtrOutput)
}

// Optional service account the deployed proxy runs as.
func (o EnvironmentApiRevisionDeploymentOutput) ServiceAccount() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringPtrOutput { return v.ServiceAccount }).(pulumi.StringPtrOutput)
}

// Deployment state reported by Apigee.
func (o EnvironmentApiRevisionDeploymentOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v *EnvironmentApiRevisionDeployment) pulumi.StringOutput { return v.State }).(pulumi.StringOutput)
}

type EnvironmentApiRevisionDeploymentArrayOutput struct{ *pulumi.OutputState }

func (EnvironmentApiRevisionDeploymentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*EnvironmentApiRevisionDeployment)(nil)).Elem()
}

func (o EnvironmentApiRevisionDeploymentArrayOutput) ToEnvironmentApiRevisionDeploymentArrayOutput() EnvironmentApiRevisionDeploymentArrayOutput {
	return o
}

func (o EnvironmentApiRevisionDeploymentArrayOutput) ToEnvironmentApiRevisionDeploymentArrayOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentArrayOutput {
	return o
}

func (o EnvironmentApiRevisionDeploymentArrayOutput) Index(i pulumi.IntInput) EnvironmentApiRevisionDeploymentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *EnvironmentApiRevisionDeployment {
		return vs[0].([]*EnvironmentApiRevisionDeployment)[vs[1].(int)]
	}).(EnvironmentApiRevisionDeploymentOutput)
}

type EnvironmentApiRevisionDeploymentMapOutput struct{ *pulumi.OutputState }

func (EnvironmentApiRevisionDeploymentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*EnvironmentApiRevisionDeployment)(nil)).Elem()
}

func (o EnvironmentApiRevisionDeploymentMapOutput) ToEnvironmentApiRevisionDeploymentMapOutput() EnvironmentApiRevisionDeploymentMapOutput {
	return o
}

func (o EnvironmentApiRevisionDeploymentMapOutput) ToEnvironmentApiRevisionDeploymentMapOutputWithContext(ctx context.Context) EnvironmentApiRevisionDeploymentMapOutput {
	return o
}

func (o EnvironmentApiRevisionDeploymentMapOutput) MapIndex(k pulumi.StringInput) EnvironmentApiRevisionDeploymentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *EnvironmentApiRevisionDeployment {
		return vs[0].(map[string]*EnvironmentApiRevisionDeployment)[vs[1].(string)]
	}).(EnvironmentApiRevisionDeploymentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*EnvironmentApiRevisionDeploymentInput)(nil)).Elem(), &EnvironmentApiRevisionDeployment{})
	pulumi.RegisterInputType(reflect.TypeOf((*EnvironmentApiRevisionDeploymentArrayInput)(nil)).Elem(), EnvironmentApiRevisionDeploymentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*EnvironmentApiRevisionDeploymentMapInput)(nil)).Elem(), EnvironmentApiRevisionDeploymentMap{})
	pulumi.RegisterOutputType(EnvironmentApiRevisionDeploymentOutput{})
	pulumi.RegisterOutputType(EnvironmentApiRevisionDeploymentArrayOutput{})
	pulumi.RegisterOutputType(EnvironmentApiRevisionDeploymentMapOutput{})
}
