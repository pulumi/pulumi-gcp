// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package biglake

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Three different resources help you manage your IAM policy for Biglake IcebergNamespace. Each of these resources serves a different use case:
//
// * `biglake.IcebergNamespaceIamPolicy`: Authoritative. Sets the IAM policy for the icebergnamespace and replaces any existing policy already attached.
// * `biglake.IcebergNamespaceIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the icebergnamespace are preserved.
// * `biglake.IcebergNamespaceIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the icebergnamespace are preserved.
//
// # A data source can be used to retrieve policy data in advent you do not need creation
//
// * `biglake.IcebergNamespaceIamPolicy`: Retrieves the IAM policy for the icebergnamespace
//
// > **Note:** `biglake.IcebergNamespaceIamPolicy` **cannot** be used in conjunction with `biglake.IcebergNamespaceIamBinding` and `biglake.IcebergNamespaceIamMember` or they will fight over what your policy should be.
//
// > **Note:** `biglake.IcebergNamespaceIamBinding` resources **can be** used in conjunction with `biglake.IcebergNamespaceIamMember` resources **only if** they do not grant privilege to the same role.
//
// ## biglake.IcebergNamespaceIamPolicy
//
// ## Import
//
// For all import syntaxes, the "resource in question" can take any of the following forms:
//
// * projects/{{project}}/catalogs/{{catalog}}/namespaces/{{namespace_id}}
// * {{project}}/{{catalog}}/{{namespace_id}}
// * {{catalog}}/{{namespace_id}}
// * {{namespace_id}}
//
// Any variables not passed in the import command will be taken from the provider configuration.
//
// Biglake icebergnamespace IAM resources can be imported using the resource identifiers, role, and member.
//
// IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.
// ```sh
// $ terraform import google_biglake_iceberg_namespace_iam_member.editor "projects/{{project}}/catalogs/{{catalog}}/namespaces/{{namespace_id}} roles/biglake.editor user:jane@example.com"
// ```
//
// IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.
// ```sh
// $ terraform import google_biglake_iceberg_namespace_iam_binding.editor "projects/{{project}}/catalogs/{{catalog}}/namespaces/{{namespace_id}} roles/biglake.editor"
// ```
//
// IAM policy imports use the identifier of the resource in question, e.g.
// ```sh
// $ pulumi import gcp:biglake/icebergNamespaceIamPolicy:IcebergNamespaceIamPolicy editor projects/{{project}}/catalogs/{{catalog}}/namespaces/{{namespace_id}}
// ```
//
// > **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the
//
//	full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.
type IcebergNamespaceIamPolicy struct {
	pulumi.CustomResourceState

	// The name of the IcebergCatalog.
	// Used to find the parent resource to bind the IAM policy to
	Catalog pulumi.StringOutput `pulumi:"catalog"`
	// (Computed) The etag of the IAM policy.
	Etag pulumi.StringOutput `pulumi:"etag"`
	// Used to find the parent resource to bind the IAM policy to
	NamespaceId pulumi.StringOutput `pulumi:"namespaceId"`
	// The policy data generated by
	// a `organizations.getIAMPolicy` data source.
	PolicyData pulumi.StringOutput `pulumi:"policyData"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
}

// NewIcebergNamespaceIamPolicy registers a new resource with the given unique name, arguments, and options.
func NewIcebergNamespaceIamPolicy(ctx *pulumi.Context,
	name string, args *IcebergNamespaceIamPolicyArgs, opts ...pulumi.ResourceOption) (*IcebergNamespaceIamPolicy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Catalog == nil {
		return nil, errors.New("invalid value for required argument 'Catalog'")
	}
	if args.NamespaceId == nil {
		return nil, errors.New("invalid value for required argument 'NamespaceId'")
	}
	if args.PolicyData == nil {
		return nil, errors.New("invalid value for required argument 'PolicyData'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource IcebergNamespaceIamPolicy
	err := ctx.RegisterResource("gcp:biglake/icebergNamespaceIamPolicy:IcebergNamespaceIamPolicy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetIcebergNamespaceIamPolicy gets an existing IcebergNamespaceIamPolicy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetIcebergNamespaceIamPolicy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *IcebergNamespaceIamPolicyState, opts ...pulumi.ResourceOption) (*IcebergNamespaceIamPolicy, error) {
	var resource IcebergNamespaceIamPolicy
	err := ctx.ReadResource("gcp:biglake/icebergNamespaceIamPolicy:IcebergNamespaceIamPolicy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering IcebergNamespaceIamPolicy resources.
type icebergNamespaceIamPolicyState struct {
	// The name of the IcebergCatalog.
	// Used to find the parent resource to bind the IAM policy to
	Catalog *string `pulumi:"catalog"`
	// (Computed) The etag of the IAM policy.
	Etag *string `pulumi:"etag"`
	// Used to find the parent resource to bind the IAM policy to
	NamespaceId *string `pulumi:"namespaceId"`
	// The policy data generated by
	// a `organizations.getIAMPolicy` data source.
	PolicyData *string `pulumi:"policyData"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
	Project *string `pulumi:"project"`
}

type IcebergNamespaceIamPolicyState struct {
	// The name of the IcebergCatalog.
	// Used to find the parent resource to bind the IAM policy to
	Catalog pulumi.StringPtrInput
	// (Computed) The etag of the IAM policy.
	Etag pulumi.StringPtrInput
	// Used to find the parent resource to bind the IAM policy to
	NamespaceId pulumi.StringPtrInput
	// The policy data generated by
	// a `organizations.getIAMPolicy` data source.
	PolicyData pulumi.StringPtrInput
	// The ID of the project in which the resource belongs.
	// If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
	Project pulumi.StringPtrInput
}

func (IcebergNamespaceIamPolicyState) ElementType() reflect.Type {
	return reflect.TypeOf((*icebergNamespaceIamPolicyState)(nil)).Elem()
}

type icebergNamespaceIamPolicyArgs struct {
	// The name of the IcebergCatalog.
	// Used to find the parent resource to bind the IAM policy to
	Catalog string `pulumi:"catalog"`
	// Used to find the parent resource to bind the IAM policy to
	NamespaceId string `pulumi:"namespaceId"`
	// The policy data generated by
	// a `organizations.getIAMPolicy` data source.
	PolicyData string `pulumi:"policyData"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
	Project *string `pulumi:"project"`
}

// The set of arguments for constructing a IcebergNamespaceIamPolicy resource.
type IcebergNamespaceIamPolicyArgs struct {
	// The name of the IcebergCatalog.
	// Used to find the parent resource to bind the IAM policy to
	Catalog pulumi.StringInput
	// Used to find the parent resource to bind the IAM policy to
	NamespaceId pulumi.StringInput
	// The policy data generated by
	// a `organizations.getIAMPolicy` data source.
	PolicyData pulumi.StringInput
	// The ID of the project in which the resource belongs.
	// If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
	Project pulumi.StringPtrInput
}

func (IcebergNamespaceIamPolicyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*icebergNamespaceIamPolicyArgs)(nil)).Elem()
}

type IcebergNamespaceIamPolicyInput interface {
	pulumi.Input

	ToIcebergNamespaceIamPolicyOutput() IcebergNamespaceIamPolicyOutput
	ToIcebergNamespaceIamPolicyOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyOutput
}

func (*IcebergNamespaceIamPolicy) ElementType() reflect.Type {
	return reflect.TypeOf((**IcebergNamespaceIamPolicy)(nil)).Elem()
}

func (i *IcebergNamespaceIamPolicy) ToIcebergNamespaceIamPolicyOutput() IcebergNamespaceIamPolicyOutput {
	return i.ToIcebergNamespaceIamPolicyOutputWithContext(context.Background())
}

func (i *IcebergNamespaceIamPolicy) ToIcebergNamespaceIamPolicyOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IcebergNamespaceIamPolicyOutput)
}

// IcebergNamespaceIamPolicyArrayInput is an input type that accepts IcebergNamespaceIamPolicyArray and IcebergNamespaceIamPolicyArrayOutput values.
// You can construct a concrete instance of `IcebergNamespaceIamPolicyArrayInput` via:
//
//	IcebergNamespaceIamPolicyArray{ IcebergNamespaceIamPolicyArgs{...} }
type IcebergNamespaceIamPolicyArrayInput interface {
	pulumi.Input

	ToIcebergNamespaceIamPolicyArrayOutput() IcebergNamespaceIamPolicyArrayOutput
	ToIcebergNamespaceIamPolicyArrayOutputWithContext(context.Context) IcebergNamespaceIamPolicyArrayOutput
}

type IcebergNamespaceIamPolicyArray []IcebergNamespaceIamPolicyInput

func (IcebergNamespaceIamPolicyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IcebergNamespaceIamPolicy)(nil)).Elem()
}

func (i IcebergNamespaceIamPolicyArray) ToIcebergNamespaceIamPolicyArrayOutput() IcebergNamespaceIamPolicyArrayOutput {
	return i.ToIcebergNamespaceIamPolicyArrayOutputWithContext(context.Background())
}

func (i IcebergNamespaceIamPolicyArray) ToIcebergNamespaceIamPolicyArrayOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IcebergNamespaceIamPolicyArrayOutput)
}

// IcebergNamespaceIamPolicyMapInput is an input type that accepts IcebergNamespaceIamPolicyMap and IcebergNamespaceIamPolicyMapOutput values.
// You can construct a concrete instance of `IcebergNamespaceIamPolicyMapInput` via:
//
//	IcebergNamespaceIamPolicyMap{ "key": IcebergNamespaceIamPolicyArgs{...} }
type IcebergNamespaceIamPolicyMapInput interface {
	pulumi.Input

	ToIcebergNamespaceIamPolicyMapOutput() IcebergNamespaceIamPolicyMapOutput
	ToIcebergNamespaceIamPolicyMapOutputWithContext(context.Context) IcebergNamespaceIamPolicyMapOutput
}

type IcebergNamespaceIamPolicyMap map[string]IcebergNamespaceIamPolicyInput

func (IcebergNamespaceIamPolicyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IcebergNamespaceIamPolicy)(nil)).Elem()
}

func (i IcebergNamespaceIamPolicyMap) ToIcebergNamespaceIamPolicyMapOutput() IcebergNamespaceIamPolicyMapOutput {
	return i.ToIcebergNamespaceIamPolicyMapOutputWithContext(context.Background())
}

func (i IcebergNamespaceIamPolicyMap) ToIcebergNamespaceIamPolicyMapOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IcebergNamespaceIamPolicyMapOutput)
}

type IcebergNamespaceIamPolicyOutput struct{ *pulumi.OutputState }

func (IcebergNamespaceIamPolicyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**IcebergNamespaceIamPolicy)(nil)).Elem()
}

func (o IcebergNamespaceIamPolicyOutput) ToIcebergNamespaceIamPolicyOutput() IcebergNamespaceIamPolicyOutput {
	return o
}

func (o IcebergNamespaceIamPolicyOutput) ToIcebergNamespaceIamPolicyOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyOutput {
	return o
}

// The name of the IcebergCatalog.
// Used to find the parent resource to bind the IAM policy to
func (o IcebergNamespaceIamPolicyOutput) Catalog() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergNamespaceIamPolicy) pulumi.StringOutput { return v.Catalog }).(pulumi.StringOutput)
}

// (Computed) The etag of the IAM policy.
func (o IcebergNamespaceIamPolicyOutput) Etag() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergNamespaceIamPolicy) pulumi.StringOutput { return v.Etag }).(pulumi.StringOutput)
}

// Used to find the parent resource to bind the IAM policy to
func (o IcebergNamespaceIamPolicyOutput) NamespaceId() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergNamespaceIamPolicy) pulumi.StringOutput { return v.NamespaceId }).(pulumi.StringOutput)
}

// The policy data generated by
// a `organizations.getIAMPolicy` data source.
func (o IcebergNamespaceIamPolicyOutput) PolicyData() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergNamespaceIamPolicy) pulumi.StringOutput { return v.PolicyData }).(pulumi.StringOutput)
}

// The ID of the project in which the resource belongs.
// If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
func (o IcebergNamespaceIamPolicyOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergNamespaceIamPolicy) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

type IcebergNamespaceIamPolicyArrayOutput struct{ *pulumi.OutputState }

func (IcebergNamespaceIamPolicyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IcebergNamespaceIamPolicy)(nil)).Elem()
}

func (o IcebergNamespaceIamPolicyArrayOutput) ToIcebergNamespaceIamPolicyArrayOutput() IcebergNamespaceIamPolicyArrayOutput {
	return o
}

func (o IcebergNamespaceIamPolicyArrayOutput) ToIcebergNamespaceIamPolicyArrayOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyArrayOutput {
	return o
}

func (o IcebergNamespaceIamPolicyArrayOutput) Index(i pulumi.IntInput) IcebergNamespaceIamPolicyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *IcebergNamespaceIamPolicy {
		return vs[0].([]*IcebergNamespaceIamPolicy)[vs[1].(int)]
	}).(IcebergNamespaceIamPolicyOutput)
}

type IcebergNamespaceIamPolicyMapOutput struct{ *pulumi.OutputState }

func (IcebergNamespaceIamPolicyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IcebergNamespaceIamPolicy)(nil)).Elem()
}

func (o IcebergNamespaceIamPolicyMapOutput) ToIcebergNamespaceIamPolicyMapOutput() IcebergNamespaceIamPolicyMapOutput {
	return o
}

func (o IcebergNamespaceIamPolicyMapOutput) ToIcebergNamespaceIamPolicyMapOutputWithContext(ctx context.Context) IcebergNamespaceIamPolicyMapOutput {
	return o
}

func (o IcebergNamespaceIamPolicyMapOutput) MapIndex(k pulumi.StringInput) IcebergNamespaceIamPolicyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *IcebergNamespaceIamPolicy {
		return vs[0].(map[string]*IcebergNamespaceIamPolicy)[vs[1].(string)]
	}).(IcebergNamespaceIamPolicyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*IcebergNamespaceIamPolicyInput)(nil)).Elem(), &IcebergNamespaceIamPolicy{})
	pulumi.RegisterInputType(reflect.TypeOf((*IcebergNamespaceIamPolicyArrayInput)(nil)).Elem(), IcebergNamespaceIamPolicyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*IcebergNamespaceIamPolicyMapInput)(nil)).Elem(), IcebergNamespaceIamPolicyMap{})
	pulumi.RegisterOutputType(IcebergNamespaceIamPolicyOutput{})
	pulumi.RegisterOutputType(IcebergNamespaceIamPolicyArrayOutput{})
	pulumi.RegisterOutputType(IcebergNamespaceIamPolicyMapOutput{})
}
