// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package biglake

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// IcebergCatalogs are top-level containers for Apache Iceberg REST Catalog served Namespaces and Tables.
//
// To get more information about IcebergCatalog, see:
// * How-to Guides
//   - [Use the BigLake metastore Iceberg REST catalog](https://docs.cloud.google.com/biglake/docs/blms-rest-catalog)
//
// > **Warning:** If you are using User ADCs (Application Default Credentials) with this resource's IAM,
// you must specify a `billingProject` and set `userProjectOverride` to true
// in the provider configuration. Otherwise the IAM API will return 403s.
// Your account must have the `serviceusage.services.use` permission on the
// `billingProject` you defined.
//
// ## Example Usage
//
// ### Biglake Iceberg Catalog
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/biglake"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/storage"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			bucketForMyIcebergCatalog, err := storage.NewBucket(ctx, "bucket_for_my_iceberg_catalog", &storage.BucketArgs{
//				Name:                     pulumi.String("my_iceberg_catalog"),
//				Location:                 pulumi.String("us-central1"),
//				ForceDestroy:             pulumi.Bool(true),
//				UniformBucketLevelAccess: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = biglake.NewIcebergCatalog(ctx, "my_iceberg_catalog", &biglake.IcebergCatalogArgs{
//				Name:        pulumi.String("my_iceberg_catalog"),
//				CatalogType: pulumi.String("CATALOG_TYPE_GCS_BUCKET"),
//			}, pulumi.DependsOn([]pulumi.Resource{
//				bucketForMyIcebergCatalog,
//			}))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// IcebergCatalog can be imported using any of these accepted formats:
//
// * `iceberg/v1/restcatalog/extensions/projects/{{project}}/catalogs/{{name}}`
//
// * `{{project}}/{{name}}`
//
// * `{{name}}`
//
// When using the `pulumi import` command, IcebergCatalog can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:biglake/icebergCatalog:IcebergCatalog default iceberg/v1/restcatalog/extensions/projects/{{project}}/catalogs/{{name}}
// ```
//
// ```sh
// $ pulumi import gcp:biglake/icebergCatalog:IcebergCatalog default {{project}}/{{name}}
// ```
//
// ```sh
// $ pulumi import gcp:biglake/icebergCatalog:IcebergCatalog default {{name}}
// ```
type IcebergCatalog struct {
	pulumi.CustomResourceState

	// Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.
	BiglakeServiceAccount pulumi.StringOutput `pulumi:"biglakeServiceAccount"`
	// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
	// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
	CatalogType pulumi.StringOutput `pulumi:"catalogType"`
	// Output only. The creation time of the IcebergCatalog.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
	// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
	CredentialMode pulumi.StringOutput `pulumi:"credentialMode"`
	// Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.
	DefaultLocation pulumi.StringOutput `pulumi:"defaultLocation"`
	// The name of the IcebergCatalog. Format:
	// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
	Name pulumi.StringOutput `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
	// Output only. The replicas for the catalog metadata.
	// Structure is documented below.
	Replicas IcebergCatalogReplicaArrayOutput `pulumi:"replicas"`
	// Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `nam4` or `us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.
	StorageRegions pulumi.StringArrayOutput `pulumi:"storageRegions"`
	// Output only. The last modification time of the IcebergCatalog.
	UpdateTime pulumi.StringOutput `pulumi:"updateTime"`
}

// NewIcebergCatalog registers a new resource with the given unique name, arguments, and options.
func NewIcebergCatalog(ctx *pulumi.Context,
	name string, args *IcebergCatalogArgs, opts ...pulumi.ResourceOption) (*IcebergCatalog, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CatalogType == nil {
		return nil, errors.New("invalid value for required argument 'CatalogType'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource IcebergCatalog
	err := ctx.RegisterResource("gcp:biglake/icebergCatalog:IcebergCatalog", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetIcebergCatalog gets an existing IcebergCatalog resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetIcebergCatalog(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *IcebergCatalogState, opts ...pulumi.ResourceOption) (*IcebergCatalog, error) {
	var resource IcebergCatalog
	err := ctx.ReadResource("gcp:biglake/icebergCatalog:IcebergCatalog", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering IcebergCatalog resources.
type icebergCatalogState struct {
	// Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.
	BiglakeServiceAccount *string `pulumi:"biglakeServiceAccount"`
	// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
	// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
	CatalogType *string `pulumi:"catalogType"`
	// Output only. The creation time of the IcebergCatalog.
	CreateTime *string `pulumi:"createTime"`
	// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
	// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
	CredentialMode *string `pulumi:"credentialMode"`
	// Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.
	DefaultLocation *string `pulumi:"defaultLocation"`
	// The name of the IcebergCatalog. Format:
	// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
	Name *string `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// Output only. The replicas for the catalog metadata.
	// Structure is documented below.
	Replicas []IcebergCatalogReplica `pulumi:"replicas"`
	// Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `nam4` or `us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.
	StorageRegions []string `pulumi:"storageRegions"`
	// Output only. The last modification time of the IcebergCatalog.
	UpdateTime *string `pulumi:"updateTime"`
}

type IcebergCatalogState struct {
	// Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.
	BiglakeServiceAccount pulumi.StringPtrInput
	// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
	// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
	CatalogType pulumi.StringPtrInput
	// Output only. The creation time of the IcebergCatalog.
	CreateTime pulumi.StringPtrInput
	// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
	// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
	CredentialMode pulumi.StringPtrInput
	// Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.
	DefaultLocation pulumi.StringPtrInput
	// The name of the IcebergCatalog. Format:
	// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
	Name pulumi.StringPtrInput
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// Output only. The replicas for the catalog metadata.
	// Structure is documented below.
	Replicas IcebergCatalogReplicaArrayInput
	// Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `nam4` or `us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.
	StorageRegions pulumi.StringArrayInput
	// Output only. The last modification time of the IcebergCatalog.
	UpdateTime pulumi.StringPtrInput
}

func (IcebergCatalogState) ElementType() reflect.Type {
	return reflect.TypeOf((*icebergCatalogState)(nil)).Elem()
}

type icebergCatalogArgs struct {
	// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
	// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
	CatalogType string `pulumi:"catalogType"`
	// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
	// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
	CredentialMode *string `pulumi:"credentialMode"`
	// The name of the IcebergCatalog. Format:
	// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
	Name *string `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project *string `pulumi:"project"`
}

// The set of arguments for constructing a IcebergCatalog resource.
type IcebergCatalogArgs struct {
	// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
	// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
	CatalogType pulumi.StringInput
	// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
	// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
	CredentialMode pulumi.StringPtrInput
	// The name of the IcebergCatalog. Format:
	// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
	Name pulumi.StringPtrInput
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project pulumi.StringPtrInput
}

func (IcebergCatalogArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*icebergCatalogArgs)(nil)).Elem()
}

type IcebergCatalogInput interface {
	pulumi.Input

	ToIcebergCatalogOutput() IcebergCatalogOutput
	ToIcebergCatalogOutputWithContext(ctx context.Context) IcebergCatalogOutput
}

func (*IcebergCatalog) ElementType() reflect.Type {
	return reflect.TypeOf((**IcebergCatalog)(nil)).Elem()
}

func (i *IcebergCatalog) ToIcebergCatalogOutput() IcebergCatalogOutput {
	return i.ToIcebergCatalogOutputWithContext(context.Background())
}

func (i *IcebergCatalog) ToIcebergCatalogOutputWithContext(ctx context.Context) IcebergCatalogOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IcebergCatalogOutput)
}

// IcebergCatalogArrayInput is an input type that accepts IcebergCatalogArray and IcebergCatalogArrayOutput values.
// You can construct a concrete instance of `IcebergCatalogArrayInput` via:
//
//	IcebergCatalogArray{ IcebergCatalogArgs{...} }
type IcebergCatalogArrayInput interface {
	pulumi.Input

	ToIcebergCatalogArrayOutput() IcebergCatalogArrayOutput
	ToIcebergCatalogArrayOutputWithContext(context.Context) IcebergCatalogArrayOutput
}

type IcebergCatalogArray []IcebergCatalogInput

func (IcebergCatalogArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IcebergCatalog)(nil)).Elem()
}

func (i IcebergCatalogArray) ToIcebergCatalogArrayOutput() IcebergCatalogArrayOutput {
	return i.ToIcebergCatalogArrayOutputWithContext(context.Background())
}

func (i IcebergCatalogArray) ToIcebergCatalogArrayOutputWithContext(ctx context.Context) IcebergCatalogArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IcebergCatalogArrayOutput)
}

// IcebergCatalogMapInput is an input type that accepts IcebergCatalogMap and IcebergCatalogMapOutput values.
// You can construct a concrete instance of `IcebergCatalogMapInput` via:
//
//	IcebergCatalogMap{ "key": IcebergCatalogArgs{...} }
type IcebergCatalogMapInput interface {
	pulumi.Input

	ToIcebergCatalogMapOutput() IcebergCatalogMapOutput
	ToIcebergCatalogMapOutputWithContext(context.Context) IcebergCatalogMapOutput
}

type IcebergCatalogMap map[string]IcebergCatalogInput

func (IcebergCatalogMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IcebergCatalog)(nil)).Elem()
}

func (i IcebergCatalogMap) ToIcebergCatalogMapOutput() IcebergCatalogMapOutput {
	return i.ToIcebergCatalogMapOutputWithContext(context.Background())
}

func (i IcebergCatalogMap) ToIcebergCatalogMapOutputWithContext(ctx context.Context) IcebergCatalogMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IcebergCatalogMapOutput)
}

type IcebergCatalogOutput struct{ *pulumi.OutputState }

func (IcebergCatalogOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**IcebergCatalog)(nil)).Elem()
}

func (o IcebergCatalogOutput) ToIcebergCatalogOutput() IcebergCatalogOutput {
	return o
}

func (o IcebergCatalogOutput) ToIcebergCatalogOutputWithContext(ctx context.Context) IcebergCatalogOutput {
	return o
}

// Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.
func (o IcebergCatalogOutput) BiglakeServiceAccount() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.BiglakeServiceAccount }).(pulumi.StringOutput)
}

// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
func (o IcebergCatalogOutput) CatalogType() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.CatalogType }).(pulumi.StringOutput)
}

// Output only. The creation time of the IcebergCatalog.
func (o IcebergCatalogOutput) CreateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.CreateTime }).(pulumi.StringOutput)
}

// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
func (o IcebergCatalogOutput) CredentialMode() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.CredentialMode }).(pulumi.StringOutput)
}

// Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.
func (o IcebergCatalogOutput) DefaultLocation() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.DefaultLocation }).(pulumi.StringOutput)
}

// The name of the IcebergCatalog. Format:
// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
func (o IcebergCatalogOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The ID of the project in which the resource belongs.
// If it is not provided, the provider project is used.
func (o IcebergCatalogOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// Output only. The replicas for the catalog metadata.
// Structure is documented below.
func (o IcebergCatalogOutput) Replicas() IcebergCatalogReplicaArrayOutput {
	return o.ApplyT(func(v *IcebergCatalog) IcebergCatalogReplicaArrayOutput { return v.Replicas }).(IcebergCatalogReplicaArrayOutput)
}

// Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `nam4` or `us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.
func (o IcebergCatalogOutput) StorageRegions() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringArrayOutput { return v.StorageRegions }).(pulumi.StringArrayOutput)
}

// Output only. The last modification time of the IcebergCatalog.
func (o IcebergCatalogOutput) UpdateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *IcebergCatalog) pulumi.StringOutput { return v.UpdateTime }).(pulumi.StringOutput)
}

type IcebergCatalogArrayOutput struct{ *pulumi.OutputState }

func (IcebergCatalogArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IcebergCatalog)(nil)).Elem()
}

func (o IcebergCatalogArrayOutput) ToIcebergCatalogArrayOutput() IcebergCatalogArrayOutput {
	return o
}

func (o IcebergCatalogArrayOutput) ToIcebergCatalogArrayOutputWithContext(ctx context.Context) IcebergCatalogArrayOutput {
	return o
}

func (o IcebergCatalogArrayOutput) Index(i pulumi.IntInput) IcebergCatalogOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *IcebergCatalog {
		return vs[0].([]*IcebergCatalog)[vs[1].(int)]
	}).(IcebergCatalogOutput)
}

type IcebergCatalogMapOutput struct{ *pulumi.OutputState }

func (IcebergCatalogMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IcebergCatalog)(nil)).Elem()
}

func (o IcebergCatalogMapOutput) ToIcebergCatalogMapOutput() IcebergCatalogMapOutput {
	return o
}

func (o IcebergCatalogMapOutput) ToIcebergCatalogMapOutputWithContext(ctx context.Context) IcebergCatalogMapOutput {
	return o
}

func (o IcebergCatalogMapOutput) MapIndex(k pulumi.StringInput) IcebergCatalogOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *IcebergCatalog {
		return vs[0].(map[string]*IcebergCatalog)[vs[1].(string)]
	}).(IcebergCatalogOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*IcebergCatalogInput)(nil)).Elem(), &IcebergCatalog{})
	pulumi.RegisterInputType(reflect.TypeOf((*IcebergCatalogArrayInput)(nil)).Elem(), IcebergCatalogArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*IcebergCatalogMapInput)(nil)).Elem(), IcebergCatalogMap{})
	pulumi.RegisterOutputType(IcebergCatalogOutput{})
	pulumi.RegisterOutputType(IcebergCatalogArrayOutput{})
	pulumi.RegisterOutputType(IcebergCatalogMapOutput{})
}
