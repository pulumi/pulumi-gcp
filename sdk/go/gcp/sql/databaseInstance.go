// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package sql

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a new Google SQL Database Instance. For more information, see the [official documentation](https://cloud.google.com/sql/docs/mysql/create-instance),
// or the [JSON API](https://cloud.google.com/sql/docs/admin-api/v1beta4/instances).
//
// > **NOTE on `sql.DatabaseInstance`:** - Second-generation instances include a
// default 'root'@'%' user with no password. This user will be deleted by the provider on
// instance creation. You should use `sql.User` to define a custom user with
// a restricted host and strong password.
//
// > **Note**: On newer versions of the provider, you must explicitly set `deletion_protection=false`
// (and run `pulumi update` to write the field to state) in order to destroy an instance.
// It is recommended to not set this field (or set it to true) until you're ready to destroy the instance and its databases.
//
// ## Example Usage
//
// ### SQL Second Generation Instance
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/sql"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := sql.NewDatabaseInstance(ctx, "main", &sql.DatabaseInstanceArgs{
//				Name:            pulumi.String("main-instance"),
//				DatabaseVersion: pulumi.String("POSTGRES_15"),
//				Region:          pulumi.String("us-central1"),
//				Settings: &sql.DatabaseInstanceSettingsArgs{
//					Tier: pulumi.String("db-f1-micro"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Private IP Instance
// > **NOTE:** For private IP instance setup, note that the `sql.DatabaseInstance` does not actually interpolate values from `servicenetworking.Connection`. You must explicitly add a `dependsOn`reference as shown below.
//
// ```go
// package main
//
// import (
//
//	"fmt"
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/compute"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/servicenetworking"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/sql"
//	"github.com/pulumi/pulumi-random/sdk/v4/go/random"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			privateNetwork, err := compute.NewNetwork(ctx, "private_network", &compute.NetworkArgs{
//				Name: pulumi.String("private-network"),
//			})
//			if err != nil {
//				return err
//			}
//			privateIpAddress, err := compute.NewGlobalAddress(ctx, "private_ip_address", &compute.GlobalAddressArgs{
//				Name:         pulumi.String("private-ip-address"),
//				Purpose:      pulumi.String("VPC_PEERING"),
//				AddressType:  pulumi.String("INTERNAL"),
//				PrefixLength: pulumi.Int(16),
//				Network:      privateNetwork.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			privateVpcConnection, err := servicenetworking.NewConnection(ctx, "private_vpc_connection", &servicenetworking.ConnectionArgs{
//				Network: privateNetwork.ID(),
//				Service: pulumi.String("servicenetworking.googleapis.com"),
//				ReservedPeeringRanges: pulumi.StringArray{
//					privateIpAddress.Name,
//				},
//			})
//			if err != nil {
//				return err
//			}
//			dbNameSuffix, err := random.NewRandomId(ctx, "db_name_suffix", &random.RandomIdArgs{
//				ByteLength: pulumi.Int(4),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = sql.NewDatabaseInstance(ctx, "instance", &sql.DatabaseInstanceArgs{
//				Name: dbNameSuffix.Hex.ApplyT(func(hex string) (string, error) {
//					return fmt.Sprintf("private-instance-%v", hex), nil
//				}).(pulumi.StringOutput),
//				Region:          pulumi.String("us-central1"),
//				DatabaseVersion: pulumi.String("MYSQL_5_7"),
//				Settings: &sql.DatabaseInstanceSettingsArgs{
//					Tier: pulumi.String("db-f1-micro"),
//					IpConfiguration: &sql.DatabaseInstanceSettingsIpConfigurationArgs{
//						Ipv4Enabled:                             pulumi.Bool(false),
//						PrivateNetwork:                          privateNetwork.SelfLink,
//						EnablePrivatePathForGoogleCloudServices: pulumi.Bool(true),
//					},
//				},
//			}, pulumi.DependsOn([]pulumi.Resource{
//				privateVpcConnection,
//			}))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### ENTERPRISE_PLUS Instance with dataCacheConfig
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/sql"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := sql.NewDatabaseInstance(ctx, "main", &sql.DatabaseInstanceArgs{
//				Name:            pulumi.String("enterprise-plus-main-instance"),
//				DatabaseVersion: pulumi.String("MYSQL_8_0_31"),
//				Settings: &sql.DatabaseInstanceSettingsArgs{
//					Tier:    pulumi.String("db-perf-optimized-N-2"),
//					Edition: pulumi.String("ENTERPRISE_PLUS"),
//					DataCacheConfig: &sql.DatabaseInstanceSettingsDataCacheConfigArgs{
//						DataCacheEnabled: pulumi.Bool(true),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Cloud SQL Instance with PSC connectivity
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/sql"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := sql.NewDatabaseInstance(ctx, "main", &sql.DatabaseInstanceArgs{
//				Name:            pulumi.String("psc-enabled-main-instance"),
//				DatabaseVersion: pulumi.String("MYSQL_8_0"),
//				Settings: &sql.DatabaseInstanceSettingsArgs{
//					Tier: pulumi.String("db-f1-micro"),
//					IpConfiguration: &sql.DatabaseInstanceSettingsIpConfigurationArgs{
//						PscConfigs: sql.DatabaseInstanceSettingsIpConfigurationPscConfigArray{
//							&sql.DatabaseInstanceSettingsIpConfigurationPscConfigArgs{
//								PscEnabled: pulumi.Bool(true),
//								AllowedConsumerProjects: pulumi.StringArray{
//									pulumi.String("allowed-consumer-project-name"),
//								},
//							},
//						},
//						Ipv4Enabled: pulumi.Bool(false),
//					},
//					BackupConfiguration: &sql.DatabaseInstanceSettingsBackupConfigurationArgs{
//						Enabled:          pulumi.Bool(true),
//						BinaryLogEnabled: pulumi.Bool(true),
//					},
//					AvailabilityType: pulumi.String("REGIONAL"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Cloud SQL Instance with PSC auto connections
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/sql"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := sql.NewDatabaseInstance(ctx, "main", &sql.DatabaseInstanceArgs{
//				Name:            pulumi.String("psc-enabled-main-instance"),
//				DatabaseVersion: pulumi.String("MYSQL_8_0"),
//				Settings: &sql.DatabaseInstanceSettingsArgs{
//					Tier: pulumi.String("db-f1-micro"),
//					IpConfiguration: &sql.DatabaseInstanceSettingsIpConfigurationArgs{
//						PscConfigs: sql.DatabaseInstanceSettingsIpConfigurationPscConfigArray{
//							&sql.DatabaseInstanceSettingsIpConfigurationPscConfigArgs{
//								PscEnabled: pulumi.Bool(true),
//								AllowedConsumerProjects: pulumi.StringArray{
//									pulumi.String("allowed-consumer-project-name"),
//								},
//								PscAutoConnections: sql.DatabaseInstanceSettingsIpConfigurationPscConfigPscAutoConnectionArray{
//									&sql.DatabaseInstanceSettingsIpConfigurationPscConfigPscAutoConnectionArgs{
//										ConsumerNetwork:          pulumi.String("network-name"),
//										ConsumerServiceProjectId: pulumi.String("project-id"),
//									},
//								},
//							},
//						},
//						Ipv4Enabled: pulumi.Bool(false),
//					},
//					BackupConfiguration: &sql.DatabaseInstanceSettingsBackupConfigurationArgs{
//						Enabled:          pulumi.Bool(true),
//						BinaryLogEnabled: pulumi.Bool(true),
//					},
//					AvailabilityType: pulumi.String("REGIONAL"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Cloud SQL Instance with PSC outbound
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/sql"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := sql.NewDatabaseInstance(ctx, "main", &sql.DatabaseInstanceArgs{
//				Name:            pulumi.String("psc-enabled-main-instance"),
//				DatabaseVersion: pulumi.String("MYSQL_8_0"),
//				Settings: &sql.DatabaseInstanceSettingsArgs{
//					Tier: pulumi.String("db-f1-micro"),
//					IpConfiguration: &sql.DatabaseInstanceSettingsIpConfigurationArgs{
//						PscConfigs: sql.DatabaseInstanceSettingsIpConfigurationPscConfigArray{
//							&sql.DatabaseInstanceSettingsIpConfigurationPscConfigArgs{
//								PscEnabled: pulumi.Bool(true),
//								AllowedConsumerProjects: pulumi.StringArray{
//									pulumi.String("allowed-consumer-project-name"),
//								},
//								NetworkAttachmentUri: pulumi.String("network-attachment-uri"),
//							},
//						},
//						Ipv4Enabled: pulumi.Bool(false),
//					},
//					BackupConfiguration: &sql.DatabaseInstanceSettingsBackupConfigurationArgs{
//						Enabled:          pulumi.Bool(true),
//						BinaryLogEnabled: pulumi.Bool(true),
//					},
//					AvailabilityType: pulumi.String("REGIONAL"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Switchover
//
// Users can perform a switchover on a replica by following the steps below.
//
//	~>**WARNING:** Failure to follow these steps can lead to data loss (You will be warned during plan stage). To prevent data loss during a switchover, please verify your plan with the checklist below.
//
// # For a more in-depth walkthrough with example code, see the Switchover Guide
//
// ### Steps to Invoke Switchover
//
// MySQL/PostgreSQL: Create a cross-region, Enterprise Plus edition primary and replica pair, then set the value of primary's `replication_cluster.failover_dr_replica_name` as the replica.
//
// SQL Server: Create a `cascadable` replica in a different region from the primary (`cascadableReplica` is set to true in `replicaConfiguration`)
//
// #### Invoking switchover in the replica resource:
// 1. Change instanceType from `READ_REPLICA_INSTANCE` to `CLOUD_SQL_INSTANCE`
// 2. Remove `masterInstanceName`
// 3. (SQL Server) Remove `replicaConfiguration`
// 4. Add current primary's name to the replica's `replicaNames` list
// 5. (MySQL/PostgreSQL) Add current primary's name to the replica's `replication_cluster.failover_dr_replica_name`.
// 6. (MySQL/PostgreSQL) Adjust `backupConfiguration`. See Switchover Guide for details.
//
// #### Updating the primary resource:
// 1. Change `instanceType` from `CLOUD_SQL_INSTANCE` to `READ_REPLICA_INSTANCE`
// 2. Set `masterInstanceName` to the original replica (which will be primary after switchover)
// 3. (SQL Server) Set `replicaConfiguration` and set `cascadableReplica` to `true`
// 4. Remove original replica from `replicaNames`
//   - **NOTE**: Do **not** delete the replicaNames field, even if it has no replicas remaining. Set replicaNames = [ ] to indicate it having no replicas.
//
// 5. (MySQL/PostgreSQL) Set `replication_cluster.failover_dr_replica_name` as the empty string.
// 6. (MySQL/PostgreSQL) Adjust `backupConfiguration`. See Switchover Guide for details.
// #### Plan and verify that:
// - `pulumi preview` outputs **"0 to add, 0 to destroy"**
// - `pulumi preview` does not say **"must be replaced"** for any resource
// - Every resource **"will be updated in-place"**
// - Only the 2 instances involved in switchover have planned changes
// - (Recommended) Use `deletionProtection` on instances as a safety measure
//
// ## Import
//
// Database instances can be imported using one of any of these accepted formats:
//
// * `projects/{{project}}/instances/{{name}}`
//
// * `{{project}}/{{name}}`
//
// * `{{name}}`
//
// When using the `pulumi import` command, Database instances can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:sql/databaseInstance:DatabaseInstance default projects/{{project}}/instances/{{name}}
// ```
//
// ```sh
// $ pulumi import gcp:sql/databaseInstance:DatabaseInstance default {{project}}/{{name}}
// ```
//
// ```sh
// $ pulumi import gcp:sql/databaseInstance:DatabaseInstance default {{name}}
// ```
//
// config and set on the server.
//
// # When importing, double-check that your config has all the fields set that you expect- just seeing
//
// no diff isn't sufficient to know that your config could reproduce the imported resource.
type DatabaseInstance struct {
	pulumi.CustomResourceState

	// The list of all maintenance versions applicable on the instance.
	AvailableMaintenanceVersions pulumi.StringArrayOutput `pulumi:"availableMaintenanceVersions"`
	// The name of the BackupDR backup to restore from.
	BackupdrBackup pulumi.StringPtrOutput `pulumi:"backupdrBackup"`
	// The context needed to create this instance as a clone of another instance. When this field is set during
	// resource creation, this provider will attempt to clone another instance as indicated in the context. The
	// configuration is detailed below.
	Clone DatabaseInstanceClonePtrOutput `pulumi:"clone"`
	// The connection name of the instance to be used in
	// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
	ConnectionName pulumi.StringOutput `pulumi:"connectionName"`
	// The MySQL, PostgreSQL or
	// SQL Server version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `MYSQL_8_0`, `MYSQL_8_4`, `POSTGRES_9_6`,`POSTGRES_10`, `POSTGRES_11`,
	// `POSTGRES_12`, `POSTGRES_13`, `POSTGRES_14`, `POSTGRES_15`, `POSTGRES_16`, `POSTGRES_17`,
	// `SQLSERVER_2017_STANDARD`, `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// `SQLSERVER_2019_STANDARD`, `SQLSERVER_2019_ENTERPRISE`, `SQLSERVER_2019_EXPRESS`,
	// `SQLSERVER_2019_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion pulumi.StringOutput `pulumi:"databaseVersion"`
	// Whether or not to allow the provider to destroy the instance. Unless this field is set to false
	// in state, a `destroy` or `update` command that deletes the instance will fail. Defaults to `true`.
	DeletionProtection pulumi.BoolPtrOutput `pulumi:"deletionProtection"`
	// The DNS name of the instance. See [Connect to an instance using Private Service Connect](https://cloud.google.com/sql/docs/mysql/configure-private-service-connect#view-summary-information-cloud-sql-instances-psc-enabled) for more details.
	DnsName pulumi.StringOutput `pulumi:"dnsName"`
	// The list of DNS names used by this instance. Different connection types for an instance may have different DNS names. DNS names can apply to an individual instance or a cluster of instances.
	DnsNames DatabaseInstanceDnsNameArrayOutput `pulumi:"dnsNames"`
	// The full path to the encryption key used for the CMEK disk encryption.  Setting
	// up disk encryption currently requires manual steps outside of this provider.
	// The provided key must be in the same region as the SQL instance.  In order
	// to use this feature, a special kind of service account must be created and
	// granted permission on this key.  This step can currently only be done
	// manually, please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#service-account).
	// That service account needs the `Cloud KMS > Cloud KMS CryptoKey Encrypter/Decrypter` role on your
	// key - please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#grantkey).
	EncryptionKeyName pulumi.StringOutput `pulumi:"encryptionKeyName"`
	// The description of final backup. Only set this field when `final_backup_config.enabled` is true.
	FinalBackupDescription pulumi.StringPtrOutput `pulumi:"finalBackupDescription"`
	// The first IPv4 address of any type assigned.
	FirstIpAddress pulumi.StringOutput `pulumi:"firstIpAddress"`
	// The type of the instance. See [API reference for SqlInstanceType](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1/instances#SqlInstanceType) for supported values.
	InstanceType pulumi.StringOutput                  `pulumi:"instanceType"`
	IpAddresses  DatabaseInstanceIpAddressArrayOutput `pulumi:"ipAddresses"`
	// The current software version on the instance. This attribute can not be set during creation. Refer to `availableMaintenanceVersions` attribute to see what `maintenanceVersion` are available for upgrade. When this attribute gets updated, it will cause an instance restart. Setting a `maintenanceVersion` value that is older than the current one on the instance will be ignored.
	MaintenanceVersion pulumi.StringOutput `pulumi:"maintenanceVersion"`
	// The name of the existing instance that will
	// act as the master in the replication setup. Note, this requires the master to
	// have `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName pulumi.StringOutput `pulumi:"masterInstanceName"`
	// The name of the instance. If the name is left
	// blank, the provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name pulumi.StringOutput `pulumi:"name"`
	// For a read pool instance, the number of nodes in the read pool.
	NodeCount pulumi.IntOutput `pulumi:"nodeCount"`
	// The first private (`PRIVATE`) IPv4 address assigned.
	PrivateIpAddress pulumi.StringOutput `pulumi:"privateIpAddress"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
	// the URI that points to the service attachment of the instance.
	PscServiceAttachmentLink pulumi.StringOutput `pulumi:"pscServiceAttachmentLink"`
	// The first public (`PRIMARY`) IPv4 address assigned.
	PublicIpAddress pulumi.StringOutput `pulumi:"publicIpAddress"`
	// The region the instance will sit in. If a region is not provided in the resource definition,
	// the provider region will be used instead.
	//
	// ***
	Region pulumi.StringOutput `pulumi:"region"`
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration DatabaseInstanceReplicaConfigurationOutput `pulumi:"replicaConfiguration"`
	// List of replica names. Can be updated.
	ReplicaNames pulumi.StringArrayOutput `pulumi:"replicaNames"`
	// A primary instance and disaster recovery replica pair. Applicable to MySQL and PostgreSQL. This field can be set only after both the primary and replica are created.
	ReplicationCluster DatabaseInstanceReplicationClusterOutput `pulumi:"replicationCluster"`
	// The context needed to restore the database to a backup run. This field will
	// cause the provider to trigger the database to restore from the backup run indicated. The configuration is detailed below.
	// **NOTE:** Restoring from a backup is an imperative action and not recommended via this provider. Adding or modifying this
	// block during resource creation/update will trigger the restore action after the resource is created/updated.
	RestoreBackupContext DatabaseInstanceRestoreBackupContextPtrOutput `pulumi:"restoreBackupContext"`
	// Initial root password. Can be updated. Required for MS SQL Server.
	RootPassword pulumi.StringPtrOutput `pulumi:"rootPassword"`
	// The URI of the created resource.
	SelfLink      pulumi.StringOutput                     `pulumi:"selfLink"`
	ServerCaCerts DatabaseInstanceServerCaCertArrayOutput `pulumi:"serverCaCerts"`
	// The service account email address assigned to the
	// instance.
	ServiceAccountEmailAddress pulumi.StringOutput `pulumi:"serviceAccountEmailAddress"`
	// The settings to use for the database. The
	// configuration is detailed below. Required if `clone` is not set.
	Settings DatabaseInstanceSettingsOutput `pulumi:"settings"`
}

// NewDatabaseInstance registers a new resource with the given unique name, arguments, and options.
func NewDatabaseInstance(ctx *pulumi.Context,
	name string, args *DatabaseInstanceArgs, opts ...pulumi.ResourceOption) (*DatabaseInstance, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DatabaseVersion == nil {
		return nil, errors.New("invalid value for required argument 'DatabaseVersion'")
	}
	if args.ReplicaConfiguration != nil {
		args.ReplicaConfiguration = pulumi.ToSecret(args.ReplicaConfiguration).(DatabaseInstanceReplicaConfigurationPtrInput)
	}
	if args.RootPassword != nil {
		args.RootPassword = pulumi.ToSecret(args.RootPassword).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"replicaConfiguration",
		"rootPassword",
		"serverCaCerts",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DatabaseInstance
	err := ctx.RegisterResource("gcp:sql/databaseInstance:DatabaseInstance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDatabaseInstance gets an existing DatabaseInstance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDatabaseInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DatabaseInstanceState, opts ...pulumi.ResourceOption) (*DatabaseInstance, error) {
	var resource DatabaseInstance
	err := ctx.ReadResource("gcp:sql/databaseInstance:DatabaseInstance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DatabaseInstance resources.
type databaseInstanceState struct {
	// The list of all maintenance versions applicable on the instance.
	AvailableMaintenanceVersions []string `pulumi:"availableMaintenanceVersions"`
	// The name of the BackupDR backup to restore from.
	BackupdrBackup *string `pulumi:"backupdrBackup"`
	// The context needed to create this instance as a clone of another instance. When this field is set during
	// resource creation, this provider will attempt to clone another instance as indicated in the context. The
	// configuration is detailed below.
	Clone *DatabaseInstanceClone `pulumi:"clone"`
	// The connection name of the instance to be used in
	// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
	ConnectionName *string `pulumi:"connectionName"`
	// The MySQL, PostgreSQL or
	// SQL Server version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `MYSQL_8_0`, `MYSQL_8_4`, `POSTGRES_9_6`,`POSTGRES_10`, `POSTGRES_11`,
	// `POSTGRES_12`, `POSTGRES_13`, `POSTGRES_14`, `POSTGRES_15`, `POSTGRES_16`, `POSTGRES_17`,
	// `SQLSERVER_2017_STANDARD`, `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// `SQLSERVER_2019_STANDARD`, `SQLSERVER_2019_ENTERPRISE`, `SQLSERVER_2019_EXPRESS`,
	// `SQLSERVER_2019_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion *string `pulumi:"databaseVersion"`
	// Whether or not to allow the provider to destroy the instance. Unless this field is set to false
	// in state, a `destroy` or `update` command that deletes the instance will fail. Defaults to `true`.
	DeletionProtection *bool `pulumi:"deletionProtection"`
	// The DNS name of the instance. See [Connect to an instance using Private Service Connect](https://cloud.google.com/sql/docs/mysql/configure-private-service-connect#view-summary-information-cloud-sql-instances-psc-enabled) for more details.
	DnsName *string `pulumi:"dnsName"`
	// The list of DNS names used by this instance. Different connection types for an instance may have different DNS names. DNS names can apply to an individual instance or a cluster of instances.
	DnsNames []DatabaseInstanceDnsName `pulumi:"dnsNames"`
	// The full path to the encryption key used for the CMEK disk encryption.  Setting
	// up disk encryption currently requires manual steps outside of this provider.
	// The provided key must be in the same region as the SQL instance.  In order
	// to use this feature, a special kind of service account must be created and
	// granted permission on this key.  This step can currently only be done
	// manually, please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#service-account).
	// That service account needs the `Cloud KMS > Cloud KMS CryptoKey Encrypter/Decrypter` role on your
	// key - please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#grantkey).
	EncryptionKeyName *string `pulumi:"encryptionKeyName"`
	// The description of final backup. Only set this field when `final_backup_config.enabled` is true.
	FinalBackupDescription *string `pulumi:"finalBackupDescription"`
	// The first IPv4 address of any type assigned.
	FirstIpAddress *string `pulumi:"firstIpAddress"`
	// The type of the instance. See [API reference for SqlInstanceType](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1/instances#SqlInstanceType) for supported values.
	InstanceType *string                     `pulumi:"instanceType"`
	IpAddresses  []DatabaseInstanceIpAddress `pulumi:"ipAddresses"`
	// The current software version on the instance. This attribute can not be set during creation. Refer to `availableMaintenanceVersions` attribute to see what `maintenanceVersion` are available for upgrade. When this attribute gets updated, it will cause an instance restart. Setting a `maintenanceVersion` value that is older than the current one on the instance will be ignored.
	MaintenanceVersion *string `pulumi:"maintenanceVersion"`
	// The name of the existing instance that will
	// act as the master in the replication setup. Note, this requires the master to
	// have `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName *string `pulumi:"masterInstanceName"`
	// The name of the instance. If the name is left
	// blank, the provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name *string `pulumi:"name"`
	// For a read pool instance, the number of nodes in the read pool.
	NodeCount *int `pulumi:"nodeCount"`
	// The first private (`PRIVATE`) IPv4 address assigned.
	PrivateIpAddress *string `pulumi:"privateIpAddress"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// the URI that points to the service attachment of the instance.
	PscServiceAttachmentLink *string `pulumi:"pscServiceAttachmentLink"`
	// The first public (`PRIMARY`) IPv4 address assigned.
	PublicIpAddress *string `pulumi:"publicIpAddress"`
	// The region the instance will sit in. If a region is not provided in the resource definition,
	// the provider region will be used instead.
	//
	// ***
	Region *string `pulumi:"region"`
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration *DatabaseInstanceReplicaConfiguration `pulumi:"replicaConfiguration"`
	// List of replica names. Can be updated.
	ReplicaNames []string `pulumi:"replicaNames"`
	// A primary instance and disaster recovery replica pair. Applicable to MySQL and PostgreSQL. This field can be set only after both the primary and replica are created.
	ReplicationCluster *DatabaseInstanceReplicationCluster `pulumi:"replicationCluster"`
	// The context needed to restore the database to a backup run. This field will
	// cause the provider to trigger the database to restore from the backup run indicated. The configuration is detailed below.
	// **NOTE:** Restoring from a backup is an imperative action and not recommended via this provider. Adding or modifying this
	// block during resource creation/update will trigger the restore action after the resource is created/updated.
	RestoreBackupContext *DatabaseInstanceRestoreBackupContext `pulumi:"restoreBackupContext"`
	// Initial root password. Can be updated. Required for MS SQL Server.
	RootPassword *string `pulumi:"rootPassword"`
	// The URI of the created resource.
	SelfLink      *string                        `pulumi:"selfLink"`
	ServerCaCerts []DatabaseInstanceServerCaCert `pulumi:"serverCaCerts"`
	// The service account email address assigned to the
	// instance.
	ServiceAccountEmailAddress *string `pulumi:"serviceAccountEmailAddress"`
	// The settings to use for the database. The
	// configuration is detailed below. Required if `clone` is not set.
	Settings *DatabaseInstanceSettings `pulumi:"settings"`
}

type DatabaseInstanceState struct {
	// The list of all maintenance versions applicable on the instance.
	AvailableMaintenanceVersions pulumi.StringArrayInput
	// The name of the BackupDR backup to restore from.
	BackupdrBackup pulumi.StringPtrInput
	// The context needed to create this instance as a clone of another instance. When this field is set during
	// resource creation, this provider will attempt to clone another instance as indicated in the context. The
	// configuration is detailed below.
	Clone DatabaseInstanceClonePtrInput
	// The connection name of the instance to be used in
	// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
	ConnectionName pulumi.StringPtrInput
	// The MySQL, PostgreSQL or
	// SQL Server version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `MYSQL_8_0`, `MYSQL_8_4`, `POSTGRES_9_6`,`POSTGRES_10`, `POSTGRES_11`,
	// `POSTGRES_12`, `POSTGRES_13`, `POSTGRES_14`, `POSTGRES_15`, `POSTGRES_16`, `POSTGRES_17`,
	// `SQLSERVER_2017_STANDARD`, `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// `SQLSERVER_2019_STANDARD`, `SQLSERVER_2019_ENTERPRISE`, `SQLSERVER_2019_EXPRESS`,
	// `SQLSERVER_2019_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion pulumi.StringPtrInput
	// Whether or not to allow the provider to destroy the instance. Unless this field is set to false
	// in state, a `destroy` or `update` command that deletes the instance will fail. Defaults to `true`.
	DeletionProtection pulumi.BoolPtrInput
	// The DNS name of the instance. See [Connect to an instance using Private Service Connect](https://cloud.google.com/sql/docs/mysql/configure-private-service-connect#view-summary-information-cloud-sql-instances-psc-enabled) for more details.
	DnsName pulumi.StringPtrInput
	// The list of DNS names used by this instance. Different connection types for an instance may have different DNS names. DNS names can apply to an individual instance or a cluster of instances.
	DnsNames DatabaseInstanceDnsNameArrayInput
	// The full path to the encryption key used for the CMEK disk encryption.  Setting
	// up disk encryption currently requires manual steps outside of this provider.
	// The provided key must be in the same region as the SQL instance.  In order
	// to use this feature, a special kind of service account must be created and
	// granted permission on this key.  This step can currently only be done
	// manually, please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#service-account).
	// That service account needs the `Cloud KMS > Cloud KMS CryptoKey Encrypter/Decrypter` role on your
	// key - please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#grantkey).
	EncryptionKeyName pulumi.StringPtrInput
	// The description of final backup. Only set this field when `final_backup_config.enabled` is true.
	FinalBackupDescription pulumi.StringPtrInput
	// The first IPv4 address of any type assigned.
	FirstIpAddress pulumi.StringPtrInput
	// The type of the instance. See [API reference for SqlInstanceType](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1/instances#SqlInstanceType) for supported values.
	InstanceType pulumi.StringPtrInput
	IpAddresses  DatabaseInstanceIpAddressArrayInput
	// The current software version on the instance. This attribute can not be set during creation. Refer to `availableMaintenanceVersions` attribute to see what `maintenanceVersion` are available for upgrade. When this attribute gets updated, it will cause an instance restart. Setting a `maintenanceVersion` value that is older than the current one on the instance will be ignored.
	MaintenanceVersion pulumi.StringPtrInput
	// The name of the existing instance that will
	// act as the master in the replication setup. Note, this requires the master to
	// have `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName pulumi.StringPtrInput
	// The name of the instance. If the name is left
	// blank, the provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name pulumi.StringPtrInput
	// For a read pool instance, the number of nodes in the read pool.
	NodeCount pulumi.IntPtrInput
	// The first private (`PRIVATE`) IPv4 address assigned.
	PrivateIpAddress pulumi.StringPtrInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// the URI that points to the service attachment of the instance.
	PscServiceAttachmentLink pulumi.StringPtrInput
	// The first public (`PRIMARY`) IPv4 address assigned.
	PublicIpAddress pulumi.StringPtrInput
	// The region the instance will sit in. If a region is not provided in the resource definition,
	// the provider region will be used instead.
	//
	// ***
	Region pulumi.StringPtrInput
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration DatabaseInstanceReplicaConfigurationPtrInput
	// List of replica names. Can be updated.
	ReplicaNames pulumi.StringArrayInput
	// A primary instance and disaster recovery replica pair. Applicable to MySQL and PostgreSQL. This field can be set only after both the primary and replica are created.
	ReplicationCluster DatabaseInstanceReplicationClusterPtrInput
	// The context needed to restore the database to a backup run. This field will
	// cause the provider to trigger the database to restore from the backup run indicated. The configuration is detailed below.
	// **NOTE:** Restoring from a backup is an imperative action and not recommended via this provider. Adding or modifying this
	// block during resource creation/update will trigger the restore action after the resource is created/updated.
	RestoreBackupContext DatabaseInstanceRestoreBackupContextPtrInput
	// Initial root password. Can be updated. Required for MS SQL Server.
	RootPassword pulumi.StringPtrInput
	// The URI of the created resource.
	SelfLink      pulumi.StringPtrInput
	ServerCaCerts DatabaseInstanceServerCaCertArrayInput
	// The service account email address assigned to the
	// instance.
	ServiceAccountEmailAddress pulumi.StringPtrInput
	// The settings to use for the database. The
	// configuration is detailed below. Required if `clone` is not set.
	Settings DatabaseInstanceSettingsPtrInput
}

func (DatabaseInstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*databaseInstanceState)(nil)).Elem()
}

type databaseInstanceArgs struct {
	// The name of the BackupDR backup to restore from.
	BackupdrBackup *string `pulumi:"backupdrBackup"`
	// The context needed to create this instance as a clone of another instance. When this field is set during
	// resource creation, this provider will attempt to clone another instance as indicated in the context. The
	// configuration is detailed below.
	Clone *DatabaseInstanceClone `pulumi:"clone"`
	// The MySQL, PostgreSQL or
	// SQL Server version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `MYSQL_8_0`, `MYSQL_8_4`, `POSTGRES_9_6`,`POSTGRES_10`, `POSTGRES_11`,
	// `POSTGRES_12`, `POSTGRES_13`, `POSTGRES_14`, `POSTGRES_15`, `POSTGRES_16`, `POSTGRES_17`,
	// `SQLSERVER_2017_STANDARD`, `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// `SQLSERVER_2019_STANDARD`, `SQLSERVER_2019_ENTERPRISE`, `SQLSERVER_2019_EXPRESS`,
	// `SQLSERVER_2019_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion string `pulumi:"databaseVersion"`
	// Whether or not to allow the provider to destroy the instance. Unless this field is set to false
	// in state, a `destroy` or `update` command that deletes the instance will fail. Defaults to `true`.
	DeletionProtection *bool `pulumi:"deletionProtection"`
	// The full path to the encryption key used for the CMEK disk encryption.  Setting
	// up disk encryption currently requires manual steps outside of this provider.
	// The provided key must be in the same region as the SQL instance.  In order
	// to use this feature, a special kind of service account must be created and
	// granted permission on this key.  This step can currently only be done
	// manually, please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#service-account).
	// That service account needs the `Cloud KMS > Cloud KMS CryptoKey Encrypter/Decrypter` role on your
	// key - please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#grantkey).
	EncryptionKeyName *string `pulumi:"encryptionKeyName"`
	// The description of final backup. Only set this field when `final_backup_config.enabled` is true.
	FinalBackupDescription *string `pulumi:"finalBackupDescription"`
	// The type of the instance. See [API reference for SqlInstanceType](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1/instances#SqlInstanceType) for supported values.
	InstanceType *string `pulumi:"instanceType"`
	// The current software version on the instance. This attribute can not be set during creation. Refer to `availableMaintenanceVersions` attribute to see what `maintenanceVersion` are available for upgrade. When this attribute gets updated, it will cause an instance restart. Setting a `maintenanceVersion` value that is older than the current one on the instance will be ignored.
	MaintenanceVersion *string `pulumi:"maintenanceVersion"`
	// The name of the existing instance that will
	// act as the master in the replication setup. Note, this requires the master to
	// have `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName *string `pulumi:"masterInstanceName"`
	// The name of the instance. If the name is left
	// blank, the provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name *string `pulumi:"name"`
	// For a read pool instance, the number of nodes in the read pool.
	NodeCount *int `pulumi:"nodeCount"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// The region the instance will sit in. If a region is not provided in the resource definition,
	// the provider region will be used instead.
	//
	// ***
	Region *string `pulumi:"region"`
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration *DatabaseInstanceReplicaConfiguration `pulumi:"replicaConfiguration"`
	// List of replica names. Can be updated.
	ReplicaNames []string `pulumi:"replicaNames"`
	// A primary instance and disaster recovery replica pair. Applicable to MySQL and PostgreSQL. This field can be set only after both the primary and replica are created.
	ReplicationCluster *DatabaseInstanceReplicationCluster `pulumi:"replicationCluster"`
	// The context needed to restore the database to a backup run. This field will
	// cause the provider to trigger the database to restore from the backup run indicated. The configuration is detailed below.
	// **NOTE:** Restoring from a backup is an imperative action and not recommended via this provider. Adding or modifying this
	// block during resource creation/update will trigger the restore action after the resource is created/updated.
	RestoreBackupContext *DatabaseInstanceRestoreBackupContext `pulumi:"restoreBackupContext"`
	// Initial root password. Can be updated. Required for MS SQL Server.
	RootPassword *string `pulumi:"rootPassword"`
	// The settings to use for the database. The
	// configuration is detailed below. Required if `clone` is not set.
	Settings *DatabaseInstanceSettings `pulumi:"settings"`
}

// The set of arguments for constructing a DatabaseInstance resource.
type DatabaseInstanceArgs struct {
	// The name of the BackupDR backup to restore from.
	BackupdrBackup pulumi.StringPtrInput
	// The context needed to create this instance as a clone of another instance. When this field is set during
	// resource creation, this provider will attempt to clone another instance as indicated in the context. The
	// configuration is detailed below.
	Clone DatabaseInstanceClonePtrInput
	// The MySQL, PostgreSQL or
	// SQL Server version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `MYSQL_8_0`, `MYSQL_8_4`, `POSTGRES_9_6`,`POSTGRES_10`, `POSTGRES_11`,
	// `POSTGRES_12`, `POSTGRES_13`, `POSTGRES_14`, `POSTGRES_15`, `POSTGRES_16`, `POSTGRES_17`,
	// `SQLSERVER_2017_STANDARD`, `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// `SQLSERVER_2019_STANDARD`, `SQLSERVER_2019_ENTERPRISE`, `SQLSERVER_2019_EXPRESS`,
	// `SQLSERVER_2019_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion pulumi.StringInput
	// Whether or not to allow the provider to destroy the instance. Unless this field is set to false
	// in state, a `destroy` or `update` command that deletes the instance will fail. Defaults to `true`.
	DeletionProtection pulumi.BoolPtrInput
	// The full path to the encryption key used for the CMEK disk encryption.  Setting
	// up disk encryption currently requires manual steps outside of this provider.
	// The provided key must be in the same region as the SQL instance.  In order
	// to use this feature, a special kind of service account must be created and
	// granted permission on this key.  This step can currently only be done
	// manually, please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#service-account).
	// That service account needs the `Cloud KMS > Cloud KMS CryptoKey Encrypter/Decrypter` role on your
	// key - please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#grantkey).
	EncryptionKeyName pulumi.StringPtrInput
	// The description of final backup. Only set this field when `final_backup_config.enabled` is true.
	FinalBackupDescription pulumi.StringPtrInput
	// The type of the instance. See [API reference for SqlInstanceType](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1/instances#SqlInstanceType) for supported values.
	InstanceType pulumi.StringPtrInput
	// The current software version on the instance. This attribute can not be set during creation. Refer to `availableMaintenanceVersions` attribute to see what `maintenanceVersion` are available for upgrade. When this attribute gets updated, it will cause an instance restart. Setting a `maintenanceVersion` value that is older than the current one on the instance will be ignored.
	MaintenanceVersion pulumi.StringPtrInput
	// The name of the existing instance that will
	// act as the master in the replication setup. Note, this requires the master to
	// have `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName pulumi.StringPtrInput
	// The name of the instance. If the name is left
	// blank, the provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name pulumi.StringPtrInput
	// For a read pool instance, the number of nodes in the read pool.
	NodeCount pulumi.IntPtrInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// The region the instance will sit in. If a region is not provided in the resource definition,
	// the provider region will be used instead.
	//
	// ***
	Region pulumi.StringPtrInput
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration DatabaseInstanceReplicaConfigurationPtrInput
	// List of replica names. Can be updated.
	ReplicaNames pulumi.StringArrayInput
	// A primary instance and disaster recovery replica pair. Applicable to MySQL and PostgreSQL. This field can be set only after both the primary and replica are created.
	ReplicationCluster DatabaseInstanceReplicationClusterPtrInput
	// The context needed to restore the database to a backup run. This field will
	// cause the provider to trigger the database to restore from the backup run indicated. The configuration is detailed below.
	// **NOTE:** Restoring from a backup is an imperative action and not recommended via this provider. Adding or modifying this
	// block during resource creation/update will trigger the restore action after the resource is created/updated.
	RestoreBackupContext DatabaseInstanceRestoreBackupContextPtrInput
	// Initial root password. Can be updated. Required for MS SQL Server.
	RootPassword pulumi.StringPtrInput
	// The settings to use for the database. The
	// configuration is detailed below. Required if `clone` is not set.
	Settings DatabaseInstanceSettingsPtrInput
}

func (DatabaseInstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*databaseInstanceArgs)(nil)).Elem()
}

type DatabaseInstanceInput interface {
	pulumi.Input

	ToDatabaseInstanceOutput() DatabaseInstanceOutput
	ToDatabaseInstanceOutputWithContext(ctx context.Context) DatabaseInstanceOutput
}

func (*DatabaseInstance) ElementType() reflect.Type {
	return reflect.TypeOf((**DatabaseInstance)(nil)).Elem()
}

func (i *DatabaseInstance) ToDatabaseInstanceOutput() DatabaseInstanceOutput {
	return i.ToDatabaseInstanceOutputWithContext(context.Background())
}

func (i *DatabaseInstance) ToDatabaseInstanceOutputWithContext(ctx context.Context) DatabaseInstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DatabaseInstanceOutput)
}

// DatabaseInstanceArrayInput is an input type that accepts DatabaseInstanceArray and DatabaseInstanceArrayOutput values.
// You can construct a concrete instance of `DatabaseInstanceArrayInput` via:
//
//	DatabaseInstanceArray{ DatabaseInstanceArgs{...} }
type DatabaseInstanceArrayInput interface {
	pulumi.Input

	ToDatabaseInstanceArrayOutput() DatabaseInstanceArrayOutput
	ToDatabaseInstanceArrayOutputWithContext(context.Context) DatabaseInstanceArrayOutput
}

type DatabaseInstanceArray []DatabaseInstanceInput

func (DatabaseInstanceArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DatabaseInstance)(nil)).Elem()
}

func (i DatabaseInstanceArray) ToDatabaseInstanceArrayOutput() DatabaseInstanceArrayOutput {
	return i.ToDatabaseInstanceArrayOutputWithContext(context.Background())
}

func (i DatabaseInstanceArray) ToDatabaseInstanceArrayOutputWithContext(ctx context.Context) DatabaseInstanceArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DatabaseInstanceArrayOutput)
}

// DatabaseInstanceMapInput is an input type that accepts DatabaseInstanceMap and DatabaseInstanceMapOutput values.
// You can construct a concrete instance of `DatabaseInstanceMapInput` via:
//
//	DatabaseInstanceMap{ "key": DatabaseInstanceArgs{...} }
type DatabaseInstanceMapInput interface {
	pulumi.Input

	ToDatabaseInstanceMapOutput() DatabaseInstanceMapOutput
	ToDatabaseInstanceMapOutputWithContext(context.Context) DatabaseInstanceMapOutput
}

type DatabaseInstanceMap map[string]DatabaseInstanceInput

func (DatabaseInstanceMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DatabaseInstance)(nil)).Elem()
}

func (i DatabaseInstanceMap) ToDatabaseInstanceMapOutput() DatabaseInstanceMapOutput {
	return i.ToDatabaseInstanceMapOutputWithContext(context.Background())
}

func (i DatabaseInstanceMap) ToDatabaseInstanceMapOutputWithContext(ctx context.Context) DatabaseInstanceMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DatabaseInstanceMapOutput)
}

type DatabaseInstanceOutput struct{ *pulumi.OutputState }

func (DatabaseInstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DatabaseInstance)(nil)).Elem()
}

func (o DatabaseInstanceOutput) ToDatabaseInstanceOutput() DatabaseInstanceOutput {
	return o
}

func (o DatabaseInstanceOutput) ToDatabaseInstanceOutputWithContext(ctx context.Context) DatabaseInstanceOutput {
	return o
}

// The list of all maintenance versions applicable on the instance.
func (o DatabaseInstanceOutput) AvailableMaintenanceVersions() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringArrayOutput { return v.AvailableMaintenanceVersions }).(pulumi.StringArrayOutput)
}

// The name of the BackupDR backup to restore from.
func (o DatabaseInstanceOutput) BackupdrBackup() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringPtrOutput { return v.BackupdrBackup }).(pulumi.StringPtrOutput)
}

// The context needed to create this instance as a clone of another instance. When this field is set during
// resource creation, this provider will attempt to clone another instance as indicated in the context. The
// configuration is detailed below.
func (o DatabaseInstanceOutput) Clone() DatabaseInstanceClonePtrOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceClonePtrOutput { return v.Clone }).(DatabaseInstanceClonePtrOutput)
}

// The connection name of the instance to be used in
// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
func (o DatabaseInstanceOutput) ConnectionName() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.ConnectionName }).(pulumi.StringOutput)
}

// The MySQL, PostgreSQL or
// SQL Server version to use. Supported values include `MYSQL_5_6`,
// `MYSQL_5_7`, `MYSQL_8_0`, `MYSQL_8_4`, `POSTGRES_9_6`,`POSTGRES_10`, `POSTGRES_11`,
// `POSTGRES_12`, `POSTGRES_13`, `POSTGRES_14`, `POSTGRES_15`, `POSTGRES_16`, `POSTGRES_17`,
// `SQLSERVER_2017_STANDARD`, `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
// `SQLSERVER_2019_STANDARD`, `SQLSERVER_2019_ENTERPRISE`, `SQLSERVER_2019_EXPRESS`,
// `SQLSERVER_2019_WEB`.
// [Database Version Policies](https://cloud.google.com/sql/docs/db-versions)
// includes an up-to-date reference of supported versions.
func (o DatabaseInstanceOutput) DatabaseVersion() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.DatabaseVersion }).(pulumi.StringOutput)
}

// Whether or not to allow the provider to destroy the instance. Unless this field is set to false
// in state, a `destroy` or `update` command that deletes the instance will fail. Defaults to `true`.
func (o DatabaseInstanceOutput) DeletionProtection() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.BoolPtrOutput { return v.DeletionProtection }).(pulumi.BoolPtrOutput)
}

// The DNS name of the instance. See [Connect to an instance using Private Service Connect](https://cloud.google.com/sql/docs/mysql/configure-private-service-connect#view-summary-information-cloud-sql-instances-psc-enabled) for more details.
func (o DatabaseInstanceOutput) DnsName() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.DnsName }).(pulumi.StringOutput)
}

// The list of DNS names used by this instance. Different connection types for an instance may have different DNS names. DNS names can apply to an individual instance or a cluster of instances.
func (o DatabaseInstanceOutput) DnsNames() DatabaseInstanceDnsNameArrayOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceDnsNameArrayOutput { return v.DnsNames }).(DatabaseInstanceDnsNameArrayOutput)
}

// The full path to the encryption key used for the CMEK disk encryption.  Setting
// up disk encryption currently requires manual steps outside of this provider.
// The provided key must be in the same region as the SQL instance.  In order
// to use this feature, a special kind of service account must be created and
// granted permission on this key.  This step can currently only be done
// manually, please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#service-account).
// That service account needs the `Cloud KMS > Cloud KMS CryptoKey Encrypter/Decrypter` role on your
// key - please see [this step](https://cloud.google.com/sql/docs/mysql/configure-cmek#grantkey).
func (o DatabaseInstanceOutput) EncryptionKeyName() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.EncryptionKeyName }).(pulumi.StringOutput)
}

// The description of final backup. Only set this field when `final_backup_config.enabled` is true.
func (o DatabaseInstanceOutput) FinalBackupDescription() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringPtrOutput { return v.FinalBackupDescription }).(pulumi.StringPtrOutput)
}

// The first IPv4 address of any type assigned.
func (o DatabaseInstanceOutput) FirstIpAddress() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.FirstIpAddress }).(pulumi.StringOutput)
}

// The type of the instance. See [API reference for SqlInstanceType](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1/instances#SqlInstanceType) for supported values.
func (o DatabaseInstanceOutput) InstanceType() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.InstanceType }).(pulumi.StringOutput)
}

func (o DatabaseInstanceOutput) IpAddresses() DatabaseInstanceIpAddressArrayOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceIpAddressArrayOutput { return v.IpAddresses }).(DatabaseInstanceIpAddressArrayOutput)
}

// The current software version on the instance. This attribute can not be set during creation. Refer to `availableMaintenanceVersions` attribute to see what `maintenanceVersion` are available for upgrade. When this attribute gets updated, it will cause an instance restart. Setting a `maintenanceVersion` value that is older than the current one on the instance will be ignored.
func (o DatabaseInstanceOutput) MaintenanceVersion() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.MaintenanceVersion }).(pulumi.StringOutput)
}

// The name of the existing instance that will
// act as the master in the replication setup. Note, this requires the master to
// have `binaryLogEnabled` set, as well as existing backups.
func (o DatabaseInstanceOutput) MasterInstanceName() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.MasterInstanceName }).(pulumi.StringOutput)
}

// The name of the instance. If the name is left
// blank, the provider will randomly generate one when the instance is first
// created. This is done because after a name is used, it cannot be reused for
// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
func (o DatabaseInstanceOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// For a read pool instance, the number of nodes in the read pool.
func (o DatabaseInstanceOutput) NodeCount() pulumi.IntOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.IntOutput { return v.NodeCount }).(pulumi.IntOutput)
}

// The first private (`PRIVATE`) IPv4 address assigned.
func (o DatabaseInstanceOutput) PrivateIpAddress() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.PrivateIpAddress }).(pulumi.StringOutput)
}

// The ID of the project in which the resource belongs. If it
// is not provided, the provider project is used.
func (o DatabaseInstanceOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// the URI that points to the service attachment of the instance.
func (o DatabaseInstanceOutput) PscServiceAttachmentLink() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.PscServiceAttachmentLink }).(pulumi.StringOutput)
}

// The first public (`PRIMARY`) IPv4 address assigned.
func (o DatabaseInstanceOutput) PublicIpAddress() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.PublicIpAddress }).(pulumi.StringOutput)
}

// The region the instance will sit in. If a region is not provided in the resource definition,
// the provider region will be used instead.
//
// ***
func (o DatabaseInstanceOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

// The configuration for replication. The
// configuration is detailed below.
func (o DatabaseInstanceOutput) ReplicaConfiguration() DatabaseInstanceReplicaConfigurationOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceReplicaConfigurationOutput { return v.ReplicaConfiguration }).(DatabaseInstanceReplicaConfigurationOutput)
}

// List of replica names. Can be updated.
func (o DatabaseInstanceOutput) ReplicaNames() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringArrayOutput { return v.ReplicaNames }).(pulumi.StringArrayOutput)
}

// A primary instance and disaster recovery replica pair. Applicable to MySQL and PostgreSQL. This field can be set only after both the primary and replica are created.
func (o DatabaseInstanceOutput) ReplicationCluster() DatabaseInstanceReplicationClusterOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceReplicationClusterOutput { return v.ReplicationCluster }).(DatabaseInstanceReplicationClusterOutput)
}

// The context needed to restore the database to a backup run. This field will
// cause the provider to trigger the database to restore from the backup run indicated. The configuration is detailed below.
// **NOTE:** Restoring from a backup is an imperative action and not recommended via this provider. Adding or modifying this
// block during resource creation/update will trigger the restore action after the resource is created/updated.
func (o DatabaseInstanceOutput) RestoreBackupContext() DatabaseInstanceRestoreBackupContextPtrOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceRestoreBackupContextPtrOutput { return v.RestoreBackupContext }).(DatabaseInstanceRestoreBackupContextPtrOutput)
}

// Initial root password. Can be updated. Required for MS SQL Server.
func (o DatabaseInstanceOutput) RootPassword() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringPtrOutput { return v.RootPassword }).(pulumi.StringPtrOutput)
}

// The URI of the created resource.
func (o DatabaseInstanceOutput) SelfLink() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.SelfLink }).(pulumi.StringOutput)
}

func (o DatabaseInstanceOutput) ServerCaCerts() DatabaseInstanceServerCaCertArrayOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceServerCaCertArrayOutput { return v.ServerCaCerts }).(DatabaseInstanceServerCaCertArrayOutput)
}

// The service account email address assigned to the
// instance.
func (o DatabaseInstanceOutput) ServiceAccountEmailAddress() pulumi.StringOutput {
	return o.ApplyT(func(v *DatabaseInstance) pulumi.StringOutput { return v.ServiceAccountEmailAddress }).(pulumi.StringOutput)
}

// The settings to use for the database. The
// configuration is detailed below. Required if `clone` is not set.
func (o DatabaseInstanceOutput) Settings() DatabaseInstanceSettingsOutput {
	return o.ApplyT(func(v *DatabaseInstance) DatabaseInstanceSettingsOutput { return v.Settings }).(DatabaseInstanceSettingsOutput)
}

type DatabaseInstanceArrayOutput struct{ *pulumi.OutputState }

func (DatabaseInstanceArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DatabaseInstance)(nil)).Elem()
}

func (o DatabaseInstanceArrayOutput) ToDatabaseInstanceArrayOutput() DatabaseInstanceArrayOutput {
	return o
}

func (o DatabaseInstanceArrayOutput) ToDatabaseInstanceArrayOutputWithContext(ctx context.Context) DatabaseInstanceArrayOutput {
	return o
}

func (o DatabaseInstanceArrayOutput) Index(i pulumi.IntInput) DatabaseInstanceOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DatabaseInstance {
		return vs[0].([]*DatabaseInstance)[vs[1].(int)]
	}).(DatabaseInstanceOutput)
}

type DatabaseInstanceMapOutput struct{ *pulumi.OutputState }

func (DatabaseInstanceMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DatabaseInstance)(nil)).Elem()
}

func (o DatabaseInstanceMapOutput) ToDatabaseInstanceMapOutput() DatabaseInstanceMapOutput {
	return o
}

func (o DatabaseInstanceMapOutput) ToDatabaseInstanceMapOutputWithContext(ctx context.Context) DatabaseInstanceMapOutput {
	return o
}

func (o DatabaseInstanceMapOutput) MapIndex(k pulumi.StringInput) DatabaseInstanceOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DatabaseInstance {
		return vs[0].(map[string]*DatabaseInstance)[vs[1].(string)]
	}).(DatabaseInstanceOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DatabaseInstanceInput)(nil)).Elem(), &DatabaseInstance{})
	pulumi.RegisterInputType(reflect.TypeOf((*DatabaseInstanceArrayInput)(nil)).Elem(), DatabaseInstanceArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DatabaseInstanceMapInput)(nil)).Elem(), DatabaseInstanceMap{})
	pulumi.RegisterOutputType(DatabaseInstanceOutput{})
	pulumi.RegisterOutputType(DatabaseInstanceArrayOutput{})
	pulumi.RegisterOutputType(DatabaseInstanceMapOutput{})
}
