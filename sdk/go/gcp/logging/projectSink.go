// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package logging

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages a project-level logging sink. For more information see:
//
// * [API documentation](https://cloud.google.com/logging/docs/reference/v2/rest/v2/projects.sinks)
// * How-to Guides
//   - [Exporting Logs](https://cloud.google.com/logging/docs/export)
//
// > You can specify exclusions for log sinks created by terraform by using the exclusions field of `logging.FolderSink`
//
// > **Note:** You must have [granted the "Logs Configuration Writer"](https://cloud.google.com/logging/docs/access-control) IAM role (`roles/logging.configWriter`) to the credentials used with terraform.
//
// > **Note** You must [enable the Cloud Resource Manager API](https://console.cloud.google.com/apis/library/cloudresourcemanager.googleapis.com)
//
// > **Note:** The `_Default` and `_Required` logging sinks are automatically created for a given project and cannot be deleted. Creating a resource of this type will acquire and update the resource that already exists at the desired location. These sinks cannot be removed so deleting this resource will remove the sink config from your terraform state but will leave the logging sink unchanged. The sinks that are currently automatically created are "_Default" and "_Required".
//
// ## Example Usage
//
// ### Basic Sink
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/logging"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := logging.NewProjectSink(ctx, "my-sink", &logging.ProjectSinkArgs{
//				Name:                 pulumi.String("my-pubsub-instance-sink"),
//				Destination:          pulumi.String("pubsub.googleapis.com/projects/my-project/topics/instance-activity"),
//				Filter:               pulumi.String("resource.type = gce_instance AND severity >= WARNING"),
//				UniqueWriterIdentity: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Cloud Storage Bucket Destination
//
// A more complete example follows: this creates a compute instance, as well as a log sink that logs all activity to a
// cloud storage bucket. Because we are using `uniqueWriterIdentity`, we must grant it access to the bucket.
//
// Note that this grant requires the "Project IAM Admin" IAM role (`roles/resourcemanager.projectIamAdmin`) granted to the
// credentials used with Terraform.
//
// ```go
// package main
//
// import (
//
//	"fmt"
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/compute"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/logging"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/projects"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/storage"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Our logged compute instance
//			my_logged_instance, err := compute.NewInstance(ctx, "my-logged-instance", &compute.InstanceArgs{
//				NetworkInterfaces: compute.InstanceNetworkInterfaceArray{
//					&compute.InstanceNetworkInterfaceArgs{
//						AccessConfigs: compute.InstanceNetworkInterfaceAccessConfigArray{
//							&compute.InstanceNetworkInterfaceAccessConfigArgs{},
//						},
//						Network: pulumi.String("default"),
//					},
//				},
//				Name:        pulumi.String("my-instance"),
//				MachineType: pulumi.String("e2-medium"),
//				Zone:        pulumi.String("us-central1-a"),
//				BootDisk: &compute.InstanceBootDiskArgs{
//					InitializeParams: &compute.InstanceBootDiskInitializeParamsArgs{
//						Image: pulumi.String("debian-cloud/debian-11"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// A gcs bucket to store logs in
//			gcs_bucket, err := storage.NewBucket(ctx, "gcs-bucket", &storage.BucketArgs{
//				Name:     pulumi.String("my-unique-logging-bucket"),
//				Location: pulumi.String("US"),
//			})
//			if err != nil {
//				return err
//			}
//			// Our sink; this logs all activity related to our "my-logged-instance" instance
//			instance_sink, err := logging.NewProjectSink(ctx, "instance-sink", &logging.ProjectSinkArgs{
//				Name:        pulumi.String("my-instance-sink"),
//				Description: pulumi.String("some explanation on what this is"),
//				Destination: gcs_bucket.Name.ApplyT(func(name string) (string, error) {
//					return fmt.Sprintf("storage.googleapis.com/%v", name), nil
//				}).(pulumi.StringOutput),
//				Filter: my_logged_instance.InstanceId.ApplyT(func(instanceId string) (string, error) {
//					return fmt.Sprintf("resource.type = gce_instance AND resource.labels.instance_id = \"%v\"", instanceId), nil
//				}).(pulumi.StringOutput),
//				UniqueWriterIdentity: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			// Because our sink uses a unique_writer, we must grant that writer access to the bucket.
//			_, err = projects.NewIAMBinding(ctx, "gcs-bucket-writer", &projects.IAMBindingArgs{
//				Project: pulumi.String("your-project-id"),
//				Role:    pulumi.String("roles/storage.objectCreator"),
//				Members: pulumi.StringArray{
//					instance_sink.WriterIdentity,
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### User-Managed Service Account
//
// The following example creates a sink that are configured with user-managed service accounts, by specifying
// the `customWriterIdentity` field.
//
// Note that you can only create a sink that uses a user-managed service account when the sink destination
// is a log bucket.
//
// ```go
// package main
//
// import (
//
//	"fmt"
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/logging"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/projects"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/serviceaccount"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			custom_sa, err := serviceaccount.NewAccount(ctx, "custom-sa", &serviceaccount.AccountArgs{
//				Project:     pulumi.String("other-project-id"),
//				AccountId:   pulumi.String("gce-log-bucket-sink"),
//				DisplayName: pulumi.String("gce-log-bucket-sink"),
//			})
//			if err != nil {
//				return err
//			}
//			// Create a sink that uses user-managed service account
//			_, err = logging.NewProjectSink(ctx, "my-sink", &logging.ProjectSinkArgs{
//				Name:                 pulumi.String("other-project-log-bucket-sink"),
//				Destination:          pulumi.String("logging.googleapis.com/projects/other-project-id/locations/global/buckets/gce-logs"),
//				Filter:               pulumi.String("resource.type = gce_instance AND severity >= WARNING"),
//				UniqueWriterIdentity: pulumi.Bool(true),
//				CustomWriterIdentity: custom_sa.Email,
//			})
//			if err != nil {
//				return err
//			}
//			// grant writer access to the user-managed service account
//			_, err = projects.NewIAMMember(ctx, "custom-sa-logbucket-binding", &projects.IAMMemberArgs{
//				Project: pulumi.String("destination-project-id"),
//				Role:    pulumi.String("roles/logging.bucketWriter"),
//				Member: custom_sa.Email.ApplyT(func(email string) (string, error) {
//					return fmt.Sprintf("serviceAccount:%v", email), nil
//				}).(pulumi.StringOutput),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// The above example will create a log sink that route logs to destination GCP project using
// an user-managed service account.
//
// ### Sink Exclusions
//
// The following example uses `exclusions` to filter logs that will not be exported. In this example logs are exported to a [log bucket](https://cloud.google.com/logging/docs/buckets) and there are 2 exclusions configured
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/logging"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := logging.NewProjectSink(ctx, "log-bucket", &logging.ProjectSinkArgs{
//				Name:        pulumi.String("my-logging-sink"),
//				Destination: pulumi.String("logging.googleapis.com/projects/my-project/locations/global/buckets/_Default"),
//				Exclusions: logging.ProjectSinkExclusionArray{
//					&logging.ProjectSinkExclusionArgs{
//						Name:        pulumi.String("nsexcllusion1"),
//						Description: pulumi.String("Exclude logs from namespace-1 in k8s"),
//						Filter:      pulumi.String("resource.type = k8s_container resource.labels.namespace_name=\"namespace-1\" "),
//					},
//					&logging.ProjectSinkExclusionArgs{
//						Name:        pulumi.String("nsexcllusion2"),
//						Description: pulumi.String("Exclude logs from namespace-2 in k8s"),
//						Filter:      pulumi.String("resource.type = k8s_container resource.labels.namespace_name=\"namespace-2\" "),
//					},
//				},
//				UniqueWriterIdentity: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Project-level logging sinks can be imported using their URI, e.g.
//
// * `projects/{{project_id}}/sinks/{{name}}`
//
// When using the `pulumi import` command, project-level logging sinks can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:logging/projectSink:ProjectSink default projects/{{project_id}}/sinks/{{name}}
// ```
type ProjectSink struct {
	pulumi.CustomResourceState

	// Options that affect sinks exporting data to BigQuery. Structure documented below.
	BigqueryOptions ProjectSinkBigqueryOptionsOutput `pulumi:"bigqueryOptions"`
	// A user managed service account that will be used to write
	// the log entries. The format must be `serviceAccount:some@email`. This field can only be specified if you are
	// routing logs to a destination outside this sink's project. If not specified, a Logging service account
	// will automatically be generated.
	CustomWriterIdentity pulumi.StringPtrOutput `pulumi:"customWriterIdentity"`
	// A description of this sink. The maximum length of the description is 8000 characters.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The destination of the sink (or, in other words, where logs are written to). Can be a Cloud Storage bucket, a PubSub topic, a BigQuery dataset, a Cloud Logging bucket, or a Google Cloud project. Examples:
	//
	// - `storage.googleapis.com/[GCS_BUCKET]`
	// - `bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET]`
	// - `pubsub.googleapis.com/projects/[PROJECT_ID]/topics/[TOPIC_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]/locations/global/buckets/[BUCKET_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]`
	//
	// The writer associated with the sink must have access to write to the above resource.
	Destination pulumi.StringOutput `pulumi:"destination"`
	// If set to True, then this sink is disabled and it does not export any log entries.
	Disabled pulumi.BoolPtrOutput `pulumi:"disabled"`
	// Log entries that match any of the exclusion filters will not be exported. If a log entry is matched by both `filter` and one of `exclusions.filter`, it will not be exported.  Can be repeated multiple times for multiple exclusions. Structure is documented below.
	Exclusions ProjectSinkExclusionArrayOutput `pulumi:"exclusions"`
	// The filter to apply when exporting logs. Only log entries that match the filter are exported.
	// See [Advanced Log Filters](https://cloud.google.com/logging/docs/view/advanced_filters) for information on how to
	// write a filter.
	Filter pulumi.StringPtrOutput `pulumi:"filter"`
	// The name of the logging sink. Logging automatically creates two sinks: `_Required` and `_Default`.
	Name pulumi.StringOutput `pulumi:"name"`
	// The ID of the project to create the sink in. If omitted, the project associated with the provider is
	// used.
	Project pulumi.StringOutput `pulumi:"project"`
	// Whether or not to create a unique identity associated with this sink. If `false`, then the `writerIdentity` used is `serviceAccount:cloud-logs@system.gserviceaccount.com`. If `true` (the default),
	// then a unique service account is created and used for this sink. If you wish to publish logs across projects or utilize
	// `bigqueryOptions`, you must set `uniqueWriterIdentity` to true.
	UniqueWriterIdentity pulumi.BoolPtrOutput `pulumi:"uniqueWriterIdentity"`
	// The identity associated with this sink. This identity must be granted write access to the
	// configured `destination`.
	WriterIdentity pulumi.StringOutput `pulumi:"writerIdentity"`
}

// NewProjectSink registers a new resource with the given unique name, arguments, and options.
func NewProjectSink(ctx *pulumi.Context,
	name string, args *ProjectSinkArgs, opts ...pulumi.ResourceOption) (*ProjectSink, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Destination == nil {
		return nil, errors.New("invalid value for required argument 'Destination'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ProjectSink
	err := ctx.RegisterResource("gcp:logging/projectSink:ProjectSink", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProjectSink gets an existing ProjectSink resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProjectSink(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ProjectSinkState, opts ...pulumi.ResourceOption) (*ProjectSink, error) {
	var resource ProjectSink
	err := ctx.ReadResource("gcp:logging/projectSink:ProjectSink", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ProjectSink resources.
type projectSinkState struct {
	// Options that affect sinks exporting data to BigQuery. Structure documented below.
	BigqueryOptions *ProjectSinkBigqueryOptions `pulumi:"bigqueryOptions"`
	// A user managed service account that will be used to write
	// the log entries. The format must be `serviceAccount:some@email`. This field can only be specified if you are
	// routing logs to a destination outside this sink's project. If not specified, a Logging service account
	// will automatically be generated.
	CustomWriterIdentity *string `pulumi:"customWriterIdentity"`
	// A description of this sink. The maximum length of the description is 8000 characters.
	Description *string `pulumi:"description"`
	// The destination of the sink (or, in other words, where logs are written to). Can be a Cloud Storage bucket, a PubSub topic, a BigQuery dataset, a Cloud Logging bucket, or a Google Cloud project. Examples:
	//
	// - `storage.googleapis.com/[GCS_BUCKET]`
	// - `bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET]`
	// - `pubsub.googleapis.com/projects/[PROJECT_ID]/topics/[TOPIC_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]/locations/global/buckets/[BUCKET_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]`
	//
	// The writer associated with the sink must have access to write to the above resource.
	Destination *string `pulumi:"destination"`
	// If set to True, then this sink is disabled and it does not export any log entries.
	Disabled *bool `pulumi:"disabled"`
	// Log entries that match any of the exclusion filters will not be exported. If a log entry is matched by both `filter` and one of `exclusions.filter`, it will not be exported.  Can be repeated multiple times for multiple exclusions. Structure is documented below.
	Exclusions []ProjectSinkExclusion `pulumi:"exclusions"`
	// The filter to apply when exporting logs. Only log entries that match the filter are exported.
	// See [Advanced Log Filters](https://cloud.google.com/logging/docs/view/advanced_filters) for information on how to
	// write a filter.
	Filter *string `pulumi:"filter"`
	// The name of the logging sink. Logging automatically creates two sinks: `_Required` and `_Default`.
	Name *string `pulumi:"name"`
	// The ID of the project to create the sink in. If omitted, the project associated with the provider is
	// used.
	Project *string `pulumi:"project"`
	// Whether or not to create a unique identity associated with this sink. If `false`, then the `writerIdentity` used is `serviceAccount:cloud-logs@system.gserviceaccount.com`. If `true` (the default),
	// then a unique service account is created and used for this sink. If you wish to publish logs across projects or utilize
	// `bigqueryOptions`, you must set `uniqueWriterIdentity` to true.
	UniqueWriterIdentity *bool `pulumi:"uniqueWriterIdentity"`
	// The identity associated with this sink. This identity must be granted write access to the
	// configured `destination`.
	WriterIdentity *string `pulumi:"writerIdentity"`
}

type ProjectSinkState struct {
	// Options that affect sinks exporting data to BigQuery. Structure documented below.
	BigqueryOptions ProjectSinkBigqueryOptionsPtrInput
	// A user managed service account that will be used to write
	// the log entries. The format must be `serviceAccount:some@email`. This field can only be specified if you are
	// routing logs to a destination outside this sink's project. If not specified, a Logging service account
	// will automatically be generated.
	CustomWriterIdentity pulumi.StringPtrInput
	// A description of this sink. The maximum length of the description is 8000 characters.
	Description pulumi.StringPtrInput
	// The destination of the sink (or, in other words, where logs are written to). Can be a Cloud Storage bucket, a PubSub topic, a BigQuery dataset, a Cloud Logging bucket, or a Google Cloud project. Examples:
	//
	// - `storage.googleapis.com/[GCS_BUCKET]`
	// - `bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET]`
	// - `pubsub.googleapis.com/projects/[PROJECT_ID]/topics/[TOPIC_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]/locations/global/buckets/[BUCKET_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]`
	//
	// The writer associated with the sink must have access to write to the above resource.
	Destination pulumi.StringPtrInput
	// If set to True, then this sink is disabled and it does not export any log entries.
	Disabled pulumi.BoolPtrInput
	// Log entries that match any of the exclusion filters will not be exported. If a log entry is matched by both `filter` and one of `exclusions.filter`, it will not be exported.  Can be repeated multiple times for multiple exclusions. Structure is documented below.
	Exclusions ProjectSinkExclusionArrayInput
	// The filter to apply when exporting logs. Only log entries that match the filter are exported.
	// See [Advanced Log Filters](https://cloud.google.com/logging/docs/view/advanced_filters) for information on how to
	// write a filter.
	Filter pulumi.StringPtrInput
	// The name of the logging sink. Logging automatically creates two sinks: `_Required` and `_Default`.
	Name pulumi.StringPtrInput
	// The ID of the project to create the sink in. If omitted, the project associated with the provider is
	// used.
	Project pulumi.StringPtrInput
	// Whether or not to create a unique identity associated with this sink. If `false`, then the `writerIdentity` used is `serviceAccount:cloud-logs@system.gserviceaccount.com`. If `true` (the default),
	// then a unique service account is created and used for this sink. If you wish to publish logs across projects or utilize
	// `bigqueryOptions`, you must set `uniqueWriterIdentity` to true.
	UniqueWriterIdentity pulumi.BoolPtrInput
	// The identity associated with this sink. This identity must be granted write access to the
	// configured `destination`.
	WriterIdentity pulumi.StringPtrInput
}

func (ProjectSinkState) ElementType() reflect.Type {
	return reflect.TypeOf((*projectSinkState)(nil)).Elem()
}

type projectSinkArgs struct {
	// Options that affect sinks exporting data to BigQuery. Structure documented below.
	BigqueryOptions *ProjectSinkBigqueryOptions `pulumi:"bigqueryOptions"`
	// A user managed service account that will be used to write
	// the log entries. The format must be `serviceAccount:some@email`. This field can only be specified if you are
	// routing logs to a destination outside this sink's project. If not specified, a Logging service account
	// will automatically be generated.
	CustomWriterIdentity *string `pulumi:"customWriterIdentity"`
	// A description of this sink. The maximum length of the description is 8000 characters.
	Description *string `pulumi:"description"`
	// The destination of the sink (or, in other words, where logs are written to). Can be a Cloud Storage bucket, a PubSub topic, a BigQuery dataset, a Cloud Logging bucket, or a Google Cloud project. Examples:
	//
	// - `storage.googleapis.com/[GCS_BUCKET]`
	// - `bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET]`
	// - `pubsub.googleapis.com/projects/[PROJECT_ID]/topics/[TOPIC_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]/locations/global/buckets/[BUCKET_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]`
	//
	// The writer associated with the sink must have access to write to the above resource.
	Destination string `pulumi:"destination"`
	// If set to True, then this sink is disabled and it does not export any log entries.
	Disabled *bool `pulumi:"disabled"`
	// Log entries that match any of the exclusion filters will not be exported. If a log entry is matched by both `filter` and one of `exclusions.filter`, it will not be exported.  Can be repeated multiple times for multiple exclusions. Structure is documented below.
	Exclusions []ProjectSinkExclusion `pulumi:"exclusions"`
	// The filter to apply when exporting logs. Only log entries that match the filter are exported.
	// See [Advanced Log Filters](https://cloud.google.com/logging/docs/view/advanced_filters) for information on how to
	// write a filter.
	Filter *string `pulumi:"filter"`
	// The name of the logging sink. Logging automatically creates two sinks: `_Required` and `_Default`.
	Name *string `pulumi:"name"`
	// The ID of the project to create the sink in. If omitted, the project associated with the provider is
	// used.
	Project *string `pulumi:"project"`
	// Whether or not to create a unique identity associated with this sink. If `false`, then the `writerIdentity` used is `serviceAccount:cloud-logs@system.gserviceaccount.com`. If `true` (the default),
	// then a unique service account is created and used for this sink. If you wish to publish logs across projects or utilize
	// `bigqueryOptions`, you must set `uniqueWriterIdentity` to true.
	UniqueWriterIdentity *bool `pulumi:"uniqueWriterIdentity"`
}

// The set of arguments for constructing a ProjectSink resource.
type ProjectSinkArgs struct {
	// Options that affect sinks exporting data to BigQuery. Structure documented below.
	BigqueryOptions ProjectSinkBigqueryOptionsPtrInput
	// A user managed service account that will be used to write
	// the log entries. The format must be `serviceAccount:some@email`. This field can only be specified if you are
	// routing logs to a destination outside this sink's project. If not specified, a Logging service account
	// will automatically be generated.
	CustomWriterIdentity pulumi.StringPtrInput
	// A description of this sink. The maximum length of the description is 8000 characters.
	Description pulumi.StringPtrInput
	// The destination of the sink (or, in other words, where logs are written to). Can be a Cloud Storage bucket, a PubSub topic, a BigQuery dataset, a Cloud Logging bucket, or a Google Cloud project. Examples:
	//
	// - `storage.googleapis.com/[GCS_BUCKET]`
	// - `bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET]`
	// - `pubsub.googleapis.com/projects/[PROJECT_ID]/topics/[TOPIC_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]/locations/global/buckets/[BUCKET_ID]`
	// - `logging.googleapis.com/projects/[PROJECT_ID]`
	//
	// The writer associated with the sink must have access to write to the above resource.
	Destination pulumi.StringInput
	// If set to True, then this sink is disabled and it does not export any log entries.
	Disabled pulumi.BoolPtrInput
	// Log entries that match any of the exclusion filters will not be exported. If a log entry is matched by both `filter` and one of `exclusions.filter`, it will not be exported.  Can be repeated multiple times for multiple exclusions. Structure is documented below.
	Exclusions ProjectSinkExclusionArrayInput
	// The filter to apply when exporting logs. Only log entries that match the filter are exported.
	// See [Advanced Log Filters](https://cloud.google.com/logging/docs/view/advanced_filters) for information on how to
	// write a filter.
	Filter pulumi.StringPtrInput
	// The name of the logging sink. Logging automatically creates two sinks: `_Required` and `_Default`.
	Name pulumi.StringPtrInput
	// The ID of the project to create the sink in. If omitted, the project associated with the provider is
	// used.
	Project pulumi.StringPtrInput
	// Whether or not to create a unique identity associated with this sink. If `false`, then the `writerIdentity` used is `serviceAccount:cloud-logs@system.gserviceaccount.com`. If `true` (the default),
	// then a unique service account is created and used for this sink. If you wish to publish logs across projects or utilize
	// `bigqueryOptions`, you must set `uniqueWriterIdentity` to true.
	UniqueWriterIdentity pulumi.BoolPtrInput
}

func (ProjectSinkArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*projectSinkArgs)(nil)).Elem()
}

type ProjectSinkInput interface {
	pulumi.Input

	ToProjectSinkOutput() ProjectSinkOutput
	ToProjectSinkOutputWithContext(ctx context.Context) ProjectSinkOutput
}

func (*ProjectSink) ElementType() reflect.Type {
	return reflect.TypeOf((**ProjectSink)(nil)).Elem()
}

func (i *ProjectSink) ToProjectSinkOutput() ProjectSinkOutput {
	return i.ToProjectSinkOutputWithContext(context.Background())
}

func (i *ProjectSink) ToProjectSinkOutputWithContext(ctx context.Context) ProjectSinkOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectSinkOutput)
}

// ProjectSinkArrayInput is an input type that accepts ProjectSinkArray and ProjectSinkArrayOutput values.
// You can construct a concrete instance of `ProjectSinkArrayInput` via:
//
//	ProjectSinkArray{ ProjectSinkArgs{...} }
type ProjectSinkArrayInput interface {
	pulumi.Input

	ToProjectSinkArrayOutput() ProjectSinkArrayOutput
	ToProjectSinkArrayOutputWithContext(context.Context) ProjectSinkArrayOutput
}

type ProjectSinkArray []ProjectSinkInput

func (ProjectSinkArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProjectSink)(nil)).Elem()
}

func (i ProjectSinkArray) ToProjectSinkArrayOutput() ProjectSinkArrayOutput {
	return i.ToProjectSinkArrayOutputWithContext(context.Background())
}

func (i ProjectSinkArray) ToProjectSinkArrayOutputWithContext(ctx context.Context) ProjectSinkArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectSinkArrayOutput)
}

// ProjectSinkMapInput is an input type that accepts ProjectSinkMap and ProjectSinkMapOutput values.
// You can construct a concrete instance of `ProjectSinkMapInput` via:
//
//	ProjectSinkMap{ "key": ProjectSinkArgs{...} }
type ProjectSinkMapInput interface {
	pulumi.Input

	ToProjectSinkMapOutput() ProjectSinkMapOutput
	ToProjectSinkMapOutputWithContext(context.Context) ProjectSinkMapOutput
}

type ProjectSinkMap map[string]ProjectSinkInput

func (ProjectSinkMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProjectSink)(nil)).Elem()
}

func (i ProjectSinkMap) ToProjectSinkMapOutput() ProjectSinkMapOutput {
	return i.ToProjectSinkMapOutputWithContext(context.Background())
}

func (i ProjectSinkMap) ToProjectSinkMapOutputWithContext(ctx context.Context) ProjectSinkMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectSinkMapOutput)
}

type ProjectSinkOutput struct{ *pulumi.OutputState }

func (ProjectSinkOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ProjectSink)(nil)).Elem()
}

func (o ProjectSinkOutput) ToProjectSinkOutput() ProjectSinkOutput {
	return o
}

func (o ProjectSinkOutput) ToProjectSinkOutputWithContext(ctx context.Context) ProjectSinkOutput {
	return o
}

// Options that affect sinks exporting data to BigQuery. Structure documented below.
func (o ProjectSinkOutput) BigqueryOptions() ProjectSinkBigqueryOptionsOutput {
	return o.ApplyT(func(v *ProjectSink) ProjectSinkBigqueryOptionsOutput { return v.BigqueryOptions }).(ProjectSinkBigqueryOptionsOutput)
}

// A user managed service account that will be used to write
// the log entries. The format must be `serviceAccount:some@email`. This field can only be specified if you are
// routing logs to a destination outside this sink's project. If not specified, a Logging service account
// will automatically be generated.
func (o ProjectSinkOutput) CustomWriterIdentity() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringPtrOutput { return v.CustomWriterIdentity }).(pulumi.StringPtrOutput)
}

// A description of this sink. The maximum length of the description is 8000 characters.
func (o ProjectSinkOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The destination of the sink (or, in other words, where logs are written to). Can be a Cloud Storage bucket, a PubSub topic, a BigQuery dataset, a Cloud Logging bucket, or a Google Cloud project. Examples:
//
// - `storage.googleapis.com/[GCS_BUCKET]`
// - `bigquery.googleapis.com/projects/[PROJECT_ID]/datasets/[DATASET]`
// - `pubsub.googleapis.com/projects/[PROJECT_ID]/topics/[TOPIC_ID]`
// - `logging.googleapis.com/projects/[PROJECT_ID]/locations/global/buckets/[BUCKET_ID]`
// - `logging.googleapis.com/projects/[PROJECT_ID]`
//
// The writer associated with the sink must have access to write to the above resource.
func (o ProjectSinkOutput) Destination() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringOutput { return v.Destination }).(pulumi.StringOutput)
}

// If set to True, then this sink is disabled and it does not export any log entries.
func (o ProjectSinkOutput) Disabled() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.BoolPtrOutput { return v.Disabled }).(pulumi.BoolPtrOutput)
}

// Log entries that match any of the exclusion filters will not be exported. If a log entry is matched by both `filter` and one of `exclusions.filter`, it will not be exported.  Can be repeated multiple times for multiple exclusions. Structure is documented below.
func (o ProjectSinkOutput) Exclusions() ProjectSinkExclusionArrayOutput {
	return o.ApplyT(func(v *ProjectSink) ProjectSinkExclusionArrayOutput { return v.Exclusions }).(ProjectSinkExclusionArrayOutput)
}

// The filter to apply when exporting logs. Only log entries that match the filter are exported.
// See [Advanced Log Filters](https://cloud.google.com/logging/docs/view/advanced_filters) for information on how to
// write a filter.
func (o ProjectSinkOutput) Filter() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringPtrOutput { return v.Filter }).(pulumi.StringPtrOutput)
}

// The name of the logging sink. Logging automatically creates two sinks: `_Required` and `_Default`.
func (o ProjectSinkOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The ID of the project to create the sink in. If omitted, the project associated with the provider is
// used.
func (o ProjectSinkOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// Whether or not to create a unique identity associated with this sink. If `false`, then the `writerIdentity` used is `serviceAccount:cloud-logs@system.gserviceaccount.com`. If `true` (the default),
// then a unique service account is created and used for this sink. If you wish to publish logs across projects or utilize
// `bigqueryOptions`, you must set `uniqueWriterIdentity` to true.
func (o ProjectSinkOutput) UniqueWriterIdentity() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.BoolPtrOutput { return v.UniqueWriterIdentity }).(pulumi.BoolPtrOutput)
}

// The identity associated with this sink. This identity must be granted write access to the
// configured `destination`.
func (o ProjectSinkOutput) WriterIdentity() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectSink) pulumi.StringOutput { return v.WriterIdentity }).(pulumi.StringOutput)
}

type ProjectSinkArrayOutput struct{ *pulumi.OutputState }

func (ProjectSinkArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProjectSink)(nil)).Elem()
}

func (o ProjectSinkArrayOutput) ToProjectSinkArrayOutput() ProjectSinkArrayOutput {
	return o
}

func (o ProjectSinkArrayOutput) ToProjectSinkArrayOutputWithContext(ctx context.Context) ProjectSinkArrayOutput {
	return o
}

func (o ProjectSinkArrayOutput) Index(i pulumi.IntInput) ProjectSinkOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ProjectSink {
		return vs[0].([]*ProjectSink)[vs[1].(int)]
	}).(ProjectSinkOutput)
}

type ProjectSinkMapOutput struct{ *pulumi.OutputState }

func (ProjectSinkMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProjectSink)(nil)).Elem()
}

func (o ProjectSinkMapOutput) ToProjectSinkMapOutput() ProjectSinkMapOutput {
	return o
}

func (o ProjectSinkMapOutput) ToProjectSinkMapOutputWithContext(ctx context.Context) ProjectSinkMapOutput {
	return o
}

func (o ProjectSinkMapOutput) MapIndex(k pulumi.StringInput) ProjectSinkOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ProjectSink {
		return vs[0].(map[string]*ProjectSink)[vs[1].(string)]
	}).(ProjectSinkOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectSinkInput)(nil)).Elem(), &ProjectSink{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectSinkArrayInput)(nil)).Elem(), ProjectSinkArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectSinkMapInput)(nil)).Elem(), ProjectSinkMap{})
	pulumi.RegisterOutputType(ProjectSinkOutput{})
	pulumi.RegisterOutputType(ProjectSinkArrayOutput{})
	pulumi.RegisterOutputType(ProjectSinkMapOutput{})
}
