// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package firestore

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// User credentials for a Cloud Firestore with MongoDB compatibility database.
// The resource is owned by the database and is deleted along with the database.
//
// To get more information about UserCreds, see:
//
// * [API documentation](https://cloud.google.com/firestore/docs/reference/rest/v1/projects.databases.userCreds)
// * How-to Guides
//   - [Authenticate and connect to a database](https://cloud.google.com/firestore/mongodb-compatibility/docs/connect)
//
// ## Example Usage
//
// ### Firestore User Creds Basic
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/firestore"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			database, err := firestore.NewDatabase(ctx, "database", &firestore.DatabaseArgs{
//				Project:               pulumi.String("my-project-name"),
//				Name:                  pulumi.String("database-id-mongodb-compatible"),
//				LocationId:            pulumi.String("nam5"),
//				Type:                  pulumi.String("FIRESTORE_NATIVE"),
//				DatabaseEdition:       pulumi.String("ENTERPRISE"),
//				DeleteProtectionState: pulumi.String("DELETE_PROTECTION_DISABLED"),
//				DeletionPolicy:        pulumi.String("DELETE"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = firestore.NewUserCreds(ctx, "my-user-creds", &firestore.UserCredsArgs{
//				Project:  pulumi.String("my-project-name"),
//				Database: database.Name,
//				Name:     pulumi.String("my-username"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
// ### Firestore User Creds With Secret Manager
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/firestore"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/secretmanager"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			database, err := firestore.NewDatabase(ctx, "database", &firestore.DatabaseArgs{
//				Project:               pulumi.String("my-project-name"),
//				Name:                  pulumi.String("database-id-mongodb-compatible"),
//				LocationId:            pulumi.String("nam5"),
//				Type:                  pulumi.String("FIRESTORE_NATIVE"),
//				DatabaseEdition:       pulumi.String("ENTERPRISE"),
//				DeleteProtectionState: pulumi.String("DELETE_PROTECTION_DISABLED"),
//				DeletionPolicy:        pulumi.String("DELETE"),
//			})
//			if err != nil {
//				return err
//			}
//			my_user_creds, err := firestore.NewUserCreds(ctx, "my-user-creds", &firestore.UserCredsArgs{
//				Project:  pulumi.String("my-project-name"),
//				Database: database.Name,
//				Name:     pulumi.String("my-username"),
//			})
//			if err != nil {
//				return err
//			}
//			my_fs_user_creds_secret, err := secretmanager.NewSecret(ctx, "my-fs-user-creds-secret", &secretmanager.SecretArgs{
//				Project:  pulumi.String("my-project-name"),
//				SecretId: pulumi.String("my-fs-user-creds-secret"),
//				Replication: &secretmanager.SecretReplicationArgs{
//					Auto: &secretmanager.SecretReplicationAutoArgs{},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = secretmanager.NewSecretVersion(ctx, "my-fs-user-creds-secret-version", &secretmanager.SecretVersionArgs{
//				Secret:     my_fs_user_creds_secret.ID(),
//				SecretData: my_user_creds.SecurePassword,
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// UserCreds can be imported using any of these accepted formats:
//
// * `projects/{{project}}/databases/{{database}}/userCreds/{{name}}`
// * `{{project}}/{{database}}/{{name}}`
// * `{{database}}/{{name}}`
//
// When using the `pulumi import` command, UserCreds can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:firestore/userCreds:UserCreds default projects/{{project}}/databases/{{database}}/userCreds/{{name}}
// $ pulumi import gcp:firestore/userCreds:UserCreds default {{project}}/{{database}}/{{name}}
// $ pulumi import gcp:firestore/userCreds:UserCreds default {{database}}/{{name}}
// ```
type UserCreds struct {
	pulumi.CustomResourceState

	// The timestamp at which these user creds were created.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// The Firestore database ID.
	Database pulumi.StringOutput `pulumi:"database"`
	// The ID to use for the user creds, which will become the final component
	// of the user cred's resource name.
	// This value should be 4-63 characters. Valid characters are /[a-z][0-9]-/
	// with first character a letter and the last a letter or a number. Must not
	// be UUID-like /[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}/.
	Name pulumi.StringOutput `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
	// Describes the Resource Identity principal.
	// Structure is documented below.
	ResourceIdentities UserCredsResourceIdentityArrayOutput `pulumi:"resourceIdentities"`
	// The plaintext server-generated password for the user creds.
	// **Note**: This property is sensitive and will not be displayed in the plan.
	SecurePassword pulumi.StringOutput `pulumi:"securePassword"`
	// The state of the user creds.
	State pulumi.StringOutput `pulumi:"state"`
	// The timestamp at which these user creds were updated.
	UpdateTime pulumi.StringOutput `pulumi:"updateTime"`
}

// NewUserCreds registers a new resource with the given unique name, arguments, and options.
func NewUserCreds(ctx *pulumi.Context,
	name string, args *UserCredsArgs, opts ...pulumi.ResourceOption) (*UserCreds, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Database == nil {
		return nil, errors.New("invalid value for required argument 'Database'")
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"securePassword",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource UserCreds
	err := ctx.RegisterResource("gcp:firestore/userCreds:UserCreds", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetUserCreds gets an existing UserCreds resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetUserCreds(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *UserCredsState, opts ...pulumi.ResourceOption) (*UserCreds, error) {
	var resource UserCreds
	err := ctx.ReadResource("gcp:firestore/userCreds:UserCreds", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering UserCreds resources.
type userCredsState struct {
	// The timestamp at which these user creds were created.
	CreateTime *string `pulumi:"createTime"`
	// The Firestore database ID.
	Database *string `pulumi:"database"`
	// The ID to use for the user creds, which will become the final component
	// of the user cred's resource name.
	// This value should be 4-63 characters. Valid characters are /[a-z][0-9]-/
	// with first character a letter and the last a letter or a number. Must not
	// be UUID-like /[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}/.
	Name *string `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// Describes the Resource Identity principal.
	// Structure is documented below.
	ResourceIdentities []UserCredsResourceIdentity `pulumi:"resourceIdentities"`
	// The plaintext server-generated password for the user creds.
	// **Note**: This property is sensitive and will not be displayed in the plan.
	SecurePassword *string `pulumi:"securePassword"`
	// The state of the user creds.
	State *string `pulumi:"state"`
	// The timestamp at which these user creds were updated.
	UpdateTime *string `pulumi:"updateTime"`
}

type UserCredsState struct {
	// The timestamp at which these user creds were created.
	CreateTime pulumi.StringPtrInput
	// The Firestore database ID.
	Database pulumi.StringPtrInput
	// The ID to use for the user creds, which will become the final component
	// of the user cred's resource name.
	// This value should be 4-63 characters. Valid characters are /[a-z][0-9]-/
	// with first character a letter and the last a letter or a number. Must not
	// be UUID-like /[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}/.
	Name pulumi.StringPtrInput
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// Describes the Resource Identity principal.
	// Structure is documented below.
	ResourceIdentities UserCredsResourceIdentityArrayInput
	// The plaintext server-generated password for the user creds.
	// **Note**: This property is sensitive and will not be displayed in the plan.
	SecurePassword pulumi.StringPtrInput
	// The state of the user creds.
	State pulumi.StringPtrInput
	// The timestamp at which these user creds were updated.
	UpdateTime pulumi.StringPtrInput
}

func (UserCredsState) ElementType() reflect.Type {
	return reflect.TypeOf((*userCredsState)(nil)).Elem()
}

type userCredsArgs struct {
	// The Firestore database ID.
	Database string `pulumi:"database"`
	// The ID to use for the user creds, which will become the final component
	// of the user cred's resource name.
	// This value should be 4-63 characters. Valid characters are /[a-z][0-9]-/
	// with first character a letter and the last a letter or a number. Must not
	// be UUID-like /[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}/.
	Name *string `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project *string `pulumi:"project"`
}

// The set of arguments for constructing a UserCreds resource.
type UserCredsArgs struct {
	// The Firestore database ID.
	Database pulumi.StringInput
	// The ID to use for the user creds, which will become the final component
	// of the user cred's resource name.
	// This value should be 4-63 characters. Valid characters are /[a-z][0-9]-/
	// with first character a letter and the last a letter or a number. Must not
	// be UUID-like /[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}/.
	Name pulumi.StringPtrInput
	// The ID of the project in which the resource belongs.
	// If it is not provided, the provider project is used.
	Project pulumi.StringPtrInput
}

func (UserCredsArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*userCredsArgs)(nil)).Elem()
}

type UserCredsInput interface {
	pulumi.Input

	ToUserCredsOutput() UserCredsOutput
	ToUserCredsOutputWithContext(ctx context.Context) UserCredsOutput
}

func (*UserCreds) ElementType() reflect.Type {
	return reflect.TypeOf((**UserCreds)(nil)).Elem()
}

func (i *UserCreds) ToUserCredsOutput() UserCredsOutput {
	return i.ToUserCredsOutputWithContext(context.Background())
}

func (i *UserCreds) ToUserCredsOutputWithContext(ctx context.Context) UserCredsOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserCredsOutput)
}

// UserCredsArrayInput is an input type that accepts UserCredsArray and UserCredsArrayOutput values.
// You can construct a concrete instance of `UserCredsArrayInput` via:
//
//	UserCredsArray{ UserCredsArgs{...} }
type UserCredsArrayInput interface {
	pulumi.Input

	ToUserCredsArrayOutput() UserCredsArrayOutput
	ToUserCredsArrayOutputWithContext(context.Context) UserCredsArrayOutput
}

type UserCredsArray []UserCredsInput

func (UserCredsArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*UserCreds)(nil)).Elem()
}

func (i UserCredsArray) ToUserCredsArrayOutput() UserCredsArrayOutput {
	return i.ToUserCredsArrayOutputWithContext(context.Background())
}

func (i UserCredsArray) ToUserCredsArrayOutputWithContext(ctx context.Context) UserCredsArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserCredsArrayOutput)
}

// UserCredsMapInput is an input type that accepts UserCredsMap and UserCredsMapOutput values.
// You can construct a concrete instance of `UserCredsMapInput` via:
//
//	UserCredsMap{ "key": UserCredsArgs{...} }
type UserCredsMapInput interface {
	pulumi.Input

	ToUserCredsMapOutput() UserCredsMapOutput
	ToUserCredsMapOutputWithContext(context.Context) UserCredsMapOutput
}

type UserCredsMap map[string]UserCredsInput

func (UserCredsMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*UserCreds)(nil)).Elem()
}

func (i UserCredsMap) ToUserCredsMapOutput() UserCredsMapOutput {
	return i.ToUserCredsMapOutputWithContext(context.Background())
}

func (i UserCredsMap) ToUserCredsMapOutputWithContext(ctx context.Context) UserCredsMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(UserCredsMapOutput)
}

type UserCredsOutput struct{ *pulumi.OutputState }

func (UserCredsOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**UserCreds)(nil)).Elem()
}

func (o UserCredsOutput) ToUserCredsOutput() UserCredsOutput {
	return o
}

func (o UserCredsOutput) ToUserCredsOutputWithContext(ctx context.Context) UserCredsOutput {
	return o
}

// The timestamp at which these user creds were created.
func (o UserCredsOutput) CreateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.CreateTime }).(pulumi.StringOutput)
}

// The Firestore database ID.
func (o UserCredsOutput) Database() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.Database }).(pulumi.StringOutput)
}

// The ID to use for the user creds, which will become the final component
// of the user cred's resource name.
// This value should be 4-63 characters. Valid characters are /[a-z][0-9]-/
// with first character a letter and the last a letter or a number. Must not
// be UUID-like /[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}/.
func (o UserCredsOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The ID of the project in which the resource belongs.
// If it is not provided, the provider project is used.
func (o UserCredsOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// Describes the Resource Identity principal.
// Structure is documented below.
func (o UserCredsOutput) ResourceIdentities() UserCredsResourceIdentityArrayOutput {
	return o.ApplyT(func(v *UserCreds) UserCredsResourceIdentityArrayOutput { return v.ResourceIdentities }).(UserCredsResourceIdentityArrayOutput)
}

// The plaintext server-generated password for the user creds.
// **Note**: This property is sensitive and will not be displayed in the plan.
func (o UserCredsOutput) SecurePassword() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.SecurePassword }).(pulumi.StringOutput)
}

// The state of the user creds.
func (o UserCredsOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.State }).(pulumi.StringOutput)
}

// The timestamp at which these user creds were updated.
func (o UserCredsOutput) UpdateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *UserCreds) pulumi.StringOutput { return v.UpdateTime }).(pulumi.StringOutput)
}

type UserCredsArrayOutput struct{ *pulumi.OutputState }

func (UserCredsArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*UserCreds)(nil)).Elem()
}

func (o UserCredsArrayOutput) ToUserCredsArrayOutput() UserCredsArrayOutput {
	return o
}

func (o UserCredsArrayOutput) ToUserCredsArrayOutputWithContext(ctx context.Context) UserCredsArrayOutput {
	return o
}

func (o UserCredsArrayOutput) Index(i pulumi.IntInput) UserCredsOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *UserCreds {
		return vs[0].([]*UserCreds)[vs[1].(int)]
	}).(UserCredsOutput)
}

type UserCredsMapOutput struct{ *pulumi.OutputState }

func (UserCredsMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*UserCreds)(nil)).Elem()
}

func (o UserCredsMapOutput) ToUserCredsMapOutput() UserCredsMapOutput {
	return o
}

func (o UserCredsMapOutput) ToUserCredsMapOutputWithContext(ctx context.Context) UserCredsMapOutput {
	return o
}

func (o UserCredsMapOutput) MapIndex(k pulumi.StringInput) UserCredsOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *UserCreds {
		return vs[0].(map[string]*UserCreds)[vs[1].(string)]
	}).(UserCredsOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*UserCredsInput)(nil)).Elem(), &UserCreds{})
	pulumi.RegisterInputType(reflect.TypeOf((*UserCredsArrayInput)(nil)).Elem(), UserCredsArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*UserCredsMapInput)(nil)).Elem(), UserCredsMap{})
	pulumi.RegisterOutputType(UserCredsOutput{})
	pulumi.RegisterOutputType(UserCredsArrayOutput{})
	pulumi.RegisterOutputType(UserCredsMapOutput{})
}
