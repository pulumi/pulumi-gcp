// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package compute

import (
	"context"
	"errors"
	"reflect"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Get information about a VM instance resource within GCE. For more information see
// [the official documentation](https://cloud.google.com/compute/docs/instances)
// and
// [API](https://cloud.google.com/compute/docs/reference/latest/instances).
//
// Get information about VM's guest attrubutes. For more information see [the official documentation](https://cloud.google.com/compute/docs/metadata/manage-guest-attributes)
// and
// [API](https://cloud.google.com/compute/docs/reference/rest/v1/instances/getGuestAttributes).
//
// ## Example Usage
//
// ### Get All Attributes From A Single Namespace
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := compute.GetInstanceGuestAttributes(ctx, &compute.GetInstanceGuestAttributesArgs{
//				Name:      "primary-application-server",
//				Zone:      pulumi.StringRef("us-central1-a"),
//				QueryPath: pulumi.StringRef("variables/"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Get A Specific Variable
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := compute.GetInstanceGuestAttributes(ctx, &compute.GetInstanceGuestAttributesArgs{
//				Name:        "primary-application-server",
//				Zone:        pulumi.StringRef("us-central1-a"),
//				VariableKey: pulumi.StringRef("variables/key1"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func GetInstanceGuestAttributes(ctx *pulumi.Context, args *GetInstanceGuestAttributesArgs, opts ...pulumi.InvokeOption) (*GetInstanceGuestAttributesResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	invokeOpts, optsErr := pulumi.NewInvokeOptions(opts...)
	if optsErr != nil {
		return &GetInstanceGuestAttributesResult{}, optsErr
	}
	if len(invokeOpts.DependsOn) > 0 {
		return &GetInstanceGuestAttributesResult{}, errors.New("DependsOn is not supported for direct form invoke GetInstanceGuestAttributes, use GetInstanceGuestAttributesOutput instead")
	}
	if len(invokeOpts.DependsOnInputs) > 0 {
		return &GetInstanceGuestAttributesResult{}, errors.New("DependsOnInputs is not supported for direct form invoke GetInstanceGuestAttributes, use GetInstanceGuestAttributesOutput instead")
	}
	var rv GetInstanceGuestAttributesResult
	err := ctx.Invoke("gcp:compute/getInstanceGuestAttributes:getInstanceGuestAttributes", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getInstanceGuestAttributes.
type GetInstanceGuestAttributesArgs struct {
	// The name or selfLink of the instance.
	Name string `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If `selfLink` is provided, this value is ignored.  If neither `selfLink`
	// nor `project` are provided, the provider project is used.
	Project *string `pulumi:"project"`
	// Path to query for the guest attributes. Consists of
	// `namespace` name for the attributes followed with a `/`.
	QueryPath *string `pulumi:"queryPath"`
	Region    *string `pulumi:"region"`
	// Key of a variable to get the value of. Consists of
	// `namespace` name and `key` name for the variable separated by a `/`.
	VariableKey *string `pulumi:"variableKey"`
	// The zone of the instance. If `selfLink` is provided, this
	// value is ignored.  If neither `selfLink` nor `zone` are provided, the
	// provider zone is used.
	Zone *string `pulumi:"zone"`
}

// A collection of values returned by getInstanceGuestAttributes.
type GetInstanceGuestAttributesResult struct {
	// The provider-assigned unique ID for this managed resource.
	Id        string  `pulumi:"id"`
	Name      string  `pulumi:"name"`
	Project   string  `pulumi:"project"`
	QueryPath *string `pulumi:"queryPath"`
	// Structure is documented below.
	QueryValues []GetInstanceGuestAttributesQueryValue `pulumi:"queryValues"`
	Region      string                                 `pulumi:"region"`
	VariableKey *string                                `pulumi:"variableKey"`
	// Value of the queried guest_attribute.
	VariableValue string `pulumi:"variableValue"`
	Zone          string `pulumi:"zone"`
}

func GetInstanceGuestAttributesOutput(ctx *pulumi.Context, args GetInstanceGuestAttributesOutputArgs, opts ...pulumi.InvokeOption) GetInstanceGuestAttributesResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (GetInstanceGuestAttributesResultOutput, error) {
			args := v.(GetInstanceGuestAttributesArgs)
			opts = internal.PkgInvokeDefaultOpts(opts)
			var rv GetInstanceGuestAttributesResult
			secret, deps, err := ctx.InvokePackageRawWithDeps("gcp:compute/getInstanceGuestAttributes:getInstanceGuestAttributes", args, &rv, "", opts...)
			if err != nil {
				return GetInstanceGuestAttributesResultOutput{}, err
			}

			output := pulumi.ToOutput(rv).(GetInstanceGuestAttributesResultOutput)
			output = pulumi.OutputWithDependencies(ctx.Context(), output, deps...).(GetInstanceGuestAttributesResultOutput)
			if secret {
				return pulumi.ToSecret(output).(GetInstanceGuestAttributesResultOutput), nil
			}
			return output, nil
		}).(GetInstanceGuestAttributesResultOutput)
}

// A collection of arguments for invoking getInstanceGuestAttributes.
type GetInstanceGuestAttributesOutputArgs struct {
	// The name or selfLink of the instance.
	Name pulumi.StringInput `pulumi:"name"`
	// The ID of the project in which the resource belongs.
	// If `selfLink` is provided, this value is ignored.  If neither `selfLink`
	// nor `project` are provided, the provider project is used.
	Project pulumi.StringPtrInput `pulumi:"project"`
	// Path to query for the guest attributes. Consists of
	// `namespace` name for the attributes followed with a `/`.
	QueryPath pulumi.StringPtrInput `pulumi:"queryPath"`
	Region    pulumi.StringPtrInput `pulumi:"region"`
	// Key of a variable to get the value of. Consists of
	// `namespace` name and `key` name for the variable separated by a `/`.
	VariableKey pulumi.StringPtrInput `pulumi:"variableKey"`
	// The zone of the instance. If `selfLink` is provided, this
	// value is ignored.  If neither `selfLink` nor `zone` are provided, the
	// provider zone is used.
	Zone pulumi.StringPtrInput `pulumi:"zone"`
}

func (GetInstanceGuestAttributesOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*GetInstanceGuestAttributesArgs)(nil)).Elem()
}

// A collection of values returned by getInstanceGuestAttributes.
type GetInstanceGuestAttributesResultOutput struct{ *pulumi.OutputState }

func (GetInstanceGuestAttributesResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*GetInstanceGuestAttributesResult)(nil)).Elem()
}

func (o GetInstanceGuestAttributesResultOutput) ToGetInstanceGuestAttributesResultOutput() GetInstanceGuestAttributesResultOutput {
	return o
}

func (o GetInstanceGuestAttributesResultOutput) ToGetInstanceGuestAttributesResultOutputWithContext(ctx context.Context) GetInstanceGuestAttributesResultOutput {
	return o
}

// The provider-assigned unique ID for this managed resource.
func (o GetInstanceGuestAttributesResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o GetInstanceGuestAttributesResultOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) string { return v.Name }).(pulumi.StringOutput)
}

func (o GetInstanceGuestAttributesResultOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) string { return v.Project }).(pulumi.StringOutput)
}

func (o GetInstanceGuestAttributesResultOutput) QueryPath() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) *string { return v.QueryPath }).(pulumi.StringPtrOutput)
}

// Structure is documented below.
func (o GetInstanceGuestAttributesResultOutput) QueryValues() GetInstanceGuestAttributesQueryValueArrayOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) []GetInstanceGuestAttributesQueryValue { return v.QueryValues }).(GetInstanceGuestAttributesQueryValueArrayOutput)
}

func (o GetInstanceGuestAttributesResultOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) string { return v.Region }).(pulumi.StringOutput)
}

func (o GetInstanceGuestAttributesResultOutput) VariableKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) *string { return v.VariableKey }).(pulumi.StringPtrOutput)
}

// Value of the queried guest_attribute.
func (o GetInstanceGuestAttributesResultOutput) VariableValue() pulumi.StringOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) string { return v.VariableValue }).(pulumi.StringOutput)
}

func (o GetInstanceGuestAttributesResultOutput) Zone() pulumi.StringOutput {
	return o.ApplyT(func(v GetInstanceGuestAttributesResult) string { return v.Zone }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(GetInstanceGuestAttributesResultOutput{})
}
