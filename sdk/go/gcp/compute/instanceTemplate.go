// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package compute

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// > **Note**: Global instance templates can be used in any region. To lower the impact of outages outside your region and gain data residency within your region, use google_compute_region_instance_template.
//
// Manages a VM instance template resource within GCE. For more information see
// [the official documentation](https://cloud.google.com/compute/docs/instance-templates)
// and
// [API](https://cloud.google.com/compute/docs/reference/latest/instanceTemplates).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_default, err := serviceaccount.NewAccount(ctx, "default", &serviceaccount.AccountArgs{
//				AccountId:   pulumi.String("service-account-id"),
//				DisplayName: pulumi.String("Service Account"),
//			})
//			if err != nil {
//				return err
//			}
//			myImage, err := compute.LookupImage(ctx, &compute.LookupImageArgs{
//				Family:  pulumi.StringRef("debian-11"),
//				Project: pulumi.StringRef("debian-cloud"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			foobar, err := compute.NewDisk(ctx, "foobar", &compute.DiskArgs{
//				Name:  pulumi.String("existing-disk"),
//				Image: pulumi.String(myImage.SelfLink),
//				Size:  pulumi.Int(10),
//				Type:  pulumi.String("pd-ssd"),
//				Zone:  pulumi.String("us-central1-a"),
//			})
//			if err != nil {
//				return err
//			}
//			dailyBackup, err := compute.NewResourcePolicy(ctx, "daily_backup", &compute.ResourcePolicyArgs{
//				Name:   pulumi.String("every-day-4am"),
//				Region: pulumi.String("us-central1"),
//				SnapshotSchedulePolicy: &compute.ResourcePolicySnapshotSchedulePolicyArgs{
//					Schedule: &compute.ResourcePolicySnapshotSchedulePolicyScheduleArgs{
//						DailySchedule: &compute.ResourcePolicySnapshotSchedulePolicyScheduleDailyScheduleArgs{
//							DaysInCycle: pulumi.Int(1),
//							StartTime:   pulumi.String("04:00"),
//						},
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = compute.NewInstanceTemplate(ctx, "default", &compute.InstanceTemplateArgs{
//				Name:        pulumi.String("appserver-template"),
//				Description: pulumi.String("This template is used to create app server instances."),
//				Tags: pulumi.StringArray{
//					pulumi.String("foo"),
//					pulumi.String("bar"),
//				},
//				Labels: pulumi.StringMap{
//					"environment": pulumi.String("dev"),
//				},
//				InstanceDescription: pulumi.String("description assigned to instances"),
//				MachineType:         pulumi.String("e2-medium"),
//				CanIpForward:        pulumi.Bool(false),
//				Scheduling: &compute.InstanceTemplateSchedulingArgs{
//					AutomaticRestart:  pulumi.Bool(true),
//					OnHostMaintenance: pulumi.String("MIGRATE"),
//				},
//				Disks: compute.InstanceTemplateDiskArray{
//					&compute.InstanceTemplateDiskArgs{
//						SourceImage:      pulumi.String("debian-cloud/debian-11"),
//						AutoDelete:       pulumi.Bool(true),
//						Boot:             pulumi.Bool(true),
//						ResourcePolicies: dailyBackup.ID(),
//					},
//					&compute.InstanceTemplateDiskArgs{
//						Source:     foobar.Name,
//						AutoDelete: pulumi.Bool(false),
//						Boot:       pulumi.Bool(false),
//					},
//				},
//				NetworkInterfaces: compute.InstanceTemplateNetworkInterfaceArray{
//					&compute.InstanceTemplateNetworkInterfaceArgs{
//						Network: pulumi.String("default"),
//					},
//				},
//				Metadata: pulumi.StringMap{
//					"foo": pulumi.String("bar"),
//				},
//				ServiceAccount: &compute.InstanceTemplateServiceAccountArgs{
//					Email: _default.Email,
//					Scopes: pulumi.StringArray{
//						pulumi.String("cloud-platform"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Automatic Envoy Deployment
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_default, err := compute.GetDefaultServiceAccount(ctx, &compute.GetDefaultServiceAccountArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			myImage, err := compute.LookupImage(ctx, &compute.LookupImageArgs{
//				Family:  pulumi.StringRef("debian-11"),
//				Project: pulumi.StringRef("debian-cloud"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = compute.NewInstanceTemplate(ctx, "foobar", &compute.InstanceTemplateArgs{
//				Name:         pulumi.String("appserver-template"),
//				MachineType:  pulumi.String("e2-medium"),
//				CanIpForward: pulumi.Bool(false),
//				Tags: pulumi.StringArray{
//					pulumi.String("foo"),
//					pulumi.String("bar"),
//				},
//				Disks: compute.InstanceTemplateDiskArray{
//					&compute.InstanceTemplateDiskArgs{
//						SourceImage: pulumi.String(myImage.SelfLink),
//						AutoDelete:  pulumi.Bool(true),
//						Boot:        pulumi.Bool(true),
//					},
//				},
//				NetworkInterfaces: compute.InstanceTemplateNetworkInterfaceArray{
//					&compute.InstanceTemplateNetworkInterfaceArgs{
//						Network: pulumi.String("default"),
//					},
//				},
//				Scheduling: &compute.InstanceTemplateSchedulingArgs{
//					Preemptible:      pulumi.Bool(false),
//					AutomaticRestart: pulumi.Bool(true),
//				},
//				Metadata: pulumi.StringMap{
//					"gce-software-declaration": pulumi.String(`{
//	  "softwareRecipes": [{
//	    "name": "install-gce-service-proxy-agent",
//	    "desired_state": "INSTALLED",
//	    "installSteps": [{
//	      "scriptRun": {
//	        "script": "#! /bin/bash\nZONE=$(curl --silent http://metadata.google.internal/computeMetadata/v1/instance/zone -H Metadata-Flavor:Google | cut -d/ -f4 )\nexport SERVICE_PROXY_AGENT_DIRECTORY=$(mktemp -d)\nsudo gsutil cp   gs://gce-service-proxy-"$ZONE"/service-proxy-agent/releases/service-proxy-agent-0.2.tgz   "$SERVICE_PROXY_AGENT_DIRECTORY"   || sudo gsutil cp     gs://gce-service-proxy/service-proxy-agent/releases/service-proxy-agent-0.2.tgz     "$SERVICE_PROXY_AGENT_DIRECTORY"\nsudo tar -xzf "$SERVICE_PROXY_AGENT_DIRECTORY"/service-proxy-agent-0.2.tgz -C "$SERVICE_PROXY_AGENT_DIRECTORY"\n"$SERVICE_PROXY_AGENT_DIRECTORY"/service-proxy-agent/service-proxy-agent-bootstrap.sh"
//	      }
//	    }]
//	  }]
//	}
//
// `),
//
//					"gce-service-proxy": pulumi.String(`{
//	  "api-version": "0.2",
//	  "proxy-spec": {
//	    "proxy-port": 15001,
//	    "network": "my-network",
//	    "tracing": "ON",
//	    "access-log": "/var/log/envoy/access.log"
//	  }
//	  "service": {
//	    "serving-ports": [80, 81]
//	  },
//	 "labels": {
//	   "app_name": "bookserver_app",
//	   "app_version": "STABLE"
//	  }
//	}
//
// `),
//
//					"enable-guest-attributes": pulumi.String("true"),
//					"enable-osconfig":         pulumi.String("true"),
//				},
//				ServiceAccount: &compute.InstanceTemplateServiceAccountArgs{
//					Email: pulumi.String(_default.Email),
//					Scopes: pulumi.StringArray{
//						pulumi.String("cloud-platform"),
//					},
//				},
//				Labels: pulumi.StringMap{
//					"gce-service-proxy": pulumi.String("on"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Confidential Computing
//
// Example with [Confidential Mode](https://cloud.google.com/confidential-computing/confidential-vm/docs/confidential-vm-overview) activated.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_default, err := serviceaccount.NewAccount(ctx, "default", &serviceaccount.AccountArgs{
//				AccountId:   pulumi.String("my-custom-sa"),
//				DisplayName: pulumi.String("Custom SA for VM Instance"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = compute.NewInstanceTemplate(ctx, "confidential_instance_template", &compute.InstanceTemplateArgs{
//				NetworkInterfaces: compute.InstanceTemplateNetworkInterfaceArray{
//					&compute.InstanceTemplateNetworkInterfaceArgs{
//						AccessConfigs: compute.InstanceTemplateNetworkInterfaceAccessConfigArray{
//							&compute.InstanceTemplateNetworkInterfaceAccessConfigArgs{},
//						},
//						Network: pulumi.String("default"),
//					},
//				},
//				Name:           pulumi.String("my-confidential-instance-template"),
//				Region:         pulumi.String("us-central1"),
//				MachineType:    pulumi.String("n2d-standard-2"),
//				MinCpuPlatform: pulumi.String("AMD Milan"),
//				ConfidentialInstanceConfig: &compute.InstanceTemplateConfidentialInstanceConfigArgs{
//					EnableConfidentialCompute: pulumi.Bool(true),
//					ConfidentialInstanceType:  pulumi.String("SEV"),
//				},
//				Disks: compute.InstanceTemplateDiskArray{
//					&compute.InstanceTemplateDiskArgs{
//						SourceImage: pulumi.String("ubuntu-os-cloud/ubuntu-2004-lts"),
//					},
//				},
//				ServiceAccount: &compute.InstanceTemplateServiceAccountArgs{
//					Email: _default.Email,
//					Scopes: pulumi.StringArray{
//						pulumi.String("cloud-platform"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Deploying the Latest Image
//
// A common way to use instance templates and managed instance groups is to deploy the
// latest image in a family, usually the latest build of your application. There are two
// ways to do this in the provider, and they have their pros and cons. The difference ends
// up being in how "latest" is interpreted. You can either deploy the latest image available
// when the provider runs, or you can have each instance check what the latest image is when
// it's being created, either as part of a scaling event or being rebuilt by the instance
// group manager.
//
// If you're not sure, we recommend deploying the latest image available when the provider runs,
// because this means all the instances in your group will be based on the same image, always,
// and means that no upgrades or changes to your instances happen outside of a `pulumi up`.
// You can achieve this by using the `compute.Image`
// data source, which will retrieve the latest image on every `pulumi apply`, and will update
// the template to use that specific image:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			myImage, err := compute.LookupImage(ctx, &compute.LookupImageArgs{
//				Family:  pulumi.StringRef("debian-11"),
//				Project: pulumi.StringRef("debian-cloud"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = compute.NewInstanceTemplate(ctx, "instance_template", &compute.InstanceTemplateArgs{
//				NamePrefix:  pulumi.String("instance-template-"),
//				MachineType: pulumi.String("e2-medium"),
//				Region:      pulumi.String("us-central1"),
//				Disks: compute.InstanceTemplateDiskArray{
//					&compute.InstanceTemplateDiskArgs{
//						SourceImage: pulumi.String(myImage.SelfLink),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// To have instances update to the latest on every scaling event or instance re-creation,
// use the family as the image for the disk, and it will use GCP's default behavior, setting
// the image for the template to the family:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := compute.NewInstanceTemplate(ctx, "instance_template", &compute.InstanceTemplateArgs{
//				NamePrefix:  pulumi.String("instance-template-"),
//				MachineType: pulumi.String("e2-medium"),
//				Region:      pulumi.String("us-central1"),
//				Disks: compute.InstanceTemplateDiskArray{
//					&compute.InstanceTemplateDiskArgs{
//						SourceImage: pulumi.String("debian-cloud/debian-11"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Instance templates can be imported using any of these accepted formats:
//
// * `projects/{{project}}/global/instanceTemplates/{{name}}`
//
// * `{{project}}/{{name}}`
//
// * `{{name}}`
//
// When using the `pulumi import` command, instance templates can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:compute/instanceTemplate:InstanceTemplate default projects/{{project}}/global/instanceTemplates/{{name}}
// ```
//
// ```sh
// $ pulumi import gcp:compute/instanceTemplate:InstanceTemplate default {{project}}/{{name}}
// ```
//
// ```sh
// $ pulumi import gcp:compute/instanceTemplate:InstanceTemplate default {{name}}
// ```
type InstanceTemplate struct {
	pulumi.CustomResourceState

	// Configure Nested Virtualisation and Simultaneous Hyper Threading on this VM. Structure is documented below
	AdvancedMachineFeatures InstanceTemplateAdvancedMachineFeaturesPtrOutput `pulumi:"advancedMachineFeatures"`
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs. This defaults to false.
	CanIpForward pulumi.BoolPtrOutput `pulumi:"canIpForward"`
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig InstanceTemplateConfidentialInstanceConfigOutput `pulumi:"confidentialInstanceConfig"`
	// Creation timestamp in RFC3339 text format.
	CreationTimestamp pulumi.StringOutput `pulumi:"creationTimestamp"`
	// A brief description of this resource.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Disks to attach to instances created from this template.
	// This can be specified multiple times for multiple disks. Structure is
	// documented below.
	Disks InstanceTemplateDiskArrayOutput `pulumi:"disks"`
	// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
	EffectiveLabels pulumi.StringMapOutput `pulumi:"effectiveLabels"`
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true in order to update this field.
	EnableDisplay pulumi.BoolPtrOutput `pulumi:"enableDisplay"`
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	GuestAccelerators InstanceTemplateGuestAcceleratorArrayOutput `pulumi:"guestAccelerators"`
	// A brief description to use for instances
	// created from this template.
	InstanceDescription pulumi.StringPtrOutput `pulumi:"instanceDescription"`
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType pulumi.StringPtrOutput `pulumi:"keyRevocationActionType"`
	// A set of key/value label pairs to assign to instances
	// created from this template.
	//
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels pulumi.StringMapOutput `pulumi:"labels"`
	// The machine type to create. To create a machine with a custom type (such as extended memory), format the value like
	// custom-VCPUS-MEM_IN_MB like custom-6-20480 for 6 vCPU and 20GB of RAM.
	MachineType pulumi.StringOutput `pulumi:"machineType"`
	// Metadata key/value pairs to make available from
	// within instances created from this template.
	Metadata pulumi.StringMapOutput `pulumi:"metadata"`
	// The unique fingerprint of the metadata.
	MetadataFingerprint pulumi.StringOutput `pulumi:"metadataFingerprint"`
	// An alternative to using the
	// startup-script metadata key, mostly to match the computeInstance resource.
	// This replaces the startup-script metadata key on the created instance and
	// thus the two mechanisms are not allowed to be used simultaneously.
	MetadataStartupScript pulumi.StringPtrOutput `pulumi:"metadataStartupScript"`
	// Specifies a minimum CPU platform. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	MinCpuPlatform pulumi.StringPtrOutput `pulumi:"minCpuPlatform"`
	// The name of the instance template. If you leave
	// this blank, the provider will auto-generate a unique name.
	Name pulumi.StringOutput `pulumi:"name"`
	// Creates a unique name beginning with the specified
	// prefix. Conflicts with `name`. Max length is 54 characters.
	// Prefixes with lengths longer than 37 characters will use a shortened
	// UUID that will be more prone to collisions.
	//
	// Resulting name for a `namePrefix` <= 37 characters:
	// `namePrefix` + YYYYmmddHHSSssss + 8 digit incremental counter
	// Resulting name for a `namePrefix` 38 - 54 characters:
	// `namePrefix` + YYmmdd + 3 digit incremental counter
	NamePrefix pulumi.StringOutput `pulumi:"namePrefix"`
	// Networks to attach to instances created from
	// this template. This can be specified multiple times for multiple networks.
	// Structure is documented below.
	NetworkInterfaces InstanceTemplateNetworkInterfaceArrayOutput `pulumi:"networkInterfaces"`
	// (Optional, Configures network performance settings for the instance created from the
	// template. Structure is documented below. **Note**: `machineType`
	// must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig InstanceTemplateNetworkPerformanceConfigPtrOutput `pulumi:"networkPerformanceConfig"`
	// numeric identifier of the resource.
	NumericId pulumi.StringOutput `pulumi:"numericId"`
	// Beta key/value pair represents partner metadata assigned to instance template where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata pulumi.StringMapOutput `pulumi:"partnerMetadata"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
	// The combination of labels configured directly on the resource and default labels configured on the provider.
	PulumiLabels pulumi.StringMapOutput `pulumi:"pulumiLabels"`
	// An instance template is a global resource that is not
	// bound to a zone or a region. However, you can still specify some regional
	// resources in an instance template, which restricts the template to the
	// region where that resource resides. For example, a custom `subnetwork`
	// resource is tied to a specific region. Defaults to the region of the
	// Provider if no value is given.
	Region pulumi.StringOutput `pulumi:"region"`
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity InstanceTemplateReservationAffinityPtrOutput `pulumi:"reservationAffinity"`
	// A set of key/value resource manager tag pairs to bind to the instances. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456.
	ResourceManagerTags pulumi.StringMapOutput `pulumi:"resourceManagerTags"`
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies pulumi.StringPtrOutput `pulumi:"resourcePolicies"`
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling InstanceTemplateSchedulingOutput `pulumi:"scheduling"`
	// The URI of the created resource.
	SelfLink pulumi.StringOutput `pulumi:"selfLink"`
	// A special URI of the created resource that uniquely identifies this instance template with the following format: `projects/{{project}}/global/instanceTemplates/{{name}}?uniqueId={{uniqueId}}`
	// Referencing an instance template via this attribute prevents Time of Check to Time of Use attacks when the instance template resides in a shared/untrusted environment.
	SelfLinkUnique pulumi.StringOutput `pulumi:"selfLinkUnique"`
	// Service account to attach to the instance. Structure is documented below.
	ServiceAccount InstanceTemplateServiceAccountPtrOutput `pulumi:"serviceAccount"`
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	ShieldedInstanceConfig InstanceTemplateShieldedInstanceConfigOutput `pulumi:"shieldedInstanceConfig"`
	// Tags to attach to the instance.
	Tags pulumi.StringArrayOutput `pulumi:"tags"`
	// The unique fingerprint of the tags.
	TagsFingerprint pulumi.StringOutput `pulumi:"tagsFingerprint"`
}

// NewInstanceTemplate registers a new resource with the given unique name, arguments, and options.
func NewInstanceTemplate(ctx *pulumi.Context,
	name string, args *InstanceTemplateArgs, opts ...pulumi.ResourceOption) (*InstanceTemplate, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Disks == nil {
		return nil, errors.New("invalid value for required argument 'Disks'")
	}
	if args.MachineType == nil {
		return nil, errors.New("invalid value for required argument 'MachineType'")
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"effectiveLabels",
		"pulumiLabels",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource InstanceTemplate
	err := ctx.RegisterResource("gcp:compute/instanceTemplate:InstanceTemplate", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstanceTemplate gets an existing InstanceTemplate resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstanceTemplate(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceTemplateState, opts ...pulumi.ResourceOption) (*InstanceTemplate, error) {
	var resource InstanceTemplate
	err := ctx.ReadResource("gcp:compute/instanceTemplate:InstanceTemplate", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering InstanceTemplate resources.
type instanceTemplateState struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading on this VM. Structure is documented below
	AdvancedMachineFeatures *InstanceTemplateAdvancedMachineFeatures `pulumi:"advancedMachineFeatures"`
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs. This defaults to false.
	CanIpForward *bool `pulumi:"canIpForward"`
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig *InstanceTemplateConfidentialInstanceConfig `pulumi:"confidentialInstanceConfig"`
	// Creation timestamp in RFC3339 text format.
	CreationTimestamp *string `pulumi:"creationTimestamp"`
	// A brief description of this resource.
	Description *string `pulumi:"description"`
	// Disks to attach to instances created from this template.
	// This can be specified multiple times for multiple disks. Structure is
	// documented below.
	Disks []InstanceTemplateDisk `pulumi:"disks"`
	// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
	EffectiveLabels map[string]string `pulumi:"effectiveLabels"`
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true in order to update this field.
	EnableDisplay *bool `pulumi:"enableDisplay"`
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	GuestAccelerators []InstanceTemplateGuestAccelerator `pulumi:"guestAccelerators"`
	// A brief description to use for instances
	// created from this template.
	InstanceDescription *string `pulumi:"instanceDescription"`
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType *string `pulumi:"keyRevocationActionType"`
	// A set of key/value label pairs to assign to instances
	// created from this template.
	//
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels map[string]string `pulumi:"labels"`
	// The machine type to create. To create a machine with a custom type (such as extended memory), format the value like
	// custom-VCPUS-MEM_IN_MB like custom-6-20480 for 6 vCPU and 20GB of RAM.
	MachineType *string `pulumi:"machineType"`
	// Metadata key/value pairs to make available from
	// within instances created from this template.
	Metadata map[string]string `pulumi:"metadata"`
	// The unique fingerprint of the metadata.
	MetadataFingerprint *string `pulumi:"metadataFingerprint"`
	// An alternative to using the
	// startup-script metadata key, mostly to match the computeInstance resource.
	// This replaces the startup-script metadata key on the created instance and
	// thus the two mechanisms are not allowed to be used simultaneously.
	MetadataStartupScript *string `pulumi:"metadataStartupScript"`
	// Specifies a minimum CPU platform. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	MinCpuPlatform *string `pulumi:"minCpuPlatform"`
	// The name of the instance template. If you leave
	// this blank, the provider will auto-generate a unique name.
	Name *string `pulumi:"name"`
	// Creates a unique name beginning with the specified
	// prefix. Conflicts with `name`. Max length is 54 characters.
	// Prefixes with lengths longer than 37 characters will use a shortened
	// UUID that will be more prone to collisions.
	//
	// Resulting name for a `namePrefix` <= 37 characters:
	// `namePrefix` + YYYYmmddHHSSssss + 8 digit incremental counter
	// Resulting name for a `namePrefix` 38 - 54 characters:
	// `namePrefix` + YYmmdd + 3 digit incremental counter
	NamePrefix *string `pulumi:"namePrefix"`
	// Networks to attach to instances created from
	// this template. This can be specified multiple times for multiple networks.
	// Structure is documented below.
	NetworkInterfaces []InstanceTemplateNetworkInterface `pulumi:"networkInterfaces"`
	// (Optional, Configures network performance settings for the instance created from the
	// template. Structure is documented below. **Note**: `machineType`
	// must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig *InstanceTemplateNetworkPerformanceConfig `pulumi:"networkPerformanceConfig"`
	// numeric identifier of the resource.
	NumericId *string `pulumi:"numericId"`
	// Beta key/value pair represents partner metadata assigned to instance template where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata map[string]string `pulumi:"partnerMetadata"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// The combination of labels configured directly on the resource and default labels configured on the provider.
	PulumiLabels map[string]string `pulumi:"pulumiLabels"`
	// An instance template is a global resource that is not
	// bound to a zone or a region. However, you can still specify some regional
	// resources in an instance template, which restricts the template to the
	// region where that resource resides. For example, a custom `subnetwork`
	// resource is tied to a specific region. Defaults to the region of the
	// Provider if no value is given.
	Region *string `pulumi:"region"`
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity *InstanceTemplateReservationAffinity `pulumi:"reservationAffinity"`
	// A set of key/value resource manager tag pairs to bind to the instances. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456.
	ResourceManagerTags map[string]string `pulumi:"resourceManagerTags"`
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies *string `pulumi:"resourcePolicies"`
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling *InstanceTemplateScheduling `pulumi:"scheduling"`
	// The URI of the created resource.
	SelfLink *string `pulumi:"selfLink"`
	// A special URI of the created resource that uniquely identifies this instance template with the following format: `projects/{{project}}/global/instanceTemplates/{{name}}?uniqueId={{uniqueId}}`
	// Referencing an instance template via this attribute prevents Time of Check to Time of Use attacks when the instance template resides in a shared/untrusted environment.
	SelfLinkUnique *string `pulumi:"selfLinkUnique"`
	// Service account to attach to the instance. Structure is documented below.
	ServiceAccount *InstanceTemplateServiceAccount `pulumi:"serviceAccount"`
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	ShieldedInstanceConfig *InstanceTemplateShieldedInstanceConfig `pulumi:"shieldedInstanceConfig"`
	// Tags to attach to the instance.
	Tags []string `pulumi:"tags"`
	// The unique fingerprint of the tags.
	TagsFingerprint *string `pulumi:"tagsFingerprint"`
}

type InstanceTemplateState struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading on this VM. Structure is documented below
	AdvancedMachineFeatures InstanceTemplateAdvancedMachineFeaturesPtrInput
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs. This defaults to false.
	CanIpForward pulumi.BoolPtrInput
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig InstanceTemplateConfidentialInstanceConfigPtrInput
	// Creation timestamp in RFC3339 text format.
	CreationTimestamp pulumi.StringPtrInput
	// A brief description of this resource.
	Description pulumi.StringPtrInput
	// Disks to attach to instances created from this template.
	// This can be specified multiple times for multiple disks. Structure is
	// documented below.
	Disks InstanceTemplateDiskArrayInput
	// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
	EffectiveLabels pulumi.StringMapInput
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true in order to update this field.
	EnableDisplay pulumi.BoolPtrInput
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	GuestAccelerators InstanceTemplateGuestAcceleratorArrayInput
	// A brief description to use for instances
	// created from this template.
	InstanceDescription pulumi.StringPtrInput
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType pulumi.StringPtrInput
	// A set of key/value label pairs to assign to instances
	// created from this template.
	//
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels pulumi.StringMapInput
	// The machine type to create. To create a machine with a custom type (such as extended memory), format the value like
	// custom-VCPUS-MEM_IN_MB like custom-6-20480 for 6 vCPU and 20GB of RAM.
	MachineType pulumi.StringPtrInput
	// Metadata key/value pairs to make available from
	// within instances created from this template.
	Metadata pulumi.StringMapInput
	// The unique fingerprint of the metadata.
	MetadataFingerprint pulumi.StringPtrInput
	// An alternative to using the
	// startup-script metadata key, mostly to match the computeInstance resource.
	// This replaces the startup-script metadata key on the created instance and
	// thus the two mechanisms are not allowed to be used simultaneously.
	MetadataStartupScript pulumi.StringPtrInput
	// Specifies a minimum CPU platform. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	MinCpuPlatform pulumi.StringPtrInput
	// The name of the instance template. If you leave
	// this blank, the provider will auto-generate a unique name.
	Name pulumi.StringPtrInput
	// Creates a unique name beginning with the specified
	// prefix. Conflicts with `name`. Max length is 54 characters.
	// Prefixes with lengths longer than 37 characters will use a shortened
	// UUID that will be more prone to collisions.
	//
	// Resulting name for a `namePrefix` <= 37 characters:
	// `namePrefix` + YYYYmmddHHSSssss + 8 digit incremental counter
	// Resulting name for a `namePrefix` 38 - 54 characters:
	// `namePrefix` + YYmmdd + 3 digit incremental counter
	NamePrefix pulumi.StringPtrInput
	// Networks to attach to instances created from
	// this template. This can be specified multiple times for multiple networks.
	// Structure is documented below.
	NetworkInterfaces InstanceTemplateNetworkInterfaceArrayInput
	// (Optional, Configures network performance settings for the instance created from the
	// template. Structure is documented below. **Note**: `machineType`
	// must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig InstanceTemplateNetworkPerformanceConfigPtrInput
	// numeric identifier of the resource.
	NumericId pulumi.StringPtrInput
	// Beta key/value pair represents partner metadata assigned to instance template where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata pulumi.StringMapInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// The combination of labels configured directly on the resource and default labels configured on the provider.
	PulumiLabels pulumi.StringMapInput
	// An instance template is a global resource that is not
	// bound to a zone or a region. However, you can still specify some regional
	// resources in an instance template, which restricts the template to the
	// region where that resource resides. For example, a custom `subnetwork`
	// resource is tied to a specific region. Defaults to the region of the
	// Provider if no value is given.
	Region pulumi.StringPtrInput
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity InstanceTemplateReservationAffinityPtrInput
	// A set of key/value resource manager tag pairs to bind to the instances. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456.
	ResourceManagerTags pulumi.StringMapInput
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies pulumi.StringPtrInput
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling InstanceTemplateSchedulingPtrInput
	// The URI of the created resource.
	SelfLink pulumi.StringPtrInput
	// A special URI of the created resource that uniquely identifies this instance template with the following format: `projects/{{project}}/global/instanceTemplates/{{name}}?uniqueId={{uniqueId}}`
	// Referencing an instance template via this attribute prevents Time of Check to Time of Use attacks when the instance template resides in a shared/untrusted environment.
	SelfLinkUnique pulumi.StringPtrInput
	// Service account to attach to the instance. Structure is documented below.
	ServiceAccount InstanceTemplateServiceAccountPtrInput
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	ShieldedInstanceConfig InstanceTemplateShieldedInstanceConfigPtrInput
	// Tags to attach to the instance.
	Tags pulumi.StringArrayInput
	// The unique fingerprint of the tags.
	TagsFingerprint pulumi.StringPtrInput
}

func (InstanceTemplateState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceTemplateState)(nil)).Elem()
}

type instanceTemplateArgs struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading on this VM. Structure is documented below
	AdvancedMachineFeatures *InstanceTemplateAdvancedMachineFeatures `pulumi:"advancedMachineFeatures"`
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs. This defaults to false.
	CanIpForward *bool `pulumi:"canIpForward"`
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig *InstanceTemplateConfidentialInstanceConfig `pulumi:"confidentialInstanceConfig"`
	// A brief description of this resource.
	Description *string `pulumi:"description"`
	// Disks to attach to instances created from this template.
	// This can be specified multiple times for multiple disks. Structure is
	// documented below.
	Disks []InstanceTemplateDisk `pulumi:"disks"`
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true in order to update this field.
	EnableDisplay *bool `pulumi:"enableDisplay"`
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	GuestAccelerators []InstanceTemplateGuestAccelerator `pulumi:"guestAccelerators"`
	// A brief description to use for instances
	// created from this template.
	InstanceDescription *string `pulumi:"instanceDescription"`
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType *string `pulumi:"keyRevocationActionType"`
	// A set of key/value label pairs to assign to instances
	// created from this template.
	//
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels map[string]string `pulumi:"labels"`
	// The machine type to create. To create a machine with a custom type (such as extended memory), format the value like
	// custom-VCPUS-MEM_IN_MB like custom-6-20480 for 6 vCPU and 20GB of RAM.
	MachineType string `pulumi:"machineType"`
	// Metadata key/value pairs to make available from
	// within instances created from this template.
	Metadata map[string]string `pulumi:"metadata"`
	// An alternative to using the
	// startup-script metadata key, mostly to match the computeInstance resource.
	// This replaces the startup-script metadata key on the created instance and
	// thus the two mechanisms are not allowed to be used simultaneously.
	MetadataStartupScript *string `pulumi:"metadataStartupScript"`
	// Specifies a minimum CPU platform. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	MinCpuPlatform *string `pulumi:"minCpuPlatform"`
	// The name of the instance template. If you leave
	// this blank, the provider will auto-generate a unique name.
	Name *string `pulumi:"name"`
	// Creates a unique name beginning with the specified
	// prefix. Conflicts with `name`. Max length is 54 characters.
	// Prefixes with lengths longer than 37 characters will use a shortened
	// UUID that will be more prone to collisions.
	//
	// Resulting name for a `namePrefix` <= 37 characters:
	// `namePrefix` + YYYYmmddHHSSssss + 8 digit incremental counter
	// Resulting name for a `namePrefix` 38 - 54 characters:
	// `namePrefix` + YYmmdd + 3 digit incremental counter
	NamePrefix *string `pulumi:"namePrefix"`
	// Networks to attach to instances created from
	// this template. This can be specified multiple times for multiple networks.
	// Structure is documented below.
	NetworkInterfaces []InstanceTemplateNetworkInterface `pulumi:"networkInterfaces"`
	// (Optional, Configures network performance settings for the instance created from the
	// template. Structure is documented below. **Note**: `machineType`
	// must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig *InstanceTemplateNetworkPerformanceConfig `pulumi:"networkPerformanceConfig"`
	// Beta key/value pair represents partner metadata assigned to instance template where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata map[string]string `pulumi:"partnerMetadata"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// An instance template is a global resource that is not
	// bound to a zone or a region. However, you can still specify some regional
	// resources in an instance template, which restricts the template to the
	// region where that resource resides. For example, a custom `subnetwork`
	// resource is tied to a specific region. Defaults to the region of the
	// Provider if no value is given.
	Region *string `pulumi:"region"`
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity *InstanceTemplateReservationAffinity `pulumi:"reservationAffinity"`
	// A set of key/value resource manager tag pairs to bind to the instances. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456.
	ResourceManagerTags map[string]string `pulumi:"resourceManagerTags"`
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies *string `pulumi:"resourcePolicies"`
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling *InstanceTemplateScheduling `pulumi:"scheduling"`
	// Service account to attach to the instance. Structure is documented below.
	ServiceAccount *InstanceTemplateServiceAccount `pulumi:"serviceAccount"`
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	ShieldedInstanceConfig *InstanceTemplateShieldedInstanceConfig `pulumi:"shieldedInstanceConfig"`
	// Tags to attach to the instance.
	Tags []string `pulumi:"tags"`
}

// The set of arguments for constructing a InstanceTemplate resource.
type InstanceTemplateArgs struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading on this VM. Structure is documented below
	AdvancedMachineFeatures InstanceTemplateAdvancedMachineFeaturesPtrInput
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs. This defaults to false.
	CanIpForward pulumi.BoolPtrInput
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig InstanceTemplateConfidentialInstanceConfigPtrInput
	// A brief description of this resource.
	Description pulumi.StringPtrInput
	// Disks to attach to instances created from this template.
	// This can be specified multiple times for multiple disks. Structure is
	// documented below.
	Disks InstanceTemplateDiskArrayInput
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true in order to update this field.
	EnableDisplay pulumi.BoolPtrInput
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	GuestAccelerators InstanceTemplateGuestAcceleratorArrayInput
	// A brief description to use for instances
	// created from this template.
	InstanceDescription pulumi.StringPtrInput
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType pulumi.StringPtrInput
	// A set of key/value label pairs to assign to instances
	// created from this template.
	//
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels pulumi.StringMapInput
	// The machine type to create. To create a machine with a custom type (such as extended memory), format the value like
	// custom-VCPUS-MEM_IN_MB like custom-6-20480 for 6 vCPU and 20GB of RAM.
	MachineType pulumi.StringInput
	// Metadata key/value pairs to make available from
	// within instances created from this template.
	Metadata pulumi.StringMapInput
	// An alternative to using the
	// startup-script metadata key, mostly to match the computeInstance resource.
	// This replaces the startup-script metadata key on the created instance and
	// thus the two mechanisms are not allowed to be used simultaneously.
	MetadataStartupScript pulumi.StringPtrInput
	// Specifies a minimum CPU platform. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	MinCpuPlatform pulumi.StringPtrInput
	// The name of the instance template. If you leave
	// this blank, the provider will auto-generate a unique name.
	Name pulumi.StringPtrInput
	// Creates a unique name beginning with the specified
	// prefix. Conflicts with `name`. Max length is 54 characters.
	// Prefixes with lengths longer than 37 characters will use a shortened
	// UUID that will be more prone to collisions.
	//
	// Resulting name for a `namePrefix` <= 37 characters:
	// `namePrefix` + YYYYmmddHHSSssss + 8 digit incremental counter
	// Resulting name for a `namePrefix` 38 - 54 characters:
	// `namePrefix` + YYmmdd + 3 digit incremental counter
	NamePrefix pulumi.StringPtrInput
	// Networks to attach to instances created from
	// this template. This can be specified multiple times for multiple networks.
	// Structure is documented below.
	NetworkInterfaces InstanceTemplateNetworkInterfaceArrayInput
	// (Optional, Configures network performance settings for the instance created from the
	// template. Structure is documented below. **Note**: `machineType`
	// must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig InstanceTemplateNetworkPerformanceConfigPtrInput
	// Beta key/value pair represents partner metadata assigned to instance template where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata pulumi.StringMapInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// An instance template is a global resource that is not
	// bound to a zone or a region. However, you can still specify some regional
	// resources in an instance template, which restricts the template to the
	// region where that resource resides. For example, a custom `subnetwork`
	// resource is tied to a specific region. Defaults to the region of the
	// Provider if no value is given.
	Region pulumi.StringPtrInput
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity InstanceTemplateReservationAffinityPtrInput
	// A set of key/value resource manager tag pairs to bind to the instances. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456.
	ResourceManagerTags pulumi.StringMapInput
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies pulumi.StringPtrInput
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling InstanceTemplateSchedulingPtrInput
	// Service account to attach to the instance. Structure is documented below.
	ServiceAccount InstanceTemplateServiceAccountPtrInput
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	ShieldedInstanceConfig InstanceTemplateShieldedInstanceConfigPtrInput
	// Tags to attach to the instance.
	Tags pulumi.StringArrayInput
}

func (InstanceTemplateArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceTemplateArgs)(nil)).Elem()
}

type InstanceTemplateInput interface {
	pulumi.Input

	ToInstanceTemplateOutput() InstanceTemplateOutput
	ToInstanceTemplateOutputWithContext(ctx context.Context) InstanceTemplateOutput
}

func (*InstanceTemplate) ElementType() reflect.Type {
	return reflect.TypeOf((**InstanceTemplate)(nil)).Elem()
}

func (i *InstanceTemplate) ToInstanceTemplateOutput() InstanceTemplateOutput {
	return i.ToInstanceTemplateOutputWithContext(context.Background())
}

func (i *InstanceTemplate) ToInstanceTemplateOutputWithContext(ctx context.Context) InstanceTemplateOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceTemplateOutput)
}

// InstanceTemplateArrayInput is an input type that accepts InstanceTemplateArray and InstanceTemplateArrayOutput values.
// You can construct a concrete instance of `InstanceTemplateArrayInput` via:
//
//	InstanceTemplateArray{ InstanceTemplateArgs{...} }
type InstanceTemplateArrayInput interface {
	pulumi.Input

	ToInstanceTemplateArrayOutput() InstanceTemplateArrayOutput
	ToInstanceTemplateArrayOutputWithContext(context.Context) InstanceTemplateArrayOutput
}

type InstanceTemplateArray []InstanceTemplateInput

func (InstanceTemplateArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InstanceTemplate)(nil)).Elem()
}

func (i InstanceTemplateArray) ToInstanceTemplateArrayOutput() InstanceTemplateArrayOutput {
	return i.ToInstanceTemplateArrayOutputWithContext(context.Background())
}

func (i InstanceTemplateArray) ToInstanceTemplateArrayOutputWithContext(ctx context.Context) InstanceTemplateArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceTemplateArrayOutput)
}

// InstanceTemplateMapInput is an input type that accepts InstanceTemplateMap and InstanceTemplateMapOutput values.
// You can construct a concrete instance of `InstanceTemplateMapInput` via:
//
//	InstanceTemplateMap{ "key": InstanceTemplateArgs{...} }
type InstanceTemplateMapInput interface {
	pulumi.Input

	ToInstanceTemplateMapOutput() InstanceTemplateMapOutput
	ToInstanceTemplateMapOutputWithContext(context.Context) InstanceTemplateMapOutput
}

type InstanceTemplateMap map[string]InstanceTemplateInput

func (InstanceTemplateMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InstanceTemplate)(nil)).Elem()
}

func (i InstanceTemplateMap) ToInstanceTemplateMapOutput() InstanceTemplateMapOutput {
	return i.ToInstanceTemplateMapOutputWithContext(context.Background())
}

func (i InstanceTemplateMap) ToInstanceTemplateMapOutputWithContext(ctx context.Context) InstanceTemplateMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceTemplateMapOutput)
}

type InstanceTemplateOutput struct{ *pulumi.OutputState }

func (InstanceTemplateOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**InstanceTemplate)(nil)).Elem()
}

func (o InstanceTemplateOutput) ToInstanceTemplateOutput() InstanceTemplateOutput {
	return o
}

func (o InstanceTemplateOutput) ToInstanceTemplateOutputWithContext(ctx context.Context) InstanceTemplateOutput {
	return o
}

// Configure Nested Virtualisation and Simultaneous Hyper Threading on this VM. Structure is documented below
func (o InstanceTemplateOutput) AdvancedMachineFeatures() InstanceTemplateAdvancedMachineFeaturesPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateAdvancedMachineFeaturesPtrOutput {
		return v.AdvancedMachineFeatures
	}).(InstanceTemplateAdvancedMachineFeaturesPtrOutput)
}

// Whether to allow sending and receiving of
// packets with non-matching source or destination IPs. This defaults to false.
func (o InstanceTemplateOutput) CanIpForward() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.BoolPtrOutput { return v.CanIpForward }).(pulumi.BoolPtrOutput)
}

// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
func (o InstanceTemplateOutput) ConfidentialInstanceConfig() InstanceTemplateConfidentialInstanceConfigOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateConfidentialInstanceConfigOutput {
		return v.ConfidentialInstanceConfig
	}).(InstanceTemplateConfidentialInstanceConfigOutput)
}

// Creation timestamp in RFC3339 text format.
func (o InstanceTemplateOutput) CreationTimestamp() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.CreationTimestamp }).(pulumi.StringOutput)
}

// A brief description of this resource.
func (o InstanceTemplateOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Disks to attach to instances created from this template.
// This can be specified multiple times for multiple disks. Structure is
// documented below.
func (o InstanceTemplateOutput) Disks() InstanceTemplateDiskArrayOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateDiskArrayOutput { return v.Disks }).(InstanceTemplateDiskArrayOutput)
}

// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
func (o InstanceTemplateOutput) EffectiveLabels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringMapOutput { return v.EffectiveLabels }).(pulumi.StringMapOutput)
}

// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
// **Note**: `allowStoppingForUpdate` must be set to true in order to update this field.
func (o InstanceTemplateOutput) EnableDisplay() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.BoolPtrOutput { return v.EnableDisplay }).(pulumi.BoolPtrOutput)
}

// List of the type and count of accelerator cards attached to the instance. Structure documented below.
func (o InstanceTemplateOutput) GuestAccelerators() InstanceTemplateGuestAcceleratorArrayOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateGuestAcceleratorArrayOutput { return v.GuestAccelerators }).(InstanceTemplateGuestAcceleratorArrayOutput)
}

// A brief description to use for instances
// created from this template.
func (o InstanceTemplateOutput) InstanceDescription() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringPtrOutput { return v.InstanceDescription }).(pulumi.StringPtrOutput)
}

// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
func (o InstanceTemplateOutput) KeyRevocationActionType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringPtrOutput { return v.KeyRevocationActionType }).(pulumi.StringPtrOutput)
}

// A set of key/value label pairs to assign to instances
// created from this template.
//
// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
// Please refer to the field 'effective_labels' for all of the labels present on the resource.
func (o InstanceTemplateOutput) Labels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringMapOutput { return v.Labels }).(pulumi.StringMapOutput)
}

// The machine type to create. To create a machine with a custom type (such as extended memory), format the value like
// custom-VCPUS-MEM_IN_MB like custom-6-20480 for 6 vCPU and 20GB of RAM.
func (o InstanceTemplateOutput) MachineType() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.MachineType }).(pulumi.StringOutput)
}

// Metadata key/value pairs to make available from
// within instances created from this template.
func (o InstanceTemplateOutput) Metadata() pulumi.StringMapOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringMapOutput { return v.Metadata }).(pulumi.StringMapOutput)
}

// The unique fingerprint of the metadata.
func (o InstanceTemplateOutput) MetadataFingerprint() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.MetadataFingerprint }).(pulumi.StringOutput)
}

// An alternative to using the
// startup-script metadata key, mostly to match the computeInstance resource.
// This replaces the startup-script metadata key on the created instance and
// thus the two mechanisms are not allowed to be used simultaneously.
func (o InstanceTemplateOutput) MetadataStartupScript() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringPtrOutput { return v.MetadataStartupScript }).(pulumi.StringPtrOutput)
}

// Specifies a minimum CPU platform. Applicable values are the friendly names of CPU platforms, such as
// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
func (o InstanceTemplateOutput) MinCpuPlatform() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringPtrOutput { return v.MinCpuPlatform }).(pulumi.StringPtrOutput)
}

// The name of the instance template. If you leave
// this blank, the provider will auto-generate a unique name.
func (o InstanceTemplateOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Creates a unique name beginning with the specified
// prefix. Conflicts with `name`. Max length is 54 characters.
// Prefixes with lengths longer than 37 characters will use a shortened
// UUID that will be more prone to collisions.
//
// Resulting name for a `namePrefix` <= 37 characters:
// `namePrefix` + YYYYmmddHHSSssss + 8 digit incremental counter
// Resulting name for a `namePrefix` 38 - 54 characters:
// `namePrefix` + YYmmdd + 3 digit incremental counter
func (o InstanceTemplateOutput) NamePrefix() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.NamePrefix }).(pulumi.StringOutput)
}

// Networks to attach to instances created from
// this template. This can be specified multiple times for multiple networks.
// Structure is documented below.
func (o InstanceTemplateOutput) NetworkInterfaces() InstanceTemplateNetworkInterfaceArrayOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateNetworkInterfaceArrayOutput { return v.NetworkInterfaces }).(InstanceTemplateNetworkInterfaceArrayOutput)
}

// (Optional, Configures network performance settings for the instance created from the
// template. Structure is documented below. **Note**: `machineType`
// must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
// in order for this setting to take effect.
func (o InstanceTemplateOutput) NetworkPerformanceConfig() InstanceTemplateNetworkPerformanceConfigPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateNetworkPerformanceConfigPtrOutput {
		return v.NetworkPerformanceConfig
	}).(InstanceTemplateNetworkPerformanceConfigPtrOutput)
}

// numeric identifier of the resource.
func (o InstanceTemplateOutput) NumericId() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.NumericId }).(pulumi.StringOutput)
}

// Beta key/value pair represents partner metadata assigned to instance template where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
func (o InstanceTemplateOutput) PartnerMetadata() pulumi.StringMapOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringMapOutput { return v.PartnerMetadata }).(pulumi.StringMapOutput)
}

// The ID of the project in which the resource belongs. If it
// is not provided, the provider project is used.
func (o InstanceTemplateOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// The combination of labels configured directly on the resource and default labels configured on the provider.
func (o InstanceTemplateOutput) PulumiLabels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringMapOutput { return v.PulumiLabels }).(pulumi.StringMapOutput)
}

// An instance template is a global resource that is not
// bound to a zone or a region. However, you can still specify some regional
// resources in an instance template, which restricts the template to the
// region where that resource resides. For example, a custom `subnetwork`
// resource is tied to a specific region. Defaults to the region of the
// Provider if no value is given.
func (o InstanceTemplateOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

// Specifies the reservations that this instance can consume from.
// Structure is documented below.
func (o InstanceTemplateOutput) ReservationAffinity() InstanceTemplateReservationAffinityPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateReservationAffinityPtrOutput { return v.ReservationAffinity }).(InstanceTemplateReservationAffinityPtrOutput)
}

// A set of key/value resource manager tag pairs to bind to the instances. Keys must be in the format tagKeys/{tag_key_id}, and values are in the format tagValues/456.
func (o InstanceTemplateOutput) ResourceManagerTags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringMapOutput { return v.ResourceManagerTags }).(pulumi.StringMapOutput)
}

// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
func (o InstanceTemplateOutput) ResourcePolicies() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringPtrOutput { return v.ResourcePolicies }).(pulumi.StringPtrOutput)
}

// The scheduling strategy to use. More details about
// this configuration option are detailed below.
func (o InstanceTemplateOutput) Scheduling() InstanceTemplateSchedulingOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateSchedulingOutput { return v.Scheduling }).(InstanceTemplateSchedulingOutput)
}

// The URI of the created resource.
func (o InstanceTemplateOutput) SelfLink() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.SelfLink }).(pulumi.StringOutput)
}

// A special URI of the created resource that uniquely identifies this instance template with the following format: `projects/{{project}}/global/instanceTemplates/{{name}}?uniqueId={{uniqueId}}`
// Referencing an instance template via this attribute prevents Time of Check to Time of Use attacks when the instance template resides in a shared/untrusted environment.
func (o InstanceTemplateOutput) SelfLinkUnique() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.SelfLinkUnique }).(pulumi.StringOutput)
}

// Service account to attach to the instance. Structure is documented below.
func (o InstanceTemplateOutput) ServiceAccount() InstanceTemplateServiceAccountPtrOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateServiceAccountPtrOutput { return v.ServiceAccount }).(InstanceTemplateServiceAccountPtrOutput)
}

// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
func (o InstanceTemplateOutput) ShieldedInstanceConfig() InstanceTemplateShieldedInstanceConfigOutput {
	return o.ApplyT(func(v *InstanceTemplate) InstanceTemplateShieldedInstanceConfigOutput {
		return v.ShieldedInstanceConfig
	}).(InstanceTemplateShieldedInstanceConfigOutput)
}

// Tags to attach to the instance.
func (o InstanceTemplateOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringArrayOutput { return v.Tags }).(pulumi.StringArrayOutput)
}

// The unique fingerprint of the tags.
func (o InstanceTemplateOutput) TagsFingerprint() pulumi.StringOutput {
	return o.ApplyT(func(v *InstanceTemplate) pulumi.StringOutput { return v.TagsFingerprint }).(pulumi.StringOutput)
}

type InstanceTemplateArrayOutput struct{ *pulumi.OutputState }

func (InstanceTemplateArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InstanceTemplate)(nil)).Elem()
}

func (o InstanceTemplateArrayOutput) ToInstanceTemplateArrayOutput() InstanceTemplateArrayOutput {
	return o
}

func (o InstanceTemplateArrayOutput) ToInstanceTemplateArrayOutputWithContext(ctx context.Context) InstanceTemplateArrayOutput {
	return o
}

func (o InstanceTemplateArrayOutput) Index(i pulumi.IntInput) InstanceTemplateOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *InstanceTemplate {
		return vs[0].([]*InstanceTemplate)[vs[1].(int)]
	}).(InstanceTemplateOutput)
}

type InstanceTemplateMapOutput struct{ *pulumi.OutputState }

func (InstanceTemplateMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InstanceTemplate)(nil)).Elem()
}

func (o InstanceTemplateMapOutput) ToInstanceTemplateMapOutput() InstanceTemplateMapOutput {
	return o
}

func (o InstanceTemplateMapOutput) ToInstanceTemplateMapOutputWithContext(ctx context.Context) InstanceTemplateMapOutput {
	return o
}

func (o InstanceTemplateMapOutput) MapIndex(k pulumi.StringInput) InstanceTemplateOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *InstanceTemplate {
		return vs[0].(map[string]*InstanceTemplate)[vs[1].(string)]
	}).(InstanceTemplateOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceTemplateInput)(nil)).Elem(), &InstanceTemplate{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceTemplateArrayInput)(nil)).Elem(), InstanceTemplateArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceTemplateMapInput)(nil)).Elem(), InstanceTemplateMap{})
	pulumi.RegisterOutputType(InstanceTemplateOutput{})
	pulumi.RegisterOutputType(InstanceTemplateArrayOutput{})
	pulumi.RegisterOutputType(InstanceTemplateMapOutput{})
}
