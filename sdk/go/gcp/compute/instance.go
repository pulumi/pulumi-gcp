// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package compute

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages a VM instance resource within GCE. For more information see
// [the official documentation](https://cloud.google.com/compute/docs/instances)
// and
// [API](https://cloud.google.com/compute/docs/reference/latest/instances).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/compute"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/serviceaccount"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_default, err := serviceaccount.NewAccount(ctx, "default", &serviceaccount.AccountArgs{
//				AccountId:   pulumi.String("my-custom-sa"),
//				DisplayName: pulumi.String("Custom SA for VM Instance"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = compute.NewInstance(ctx, "default", &compute.InstanceArgs{
//				NetworkInterfaces: compute.InstanceNetworkInterfaceArray{
//					&compute.InstanceNetworkInterfaceArgs{
//						AccessConfigs: compute.InstanceNetworkInterfaceAccessConfigArray{
//							&compute.InstanceNetworkInterfaceAccessConfigArgs{},
//						},
//						Network: pulumi.String("default"),
//					},
//				},
//				Name:        pulumi.String("my-instance"),
//				MachineType: pulumi.String("n2-standard-2"),
//				Zone:        pulumi.String("us-central1-a"),
//				Tags: pulumi.StringArray{
//					pulumi.String("foo"),
//					pulumi.String("bar"),
//				},
//				BootDisk: &compute.InstanceBootDiskArgs{
//					InitializeParams: &compute.InstanceBootDiskInitializeParamsArgs{
//						Image: pulumi.String("debian-cloud/debian-11"),
//						Labels: pulumi.StringMap{
//							"my_label": pulumi.String("value"),
//						},
//					},
//				},
//				ScratchDisks: compute.InstanceScratchDiskArray{
//					&compute.InstanceScratchDiskArgs{
//						Interface: pulumi.String("NVME"),
//					},
//				},
//				Metadata: pulumi.StringMap{
//					"foo": pulumi.String("bar"),
//				},
//				MetadataStartupScript: pulumi.String("echo hi > /test.txt"),
//				ServiceAccount: &compute.InstanceServiceAccountArgs{
//					Email: _default.Email,
//					Scopes: pulumi.StringArray{
//						pulumi.String("cloud-platform"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Confidential Computing
//
// Example with [Confidential Mode](https://cloud.google.com/confidential-computing/confidential-vm/docs/confidential-vm-overview) activated.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/compute"
//	"github.com/pulumi/pulumi-gcp/sdk/v9/go/gcp/serviceaccount"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_default, err := serviceaccount.NewAccount(ctx, "default", &serviceaccount.AccountArgs{
//				AccountId:   pulumi.String("my-custom-sa"),
//				DisplayName: pulumi.String("Custom SA for VM Instance"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = compute.NewInstance(ctx, "confidential_instance", &compute.InstanceArgs{
//				NetworkInterfaces: compute.InstanceNetworkInterfaceArray{
//					&compute.InstanceNetworkInterfaceArgs{
//						AccessConfigs: compute.InstanceNetworkInterfaceAccessConfigArray{
//							&compute.InstanceNetworkInterfaceAccessConfigArgs{},
//						},
//						Network: pulumi.String("default"),
//					},
//				},
//				Name:           pulumi.String("my-confidential-instance"),
//				Zone:           pulumi.String("us-central1-a"),
//				MachineType:    pulumi.String("n2d-standard-2"),
//				MinCpuPlatform: pulumi.String("AMD Milan"),
//				ConfidentialInstanceConfig: &compute.InstanceConfidentialInstanceConfigArgs{
//					EnableConfidentialCompute: pulumi.Bool(true),
//					ConfidentialInstanceType:  pulumi.String("SEV"),
//				},
//				BootDisk: &compute.InstanceBootDiskArgs{
//					InitializeParams: &compute.InstanceBootDiskInitializeParamsArgs{
//						Image: pulumi.String("ubuntu-os-cloud/ubuntu-2204-lts"),
//						Labels: pulumi.StringMap{
//							"my_label": pulumi.String("value"),
//						},
//					},
//				},
//				ScratchDisks: compute.InstanceScratchDiskArray{
//					&compute.InstanceScratchDiskArgs{
//						Interface: pulumi.String("NVME"),
//					},
//				},
//				ServiceAccount: &compute.InstanceServiceAccountArgs{
//					Email: _default.Email,
//					Scopes: pulumi.StringArray{
//						pulumi.String("cloud-platform"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// > **Note:** The fields `boot_disk.0.disk_encryption_raw` and `attached_disk.*.disk_encryption_key_raw` cannot be imported automatically. The API doesn't return this information. If you are setting one of these fields in your config, you will need to update your state manually after importing the resource.
//
// > **Note:** The `desiredStatus` field will not be set on import. If you have it set, Terraform will update the field on the next `pulumi up`, bringing your instance to the desired status.
//
// Instances can be imported using any of these accepted formats:
//
// * `projects/{{project}}/zones/{{zone}}/instances/{{name}}`
// * `{{project}}/{{zone}}/{{name}}`
// * `{{name}}`
//
// When using the `pulumi import` command, instances can be imported using one of the formats above. For example:
//
// ```sh
// $ pulumi import gcp:compute/instance:Instance default projects/{{project}}/zones/{{zone}}/instances/{{name}}
// $ pulumi import gcp:compute/instance:Instance default {{project}}/{{zone}}/{{name}}
// $ pulumi import gcp:compute/instance:Instance default {{name}}
// ```
type Instance struct {
	pulumi.CustomResourceState

	// Configure Nested Virtualisation and Simultaneous Hyper Threading  on this VM. Structure is documented below
	AdvancedMachineFeatures InstanceAdvancedMachineFeaturesPtrOutput `pulumi:"advancedMachineFeatures"`
	// If true, allows this prvider to stop the instance to update its properties.
	// If you try to update a property that requires stopping the instance without setting this field, the update will fail.
	AllowStoppingForUpdate pulumi.BoolPtrOutput `pulumi:"allowStoppingForUpdate"`
	// Additional disks to attach to the instance. Can be repeated multiple times for multiple disks. Structure is documented below.
	AttachedDisks InstanceAttachedDiskArrayOutput `pulumi:"attachedDisks"`
	// The boot disk for the instance.
	// Structure is documented below.
	BootDisk InstanceBootDiskOutput `pulumi:"bootDisk"`
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs.
	// This defaults to false.
	CanIpForward pulumi.BoolPtrOutput `pulumi:"canIpForward"`
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig InstanceConfidentialInstanceConfigOutput `pulumi:"confidentialInstanceConfig"`
	// The CPU platform used by this instance.
	CpuPlatform pulumi.StringOutput `pulumi:"cpuPlatform"`
	// Creation timestamp in RFC3339 text format.
	CreationTimestamp pulumi.StringOutput `pulumi:"creationTimestamp"`
	// The current status of the instance. This could be one of the following values: PROVISIONING, STAGING, RUNNING, STOPPING, SUSPENDING, SUSPENDED, REPAIRING, and TERMINATED. For more information about the status of the instance, see [Instance life cycle](https://cloud.google.com/compute/docs/instances/instance-life-cycle).
	CurrentStatus pulumi.StringOutput `pulumi:"currentStatus"`
	// Enable deletion protection on this instance. Defaults to false.
	// **Note:** you must disable deletion protection before removing the resource (e.g., via `pulumi destroy`), or the instance cannot be deleted and the provider run will not complete successfully.
	DeletionProtection pulumi.BoolPtrOutput `pulumi:"deletionProtection"`
	// A brief description of this resource.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Desired status of the instance. Either
	// `"RUNNING"`, `"SUSPENDED"` or `"TERMINATED"`.
	DesiredStatus pulumi.StringPtrOutput `pulumi:"desiredStatus"`
	// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
	EffectiveLabels pulumi.StringMapOutput `pulumi:"effectiveLabels"`
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	EnableDisplay pulumi.BoolPtrOutput `pulumi:"enableDisplay"`
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	// **Note:** GPU accelerators can only be used with `onHostMaintenance` option set to TERMINATE.
	GuestAccelerators InstanceGuestAcceleratorArrayOutput `pulumi:"guestAccelerators"`
	// A custom hostname for the instance. Must be a fully qualified DNS name and RFC-1035-valid.
	// Valid format is a series of labels 1-63 characters long matching the regular expression `a-z`, concatenated with periods.
	// The entire hostname must not exceed 253 characters. Changing this forces a new resource to be created.
	Hostname pulumi.StringPtrOutput `pulumi:"hostname"`
	// Configuration for data encryption on the instance with encryption keys. Structure is documented below.
	InstanceEncryptionKey InstanceInstanceEncryptionKeyPtrOutput `pulumi:"instanceEncryptionKey"`
	// The server-assigned unique identifier of this instance.
	InstanceId pulumi.StringOutput `pulumi:"instanceId"`
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType pulumi.StringPtrOutput `pulumi:"keyRevocationActionType"`
	// The unique fingerprint of the labels.
	LabelFingerprint pulumi.StringOutput `pulumi:"labelFingerprint"`
	// A map of key/value label pairs to assign to the instance.
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels pulumi.StringMapOutput `pulumi:"labels"`
	// The machine type to create.
	//
	// **Note:** If you want to update this value (resize the VM) after initial creation, you must set `allowStoppingForUpdate` to `true`.
	//
	// [Custom machine types](https://cloud.google.com/dataproc/docs/concepts/compute/custom-machine-types) can be formatted as `custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY_MB`, e.g. `custom-6-20480` for 6 vCPU and 20GB of RAM.
	// Because of current API limitations some custom machine types may get converted to different machine types (such as an equivalent standard type) and cause non-empty plans in your configuration. Use
	// `lifecycle.ignore_changes` on `machineType` in these cases.
	//
	// There is a limit of 6.5 GB per CPU unless you add [extended memory](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory). You must do this explicitly by adding the suffix `-ext`, e.g. `custom-2-15360-ext` for 2 vCPU and 15 GB of memory.
	MachineType pulumi.StringOutput `pulumi:"machineType"`
	// Metadata key/value pairs to make available from
	// within the instance. Ssh keys attached in the Cloud Console will be removed.
	// Add them to your config in order to keep them attached to your instance.
	// A list of predefined metadata keys (e.g. ssh-keys) can be found [here](https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys)
	//
	// > Depending on the OS you choose for your instance, some metadata keys have
	// special functionality.  Most linux-based images will run the content of
	// `metadata.startup-script` in a shell on every boot.  At a minimum,
	// Debian, CentOS, RHEL, SLES, Container-Optimized OS, and Ubuntu images
	// support this key.  Windows instances require other keys depending on the format
	// of the script and the time you would like it to run - see [this table](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances).
	// For the convenience of the users of `metadata.startup-script`,
	// we provide a special attribute, `metadataStartupScript`, which is documented below.
	Metadata pulumi.StringMapOutput `pulumi:"metadata"`
	// The unique fingerprint of the metadata.
	MetadataFingerprint pulumi.StringOutput `pulumi:"metadataFingerprint"`
	// An alternative to using the
	// startup-script metadata key, except this one forces the instance to be recreated
	// (thus re-running the script) if it is changed. This replaces the startup-script
	// metadata key on the created instance and thus the two mechanisms are not
	// allowed to be used simultaneously.  Users are free to use either mechanism - the
	// only distinction is that this separate attribute will cause a recreate on
	// modification.  On import, `metadataStartupScript` will not be set - if you
	// choose to specify it you will see a diff immediately after import causing a
	// destroy/recreate operation. If importing an instance and specifying this value
	// is desired, you will need to modify your state file.
	MetadataStartupScript pulumi.StringPtrOutput `pulumi:"metadataStartupScript"`
	// Specifies a minimum CPU platform for the VM instance. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	MinCpuPlatform pulumi.StringOutput `pulumi:"minCpuPlatform"`
	// A unique name for the resource, required by GCE.
	// Changing this forces a new resource to be created.
	Name pulumi.StringOutput `pulumi:"name"`
	// Networks to attach to the instance. This can
	// be specified multiple times. Structure is documented below.
	//
	// ***
	NetworkInterfaces InstanceNetworkInterfaceArrayOutput `pulumi:"networkInterfaces"`
	// Configures network performance settings for the instance. Structure is
	// documented below. **Note**: `machineType` must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig InstanceNetworkPerformanceConfigPtrOutput `pulumi:"networkPerformanceConfig"`
	// Additional instance parameters.
	// .
	Params InstanceParamsPtrOutput `pulumi:"params"`
	// Beta key/value pair represents partner metadata assigned to instance where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata pulumi.StringMapOutput `pulumi:"partnerMetadata"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
	// The combination of labels configured directly on the resource and default labels configured on the provider.
	PulumiLabels pulumi.StringMapOutput `pulumi:"pulumiLabels"`
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity InstanceReservationAffinityOutput `pulumi:"reservationAffinity"`
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies pulumi.StringPtrOutput `pulumi:"resourcePolicies"`
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling InstanceSchedulingOutput `pulumi:"scheduling"`
	// Scratch disks to attach to the instance. This can be
	// specified multiple times for multiple scratch disks. Structure is documented below.
	ScratchDisks InstanceScratchDiskArrayOutput `pulumi:"scratchDisks"`
	// The URI of the created resource.
	SelfLink pulumi.StringOutput `pulumi:"selfLink"`
	// Service account to attach to the instance.
	// Structure is documented below.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ServiceAccount InstanceServiceAccountPtrOutput `pulumi:"serviceAccount"`
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ShieldedInstanceConfig InstanceShieldedInstanceConfigOutput `pulumi:"shieldedInstanceConfig"`
	// A list of network tags to attach to the instance.
	Tags pulumi.StringArrayOutput `pulumi:"tags"`
	// The unique fingerprint of the tags.
	TagsFingerprint pulumi.StringOutput `pulumi:"tagsFingerprint"`
	// The zone that the machine should be created in. If it is not provided, the provider zone is used.
	Zone pulumi.StringOutput `pulumi:"zone"`
}

// NewInstance registers a new resource with the given unique name, arguments, and options.
func NewInstance(ctx *pulumi.Context,
	name string, args *InstanceArgs, opts ...pulumi.ResourceOption) (*Instance, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.BootDisk == nil {
		return nil, errors.New("invalid value for required argument 'BootDisk'")
	}
	if args.MachineType == nil {
		return nil, errors.New("invalid value for required argument 'MachineType'")
	}
	if args.NetworkInterfaces == nil {
		return nil, errors.New("invalid value for required argument 'NetworkInterfaces'")
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"effectiveLabels",
		"pulumiLabels",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Instance
	err := ctx.RegisterResource("gcp:compute/instance:Instance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstance gets an existing Instance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceState, opts ...pulumi.ResourceOption) (*Instance, error) {
	var resource Instance
	err := ctx.ReadResource("gcp:compute/instance:Instance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Instance resources.
type instanceState struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading  on this VM. Structure is documented below
	AdvancedMachineFeatures *InstanceAdvancedMachineFeatures `pulumi:"advancedMachineFeatures"`
	// If true, allows this prvider to stop the instance to update its properties.
	// If you try to update a property that requires stopping the instance without setting this field, the update will fail.
	AllowStoppingForUpdate *bool `pulumi:"allowStoppingForUpdate"`
	// Additional disks to attach to the instance. Can be repeated multiple times for multiple disks. Structure is documented below.
	AttachedDisks []InstanceAttachedDisk `pulumi:"attachedDisks"`
	// The boot disk for the instance.
	// Structure is documented below.
	BootDisk *InstanceBootDisk `pulumi:"bootDisk"`
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs.
	// This defaults to false.
	CanIpForward *bool `pulumi:"canIpForward"`
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig *InstanceConfidentialInstanceConfig `pulumi:"confidentialInstanceConfig"`
	// The CPU platform used by this instance.
	CpuPlatform *string `pulumi:"cpuPlatform"`
	// Creation timestamp in RFC3339 text format.
	CreationTimestamp *string `pulumi:"creationTimestamp"`
	// The current status of the instance. This could be one of the following values: PROVISIONING, STAGING, RUNNING, STOPPING, SUSPENDING, SUSPENDED, REPAIRING, and TERMINATED. For more information about the status of the instance, see [Instance life cycle](https://cloud.google.com/compute/docs/instances/instance-life-cycle).
	CurrentStatus *string `pulumi:"currentStatus"`
	// Enable deletion protection on this instance. Defaults to false.
	// **Note:** you must disable deletion protection before removing the resource (e.g., via `pulumi destroy`), or the instance cannot be deleted and the provider run will not complete successfully.
	DeletionProtection *bool `pulumi:"deletionProtection"`
	// A brief description of this resource.
	Description *string `pulumi:"description"`
	// Desired status of the instance. Either
	// `"RUNNING"`, `"SUSPENDED"` or `"TERMINATED"`.
	DesiredStatus *string `pulumi:"desiredStatus"`
	// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
	EffectiveLabels map[string]string `pulumi:"effectiveLabels"`
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	EnableDisplay *bool `pulumi:"enableDisplay"`
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	// **Note:** GPU accelerators can only be used with `onHostMaintenance` option set to TERMINATE.
	GuestAccelerators []InstanceGuestAccelerator `pulumi:"guestAccelerators"`
	// A custom hostname for the instance. Must be a fully qualified DNS name and RFC-1035-valid.
	// Valid format is a series of labels 1-63 characters long matching the regular expression `a-z`, concatenated with periods.
	// The entire hostname must not exceed 253 characters. Changing this forces a new resource to be created.
	Hostname *string `pulumi:"hostname"`
	// Configuration for data encryption on the instance with encryption keys. Structure is documented below.
	InstanceEncryptionKey *InstanceInstanceEncryptionKey `pulumi:"instanceEncryptionKey"`
	// The server-assigned unique identifier of this instance.
	InstanceId *string `pulumi:"instanceId"`
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType *string `pulumi:"keyRevocationActionType"`
	// The unique fingerprint of the labels.
	LabelFingerprint *string `pulumi:"labelFingerprint"`
	// A map of key/value label pairs to assign to the instance.
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels map[string]string `pulumi:"labels"`
	// The machine type to create.
	//
	// **Note:** If you want to update this value (resize the VM) after initial creation, you must set `allowStoppingForUpdate` to `true`.
	//
	// [Custom machine types](https://cloud.google.com/dataproc/docs/concepts/compute/custom-machine-types) can be formatted as `custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY_MB`, e.g. `custom-6-20480` for 6 vCPU and 20GB of RAM.
	// Because of current API limitations some custom machine types may get converted to different machine types (such as an equivalent standard type) and cause non-empty plans in your configuration. Use
	// `lifecycle.ignore_changes` on `machineType` in these cases.
	//
	// There is a limit of 6.5 GB per CPU unless you add [extended memory](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory). You must do this explicitly by adding the suffix `-ext`, e.g. `custom-2-15360-ext` for 2 vCPU and 15 GB of memory.
	MachineType *string `pulumi:"machineType"`
	// Metadata key/value pairs to make available from
	// within the instance. Ssh keys attached in the Cloud Console will be removed.
	// Add them to your config in order to keep them attached to your instance.
	// A list of predefined metadata keys (e.g. ssh-keys) can be found [here](https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys)
	//
	// > Depending on the OS you choose for your instance, some metadata keys have
	// special functionality.  Most linux-based images will run the content of
	// `metadata.startup-script` in a shell on every boot.  At a minimum,
	// Debian, CentOS, RHEL, SLES, Container-Optimized OS, and Ubuntu images
	// support this key.  Windows instances require other keys depending on the format
	// of the script and the time you would like it to run - see [this table](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances).
	// For the convenience of the users of `metadata.startup-script`,
	// we provide a special attribute, `metadataStartupScript`, which is documented below.
	Metadata map[string]string `pulumi:"metadata"`
	// The unique fingerprint of the metadata.
	MetadataFingerprint *string `pulumi:"metadataFingerprint"`
	// An alternative to using the
	// startup-script metadata key, except this one forces the instance to be recreated
	// (thus re-running the script) if it is changed. This replaces the startup-script
	// metadata key on the created instance and thus the two mechanisms are not
	// allowed to be used simultaneously.  Users are free to use either mechanism - the
	// only distinction is that this separate attribute will cause a recreate on
	// modification.  On import, `metadataStartupScript` will not be set - if you
	// choose to specify it you will see a diff immediately after import causing a
	// destroy/recreate operation. If importing an instance and specifying this value
	// is desired, you will need to modify your state file.
	MetadataStartupScript *string `pulumi:"metadataStartupScript"`
	// Specifies a minimum CPU platform for the VM instance. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	MinCpuPlatform *string `pulumi:"minCpuPlatform"`
	// A unique name for the resource, required by GCE.
	// Changing this forces a new resource to be created.
	Name *string `pulumi:"name"`
	// Networks to attach to the instance. This can
	// be specified multiple times. Structure is documented below.
	//
	// ***
	NetworkInterfaces []InstanceNetworkInterface `pulumi:"networkInterfaces"`
	// Configures network performance settings for the instance. Structure is
	// documented below. **Note**: `machineType` must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig *InstanceNetworkPerformanceConfig `pulumi:"networkPerformanceConfig"`
	// Additional instance parameters.
	// .
	Params *InstanceParams `pulumi:"params"`
	// Beta key/value pair represents partner metadata assigned to instance where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata map[string]string `pulumi:"partnerMetadata"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// The combination of labels configured directly on the resource and default labels configured on the provider.
	PulumiLabels map[string]string `pulumi:"pulumiLabels"`
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity *InstanceReservationAffinity `pulumi:"reservationAffinity"`
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies *string `pulumi:"resourcePolicies"`
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling *InstanceScheduling `pulumi:"scheduling"`
	// Scratch disks to attach to the instance. This can be
	// specified multiple times for multiple scratch disks. Structure is documented below.
	ScratchDisks []InstanceScratchDisk `pulumi:"scratchDisks"`
	// The URI of the created resource.
	SelfLink *string `pulumi:"selfLink"`
	// Service account to attach to the instance.
	// Structure is documented below.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ServiceAccount *InstanceServiceAccount `pulumi:"serviceAccount"`
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ShieldedInstanceConfig *InstanceShieldedInstanceConfig `pulumi:"shieldedInstanceConfig"`
	// A list of network tags to attach to the instance.
	Tags []string `pulumi:"tags"`
	// The unique fingerprint of the tags.
	TagsFingerprint *string `pulumi:"tagsFingerprint"`
	// The zone that the machine should be created in. If it is not provided, the provider zone is used.
	Zone *string `pulumi:"zone"`
}

type InstanceState struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading  on this VM. Structure is documented below
	AdvancedMachineFeatures InstanceAdvancedMachineFeaturesPtrInput
	// If true, allows this prvider to stop the instance to update its properties.
	// If you try to update a property that requires stopping the instance without setting this field, the update will fail.
	AllowStoppingForUpdate pulumi.BoolPtrInput
	// Additional disks to attach to the instance. Can be repeated multiple times for multiple disks. Structure is documented below.
	AttachedDisks InstanceAttachedDiskArrayInput
	// The boot disk for the instance.
	// Structure is documented below.
	BootDisk InstanceBootDiskPtrInput
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs.
	// This defaults to false.
	CanIpForward pulumi.BoolPtrInput
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig InstanceConfidentialInstanceConfigPtrInput
	// The CPU platform used by this instance.
	CpuPlatform pulumi.StringPtrInput
	// Creation timestamp in RFC3339 text format.
	CreationTimestamp pulumi.StringPtrInput
	// The current status of the instance. This could be one of the following values: PROVISIONING, STAGING, RUNNING, STOPPING, SUSPENDING, SUSPENDED, REPAIRING, and TERMINATED. For more information about the status of the instance, see [Instance life cycle](https://cloud.google.com/compute/docs/instances/instance-life-cycle).
	CurrentStatus pulumi.StringPtrInput
	// Enable deletion protection on this instance. Defaults to false.
	// **Note:** you must disable deletion protection before removing the resource (e.g., via `pulumi destroy`), or the instance cannot be deleted and the provider run will not complete successfully.
	DeletionProtection pulumi.BoolPtrInput
	// A brief description of this resource.
	Description pulumi.StringPtrInput
	// Desired status of the instance. Either
	// `"RUNNING"`, `"SUSPENDED"` or `"TERMINATED"`.
	DesiredStatus pulumi.StringPtrInput
	// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
	EffectiveLabels pulumi.StringMapInput
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	EnableDisplay pulumi.BoolPtrInput
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	// **Note:** GPU accelerators can only be used with `onHostMaintenance` option set to TERMINATE.
	GuestAccelerators InstanceGuestAcceleratorArrayInput
	// A custom hostname for the instance. Must be a fully qualified DNS name and RFC-1035-valid.
	// Valid format is a series of labels 1-63 characters long matching the regular expression `a-z`, concatenated with periods.
	// The entire hostname must not exceed 253 characters. Changing this forces a new resource to be created.
	Hostname pulumi.StringPtrInput
	// Configuration for data encryption on the instance with encryption keys. Structure is documented below.
	InstanceEncryptionKey InstanceInstanceEncryptionKeyPtrInput
	// The server-assigned unique identifier of this instance.
	InstanceId pulumi.StringPtrInput
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType pulumi.StringPtrInput
	// The unique fingerprint of the labels.
	LabelFingerprint pulumi.StringPtrInput
	// A map of key/value label pairs to assign to the instance.
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels pulumi.StringMapInput
	// The machine type to create.
	//
	// **Note:** If you want to update this value (resize the VM) after initial creation, you must set `allowStoppingForUpdate` to `true`.
	//
	// [Custom machine types](https://cloud.google.com/dataproc/docs/concepts/compute/custom-machine-types) can be formatted as `custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY_MB`, e.g. `custom-6-20480` for 6 vCPU and 20GB of RAM.
	// Because of current API limitations some custom machine types may get converted to different machine types (such as an equivalent standard type) and cause non-empty plans in your configuration. Use
	// `lifecycle.ignore_changes` on `machineType` in these cases.
	//
	// There is a limit of 6.5 GB per CPU unless you add [extended memory](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory). You must do this explicitly by adding the suffix `-ext`, e.g. `custom-2-15360-ext` for 2 vCPU and 15 GB of memory.
	MachineType pulumi.StringPtrInput
	// Metadata key/value pairs to make available from
	// within the instance. Ssh keys attached in the Cloud Console will be removed.
	// Add them to your config in order to keep them attached to your instance.
	// A list of predefined metadata keys (e.g. ssh-keys) can be found [here](https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys)
	//
	// > Depending on the OS you choose for your instance, some metadata keys have
	// special functionality.  Most linux-based images will run the content of
	// `metadata.startup-script` in a shell on every boot.  At a minimum,
	// Debian, CentOS, RHEL, SLES, Container-Optimized OS, and Ubuntu images
	// support this key.  Windows instances require other keys depending on the format
	// of the script and the time you would like it to run - see [this table](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances).
	// For the convenience of the users of `metadata.startup-script`,
	// we provide a special attribute, `metadataStartupScript`, which is documented below.
	Metadata pulumi.StringMapInput
	// The unique fingerprint of the metadata.
	MetadataFingerprint pulumi.StringPtrInput
	// An alternative to using the
	// startup-script metadata key, except this one forces the instance to be recreated
	// (thus re-running the script) if it is changed. This replaces the startup-script
	// metadata key on the created instance and thus the two mechanisms are not
	// allowed to be used simultaneously.  Users are free to use either mechanism - the
	// only distinction is that this separate attribute will cause a recreate on
	// modification.  On import, `metadataStartupScript` will not be set - if you
	// choose to specify it you will see a diff immediately after import causing a
	// destroy/recreate operation. If importing an instance and specifying this value
	// is desired, you will need to modify your state file.
	MetadataStartupScript pulumi.StringPtrInput
	// Specifies a minimum CPU platform for the VM instance. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	MinCpuPlatform pulumi.StringPtrInput
	// A unique name for the resource, required by GCE.
	// Changing this forces a new resource to be created.
	Name pulumi.StringPtrInput
	// Networks to attach to the instance. This can
	// be specified multiple times. Structure is documented below.
	//
	// ***
	NetworkInterfaces InstanceNetworkInterfaceArrayInput
	// Configures network performance settings for the instance. Structure is
	// documented below. **Note**: `machineType` must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig InstanceNetworkPerformanceConfigPtrInput
	// Additional instance parameters.
	// .
	Params InstanceParamsPtrInput
	// Beta key/value pair represents partner metadata assigned to instance where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata pulumi.StringMapInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// The combination of labels configured directly on the resource and default labels configured on the provider.
	PulumiLabels pulumi.StringMapInput
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity InstanceReservationAffinityPtrInput
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies pulumi.StringPtrInput
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling InstanceSchedulingPtrInput
	// Scratch disks to attach to the instance. This can be
	// specified multiple times for multiple scratch disks. Structure is documented below.
	ScratchDisks InstanceScratchDiskArrayInput
	// The URI of the created resource.
	SelfLink pulumi.StringPtrInput
	// Service account to attach to the instance.
	// Structure is documented below.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ServiceAccount InstanceServiceAccountPtrInput
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ShieldedInstanceConfig InstanceShieldedInstanceConfigPtrInput
	// A list of network tags to attach to the instance.
	Tags pulumi.StringArrayInput
	// The unique fingerprint of the tags.
	TagsFingerprint pulumi.StringPtrInput
	// The zone that the machine should be created in. If it is not provided, the provider zone is used.
	Zone pulumi.StringPtrInput
}

func (InstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceState)(nil)).Elem()
}

type instanceArgs struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading  on this VM. Structure is documented below
	AdvancedMachineFeatures *InstanceAdvancedMachineFeatures `pulumi:"advancedMachineFeatures"`
	// If true, allows this prvider to stop the instance to update its properties.
	// If you try to update a property that requires stopping the instance without setting this field, the update will fail.
	AllowStoppingForUpdate *bool `pulumi:"allowStoppingForUpdate"`
	// Additional disks to attach to the instance. Can be repeated multiple times for multiple disks. Structure is documented below.
	AttachedDisks []InstanceAttachedDisk `pulumi:"attachedDisks"`
	// The boot disk for the instance.
	// Structure is documented below.
	BootDisk InstanceBootDisk `pulumi:"bootDisk"`
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs.
	// This defaults to false.
	CanIpForward *bool `pulumi:"canIpForward"`
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig *InstanceConfidentialInstanceConfig `pulumi:"confidentialInstanceConfig"`
	// Enable deletion protection on this instance. Defaults to false.
	// **Note:** you must disable deletion protection before removing the resource (e.g., via `pulumi destroy`), or the instance cannot be deleted and the provider run will not complete successfully.
	DeletionProtection *bool `pulumi:"deletionProtection"`
	// A brief description of this resource.
	Description *string `pulumi:"description"`
	// Desired status of the instance. Either
	// `"RUNNING"`, `"SUSPENDED"` or `"TERMINATED"`.
	DesiredStatus *string `pulumi:"desiredStatus"`
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	EnableDisplay *bool `pulumi:"enableDisplay"`
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	// **Note:** GPU accelerators can only be used with `onHostMaintenance` option set to TERMINATE.
	GuestAccelerators []InstanceGuestAccelerator `pulumi:"guestAccelerators"`
	// A custom hostname for the instance. Must be a fully qualified DNS name and RFC-1035-valid.
	// Valid format is a series of labels 1-63 characters long matching the regular expression `a-z`, concatenated with periods.
	// The entire hostname must not exceed 253 characters. Changing this forces a new resource to be created.
	Hostname *string `pulumi:"hostname"`
	// Configuration for data encryption on the instance with encryption keys. Structure is documented below.
	InstanceEncryptionKey *InstanceInstanceEncryptionKey `pulumi:"instanceEncryptionKey"`
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType *string `pulumi:"keyRevocationActionType"`
	// A map of key/value label pairs to assign to the instance.
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels map[string]string `pulumi:"labels"`
	// The machine type to create.
	//
	// **Note:** If you want to update this value (resize the VM) after initial creation, you must set `allowStoppingForUpdate` to `true`.
	//
	// [Custom machine types](https://cloud.google.com/dataproc/docs/concepts/compute/custom-machine-types) can be formatted as `custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY_MB`, e.g. `custom-6-20480` for 6 vCPU and 20GB of RAM.
	// Because of current API limitations some custom machine types may get converted to different machine types (such as an equivalent standard type) and cause non-empty plans in your configuration. Use
	// `lifecycle.ignore_changes` on `machineType` in these cases.
	//
	// There is a limit of 6.5 GB per CPU unless you add [extended memory](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory). You must do this explicitly by adding the suffix `-ext`, e.g. `custom-2-15360-ext` for 2 vCPU and 15 GB of memory.
	MachineType string `pulumi:"machineType"`
	// Metadata key/value pairs to make available from
	// within the instance. Ssh keys attached in the Cloud Console will be removed.
	// Add them to your config in order to keep them attached to your instance.
	// A list of predefined metadata keys (e.g. ssh-keys) can be found [here](https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys)
	//
	// > Depending on the OS you choose for your instance, some metadata keys have
	// special functionality.  Most linux-based images will run the content of
	// `metadata.startup-script` in a shell on every boot.  At a minimum,
	// Debian, CentOS, RHEL, SLES, Container-Optimized OS, and Ubuntu images
	// support this key.  Windows instances require other keys depending on the format
	// of the script and the time you would like it to run - see [this table](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances).
	// For the convenience of the users of `metadata.startup-script`,
	// we provide a special attribute, `metadataStartupScript`, which is documented below.
	Metadata map[string]string `pulumi:"metadata"`
	// An alternative to using the
	// startup-script metadata key, except this one forces the instance to be recreated
	// (thus re-running the script) if it is changed. This replaces the startup-script
	// metadata key on the created instance and thus the two mechanisms are not
	// allowed to be used simultaneously.  Users are free to use either mechanism - the
	// only distinction is that this separate attribute will cause a recreate on
	// modification.  On import, `metadataStartupScript` will not be set - if you
	// choose to specify it you will see a diff immediately after import causing a
	// destroy/recreate operation. If importing an instance and specifying this value
	// is desired, you will need to modify your state file.
	MetadataStartupScript *string `pulumi:"metadataStartupScript"`
	// Specifies a minimum CPU platform for the VM instance. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	MinCpuPlatform *string `pulumi:"minCpuPlatform"`
	// A unique name for the resource, required by GCE.
	// Changing this forces a new resource to be created.
	Name *string `pulumi:"name"`
	// Networks to attach to the instance. This can
	// be specified multiple times. Structure is documented below.
	//
	// ***
	NetworkInterfaces []InstanceNetworkInterface `pulumi:"networkInterfaces"`
	// Configures network performance settings for the instance. Structure is
	// documented below. **Note**: `machineType` must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig *InstanceNetworkPerformanceConfig `pulumi:"networkPerformanceConfig"`
	// Additional instance parameters.
	// .
	Params *InstanceParams `pulumi:"params"`
	// Beta key/value pair represents partner metadata assigned to instance where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata map[string]string `pulumi:"partnerMetadata"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity *InstanceReservationAffinity `pulumi:"reservationAffinity"`
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies *string `pulumi:"resourcePolicies"`
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling *InstanceScheduling `pulumi:"scheduling"`
	// Scratch disks to attach to the instance. This can be
	// specified multiple times for multiple scratch disks. Structure is documented below.
	ScratchDisks []InstanceScratchDisk `pulumi:"scratchDisks"`
	// Service account to attach to the instance.
	// Structure is documented below.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ServiceAccount *InstanceServiceAccount `pulumi:"serviceAccount"`
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ShieldedInstanceConfig *InstanceShieldedInstanceConfig `pulumi:"shieldedInstanceConfig"`
	// A list of network tags to attach to the instance.
	Tags []string `pulumi:"tags"`
	// The zone that the machine should be created in. If it is not provided, the provider zone is used.
	Zone *string `pulumi:"zone"`
}

// The set of arguments for constructing a Instance resource.
type InstanceArgs struct {
	// Configure Nested Virtualisation and Simultaneous Hyper Threading  on this VM. Structure is documented below
	AdvancedMachineFeatures InstanceAdvancedMachineFeaturesPtrInput
	// If true, allows this prvider to stop the instance to update its properties.
	// If you try to update a property that requires stopping the instance without setting this field, the update will fail.
	AllowStoppingForUpdate pulumi.BoolPtrInput
	// Additional disks to attach to the instance. Can be repeated multiple times for multiple disks. Structure is documented below.
	AttachedDisks InstanceAttachedDiskArrayInput
	// The boot disk for the instance.
	// Structure is documented below.
	BootDisk InstanceBootDiskInput
	// Whether to allow sending and receiving of
	// packets with non-matching source or destination IPs.
	// This defaults to false.
	CanIpForward pulumi.BoolPtrInput
	// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
	ConfidentialInstanceConfig InstanceConfidentialInstanceConfigPtrInput
	// Enable deletion protection on this instance. Defaults to false.
	// **Note:** you must disable deletion protection before removing the resource (e.g., via `pulumi destroy`), or the instance cannot be deleted and the provider run will not complete successfully.
	DeletionProtection pulumi.BoolPtrInput
	// A brief description of this resource.
	Description pulumi.StringPtrInput
	// Desired status of the instance. Either
	// `"RUNNING"`, `"SUSPENDED"` or `"TERMINATED"`.
	DesiredStatus pulumi.StringPtrInput
	// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	EnableDisplay pulumi.BoolPtrInput
	// List of the type and count of accelerator cards attached to the instance. Structure documented below.
	// **Note:** GPU accelerators can only be used with `onHostMaintenance` option set to TERMINATE.
	GuestAccelerators InstanceGuestAcceleratorArrayInput
	// A custom hostname for the instance. Must be a fully qualified DNS name and RFC-1035-valid.
	// Valid format is a series of labels 1-63 characters long matching the regular expression `a-z`, concatenated with periods.
	// The entire hostname must not exceed 253 characters. Changing this forces a new resource to be created.
	Hostname pulumi.StringPtrInput
	// Configuration for data encryption on the instance with encryption keys. Structure is documented below.
	InstanceEncryptionKey InstanceInstanceEncryptionKeyPtrInput
	// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
	KeyRevocationActionType pulumi.StringPtrInput
	// A map of key/value label pairs to assign to the instance.
	// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
	// Please refer to the field 'effective_labels' for all of the labels present on the resource.
	Labels pulumi.StringMapInput
	// The machine type to create.
	//
	// **Note:** If you want to update this value (resize the VM) after initial creation, you must set `allowStoppingForUpdate` to `true`.
	//
	// [Custom machine types](https://cloud.google.com/dataproc/docs/concepts/compute/custom-machine-types) can be formatted as `custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY_MB`, e.g. `custom-6-20480` for 6 vCPU and 20GB of RAM.
	// Because of current API limitations some custom machine types may get converted to different machine types (such as an equivalent standard type) and cause non-empty plans in your configuration. Use
	// `lifecycle.ignore_changes` on `machineType` in these cases.
	//
	// There is a limit of 6.5 GB per CPU unless you add [extended memory](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory). You must do this explicitly by adding the suffix `-ext`, e.g. `custom-2-15360-ext` for 2 vCPU and 15 GB of memory.
	MachineType pulumi.StringInput
	// Metadata key/value pairs to make available from
	// within the instance. Ssh keys attached in the Cloud Console will be removed.
	// Add them to your config in order to keep them attached to your instance.
	// A list of predefined metadata keys (e.g. ssh-keys) can be found [here](https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys)
	//
	// > Depending on the OS you choose for your instance, some metadata keys have
	// special functionality.  Most linux-based images will run the content of
	// `metadata.startup-script` in a shell on every boot.  At a minimum,
	// Debian, CentOS, RHEL, SLES, Container-Optimized OS, and Ubuntu images
	// support this key.  Windows instances require other keys depending on the format
	// of the script and the time you would like it to run - see [this table](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances).
	// For the convenience of the users of `metadata.startup-script`,
	// we provide a special attribute, `metadataStartupScript`, which is documented below.
	Metadata pulumi.StringMapInput
	// An alternative to using the
	// startup-script metadata key, except this one forces the instance to be recreated
	// (thus re-running the script) if it is changed. This replaces the startup-script
	// metadata key on the created instance and thus the two mechanisms are not
	// allowed to be used simultaneously.  Users are free to use either mechanism - the
	// only distinction is that this separate attribute will cause a recreate on
	// modification.  On import, `metadataStartupScript` will not be set - if you
	// choose to specify it you will see a diff immediately after import causing a
	// destroy/recreate operation. If importing an instance and specifying this value
	// is desired, you will need to modify your state file.
	MetadataStartupScript pulumi.StringPtrInput
	// Specifies a minimum CPU platform for the VM instance. Applicable values are the friendly names of CPU platforms, such as
	// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	MinCpuPlatform pulumi.StringPtrInput
	// A unique name for the resource, required by GCE.
	// Changing this forces a new resource to be created.
	Name pulumi.StringPtrInput
	// Networks to attach to the instance. This can
	// be specified multiple times. Structure is documented below.
	//
	// ***
	NetworkInterfaces InstanceNetworkInterfaceArrayInput
	// Configures network performance settings for the instance. Structure is
	// documented below. **Note**: `machineType` must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
	// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
	// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
	// in order for this setting to take effect.
	NetworkPerformanceConfig InstanceNetworkPerformanceConfigPtrInput
	// Additional instance parameters.
	// .
	Params InstanceParamsPtrInput
	// Beta key/value pair represents partner metadata assigned to instance where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
	PartnerMetadata pulumi.StringMapInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// Specifies the reservations that this instance can consume from.
	// Structure is documented below.
	ReservationAffinity InstanceReservationAffinityPtrInput
	// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
	ResourcePolicies pulumi.StringPtrInput
	// The scheduling strategy to use. More details about
	// this configuration option are detailed below.
	Scheduling InstanceSchedulingPtrInput
	// Scratch disks to attach to the instance. This can be
	// specified multiple times for multiple scratch disks. Structure is documented below.
	ScratchDisks InstanceScratchDiskArrayInput
	// Service account to attach to the instance.
	// Structure is documented below.
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ServiceAccount InstanceServiceAccountPtrInput
	// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
	// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
	// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
	ShieldedInstanceConfig InstanceShieldedInstanceConfigPtrInput
	// A list of network tags to attach to the instance.
	Tags pulumi.StringArrayInput
	// The zone that the machine should be created in. If it is not provided, the provider zone is used.
	Zone pulumi.StringPtrInput
}

func (InstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceArgs)(nil)).Elem()
}

type InstanceInput interface {
	pulumi.Input

	ToInstanceOutput() InstanceOutput
	ToInstanceOutputWithContext(ctx context.Context) InstanceOutput
}

func (*Instance) ElementType() reflect.Type {
	return reflect.TypeOf((**Instance)(nil)).Elem()
}

func (i *Instance) ToInstanceOutput() InstanceOutput {
	return i.ToInstanceOutputWithContext(context.Background())
}

func (i *Instance) ToInstanceOutputWithContext(ctx context.Context) InstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceOutput)
}

// InstanceArrayInput is an input type that accepts InstanceArray and InstanceArrayOutput values.
// You can construct a concrete instance of `InstanceArrayInput` via:
//
//	InstanceArray{ InstanceArgs{...} }
type InstanceArrayInput interface {
	pulumi.Input

	ToInstanceArrayOutput() InstanceArrayOutput
	ToInstanceArrayOutputWithContext(context.Context) InstanceArrayOutput
}

type InstanceArray []InstanceInput

func (InstanceArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Instance)(nil)).Elem()
}

func (i InstanceArray) ToInstanceArrayOutput() InstanceArrayOutput {
	return i.ToInstanceArrayOutputWithContext(context.Background())
}

func (i InstanceArray) ToInstanceArrayOutputWithContext(ctx context.Context) InstanceArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceArrayOutput)
}

// InstanceMapInput is an input type that accepts InstanceMap and InstanceMapOutput values.
// You can construct a concrete instance of `InstanceMapInput` via:
//
//	InstanceMap{ "key": InstanceArgs{...} }
type InstanceMapInput interface {
	pulumi.Input

	ToInstanceMapOutput() InstanceMapOutput
	ToInstanceMapOutputWithContext(context.Context) InstanceMapOutput
}

type InstanceMap map[string]InstanceInput

func (InstanceMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Instance)(nil)).Elem()
}

func (i InstanceMap) ToInstanceMapOutput() InstanceMapOutput {
	return i.ToInstanceMapOutputWithContext(context.Background())
}

func (i InstanceMap) ToInstanceMapOutputWithContext(ctx context.Context) InstanceMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceMapOutput)
}

type InstanceOutput struct{ *pulumi.OutputState }

func (InstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Instance)(nil)).Elem()
}

func (o InstanceOutput) ToInstanceOutput() InstanceOutput {
	return o
}

func (o InstanceOutput) ToInstanceOutputWithContext(ctx context.Context) InstanceOutput {
	return o
}

// Configure Nested Virtualisation and Simultaneous Hyper Threading  on this VM. Structure is documented below
func (o InstanceOutput) AdvancedMachineFeatures() InstanceAdvancedMachineFeaturesPtrOutput {
	return o.ApplyT(func(v *Instance) InstanceAdvancedMachineFeaturesPtrOutput { return v.AdvancedMachineFeatures }).(InstanceAdvancedMachineFeaturesPtrOutput)
}

// If true, allows this prvider to stop the instance to update its properties.
// If you try to update a property that requires stopping the instance without setting this field, the update will fail.
func (o InstanceOutput) AllowStoppingForUpdate() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.BoolPtrOutput { return v.AllowStoppingForUpdate }).(pulumi.BoolPtrOutput)
}

// Additional disks to attach to the instance. Can be repeated multiple times for multiple disks. Structure is documented below.
func (o InstanceOutput) AttachedDisks() InstanceAttachedDiskArrayOutput {
	return o.ApplyT(func(v *Instance) InstanceAttachedDiskArrayOutput { return v.AttachedDisks }).(InstanceAttachedDiskArrayOutput)
}

// The boot disk for the instance.
// Structure is documented below.
func (o InstanceOutput) BootDisk() InstanceBootDiskOutput {
	return o.ApplyT(func(v *Instance) InstanceBootDiskOutput { return v.BootDisk }).(InstanceBootDiskOutput)
}

// Whether to allow sending and receiving of
// packets with non-matching source or destination IPs.
// This defaults to false.
func (o InstanceOutput) CanIpForward() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.BoolPtrOutput { return v.CanIpForward }).(pulumi.BoolPtrOutput)
}

// Enable [Confidential Mode](https://cloud.google.com/compute/confidential-vm/docs/about-cvm) on this VM. Structure is documented below
func (o InstanceOutput) ConfidentialInstanceConfig() InstanceConfidentialInstanceConfigOutput {
	return o.ApplyT(func(v *Instance) InstanceConfidentialInstanceConfigOutput { return v.ConfidentialInstanceConfig }).(InstanceConfidentialInstanceConfigOutput)
}

// The CPU platform used by this instance.
func (o InstanceOutput) CpuPlatform() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.CpuPlatform }).(pulumi.StringOutput)
}

// Creation timestamp in RFC3339 text format.
func (o InstanceOutput) CreationTimestamp() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.CreationTimestamp }).(pulumi.StringOutput)
}

// The current status of the instance. This could be one of the following values: PROVISIONING, STAGING, RUNNING, STOPPING, SUSPENDING, SUSPENDED, REPAIRING, and TERMINATED. For more information about the status of the instance, see [Instance life cycle](https://cloud.google.com/compute/docs/instances/instance-life-cycle).
func (o InstanceOutput) CurrentStatus() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.CurrentStatus }).(pulumi.StringOutput)
}

// Enable deletion protection on this instance. Defaults to false.
// **Note:** you must disable deletion protection before removing the resource (e.g., via `pulumi destroy`), or the instance cannot be deleted and the provider run will not complete successfully.
func (o InstanceOutput) DeletionProtection() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.BoolPtrOutput { return v.DeletionProtection }).(pulumi.BoolPtrOutput)
}

// A brief description of this resource.
func (o InstanceOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Desired status of the instance. Either
// `"RUNNING"`, `"SUSPENDED"` or `"TERMINATED"`.
func (o InstanceOutput) DesiredStatus() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.DesiredStatus }).(pulumi.StringPtrOutput)
}

// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
func (o InstanceOutput) EffectiveLabels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringMapOutput { return v.EffectiveLabels }).(pulumi.StringMapOutput)
}

// Enable [Virtual Displays](https://cloud.google.com/compute/docs/instances/enable-instance-virtual-display#verify_display_driver) on this instance.
// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
func (o InstanceOutput) EnableDisplay() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.BoolPtrOutput { return v.EnableDisplay }).(pulumi.BoolPtrOutput)
}

// List of the type and count of accelerator cards attached to the instance. Structure documented below.
// **Note:** GPU accelerators can only be used with `onHostMaintenance` option set to TERMINATE.
func (o InstanceOutput) GuestAccelerators() InstanceGuestAcceleratorArrayOutput {
	return o.ApplyT(func(v *Instance) InstanceGuestAcceleratorArrayOutput { return v.GuestAccelerators }).(InstanceGuestAcceleratorArrayOutput)
}

// A custom hostname for the instance. Must be a fully qualified DNS name and RFC-1035-valid.
// Valid format is a series of labels 1-63 characters long matching the regular expression `a-z`, concatenated with periods.
// The entire hostname must not exceed 253 characters. Changing this forces a new resource to be created.
func (o InstanceOutput) Hostname() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.Hostname }).(pulumi.StringPtrOutput)
}

// Configuration for data encryption on the instance with encryption keys. Structure is documented below.
func (o InstanceOutput) InstanceEncryptionKey() InstanceInstanceEncryptionKeyPtrOutput {
	return o.ApplyT(func(v *Instance) InstanceInstanceEncryptionKeyPtrOutput { return v.InstanceEncryptionKey }).(InstanceInstanceEncryptionKeyPtrOutput)
}

// The server-assigned unique identifier of this instance.
func (o InstanceOutput) InstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.InstanceId }).(pulumi.StringOutput)
}

// Action to be taken when a customer's encryption key is revoked. Supports `STOP` and `NONE`, with `NONE` being the default.
func (o InstanceOutput) KeyRevocationActionType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.KeyRevocationActionType }).(pulumi.StringPtrOutput)
}

// The unique fingerprint of the labels.
func (o InstanceOutput) LabelFingerprint() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.LabelFingerprint }).(pulumi.StringOutput)
}

// A map of key/value label pairs to assign to the instance.
// **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
// Please refer to the field 'effective_labels' for all of the labels present on the resource.
func (o InstanceOutput) Labels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringMapOutput { return v.Labels }).(pulumi.StringMapOutput)
}

// The machine type to create.
//
// **Note:** If you want to update this value (resize the VM) after initial creation, you must set `allowStoppingForUpdate` to `true`.
//
// [Custom machine types](https://cloud.google.com/dataproc/docs/concepts/compute/custom-machine-types) can be formatted as `custom-NUMBER_OF_CPUS-AMOUNT_OF_MEMORY_MB`, e.g. `custom-6-20480` for 6 vCPU and 20GB of RAM.
// Because of current API limitations some custom machine types may get converted to different machine types (such as an equivalent standard type) and cause non-empty plans in your configuration. Use
// `lifecycle.ignore_changes` on `machineType` in these cases.
//
// There is a limit of 6.5 GB per CPU unless you add [extended memory](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory). You must do this explicitly by adding the suffix `-ext`, e.g. `custom-2-15360-ext` for 2 vCPU and 15 GB of memory.
func (o InstanceOutput) MachineType() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.MachineType }).(pulumi.StringOutput)
}

// Metadata key/value pairs to make available from
// within the instance. Ssh keys attached in the Cloud Console will be removed.
// Add them to your config in order to keep them attached to your instance.
// A list of predefined metadata keys (e.g. ssh-keys) can be found [here](https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys)
//
// > Depending on the OS you choose for your instance, some metadata keys have
// special functionality.  Most linux-based images will run the content of
// `metadata.startup-script` in a shell on every boot.  At a minimum,
// Debian, CentOS, RHEL, SLES, Container-Optimized OS, and Ubuntu images
// support this key.  Windows instances require other keys depending on the format
// of the script and the time you would like it to run - see [this table](https://cloud.google.com/compute/docs/startupscript#providing_a_startup_script_for_windows_instances).
// For the convenience of the users of `metadata.startup-script`,
// we provide a special attribute, `metadataStartupScript`, which is documented below.
func (o InstanceOutput) Metadata() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringMapOutput { return v.Metadata }).(pulumi.StringMapOutput)
}

// The unique fingerprint of the metadata.
func (o InstanceOutput) MetadataFingerprint() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.MetadataFingerprint }).(pulumi.StringOutput)
}

// An alternative to using the
// startup-script metadata key, except this one forces the instance to be recreated
// (thus re-running the script) if it is changed. This replaces the startup-script
// metadata key on the created instance and thus the two mechanisms are not
// allowed to be used simultaneously.  Users are free to use either mechanism - the
// only distinction is that this separate attribute will cause a recreate on
// modification.  On import, `metadataStartupScript` will not be set - if you
// choose to specify it you will see a diff immediately after import causing a
// destroy/recreate operation. If importing an instance and specifying this value
// is desired, you will need to modify your state file.
func (o InstanceOutput) MetadataStartupScript() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.MetadataStartupScript }).(pulumi.StringPtrOutput)
}

// Specifies a minimum CPU platform for the VM instance. Applicable values are the friendly names of CPU platforms, such as
// `Intel Haswell` or `Intel Skylake`. See the complete list [here](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform).
// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
func (o InstanceOutput) MinCpuPlatform() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.MinCpuPlatform }).(pulumi.StringOutput)
}

// A unique name for the resource, required by GCE.
// Changing this forces a new resource to be created.
func (o InstanceOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Networks to attach to the instance. This can
// be specified multiple times. Structure is documented below.
//
// ***
func (o InstanceOutput) NetworkInterfaces() InstanceNetworkInterfaceArrayOutput {
	return o.ApplyT(func(v *Instance) InstanceNetworkInterfaceArrayOutput { return v.NetworkInterfaces }).(InstanceNetworkInterfaceArrayOutput)
}

// Configures network performance settings for the instance. Structure is
// documented below. **Note**: `machineType` must be a [supported type](https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration),
// the `image` used must include the [`GVNIC`](https://cloud.google.com/compute/docs/networking/using-gvnic#create-instance-gvnic-image)
// in `guest-os-features`, and `network_interface.0.nic-type` must be `GVNIC`
// in order for this setting to take effect.
func (o InstanceOutput) NetworkPerformanceConfig() InstanceNetworkPerformanceConfigPtrOutput {
	return o.ApplyT(func(v *Instance) InstanceNetworkPerformanceConfigPtrOutput { return v.NetworkPerformanceConfig }).(InstanceNetworkPerformanceConfigPtrOutput)
}

// Additional instance parameters.
// .
func (o InstanceOutput) Params() InstanceParamsPtrOutput {
	return o.ApplyT(func(v *Instance) InstanceParamsPtrOutput { return v.Params }).(InstanceParamsPtrOutput)
}

// Beta key/value pair represents partner metadata assigned to instance where key represent a defined namespace and value is a json string represent the entries associted with the namespace.
func (o InstanceOutput) PartnerMetadata() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringMapOutput { return v.PartnerMetadata }).(pulumi.StringMapOutput)
}

// The ID of the project in which the resource belongs. If it
// is not provided, the provider project is used.
func (o InstanceOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// The combination of labels configured directly on the resource and default labels configured on the provider.
func (o InstanceOutput) PulumiLabels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringMapOutput { return v.PulumiLabels }).(pulumi.StringMapOutput)
}

// Specifies the reservations that this instance can consume from.
// Structure is documented below.
func (o InstanceOutput) ReservationAffinity() InstanceReservationAffinityOutput {
	return o.ApplyT(func(v *Instance) InstanceReservationAffinityOutput { return v.ReservationAffinity }).(InstanceReservationAffinityOutput)
}

// - A list of selfLinks of resource policies to attach to the instance. Modifying this list will cause the instance to recreate. Currently a max of 1 resource policy is supported.
func (o InstanceOutput) ResourcePolicies() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringPtrOutput { return v.ResourcePolicies }).(pulumi.StringPtrOutput)
}

// The scheduling strategy to use. More details about
// this configuration option are detailed below.
func (o InstanceOutput) Scheduling() InstanceSchedulingOutput {
	return o.ApplyT(func(v *Instance) InstanceSchedulingOutput { return v.Scheduling }).(InstanceSchedulingOutput)
}

// Scratch disks to attach to the instance. This can be
// specified multiple times for multiple scratch disks. Structure is documented below.
func (o InstanceOutput) ScratchDisks() InstanceScratchDiskArrayOutput {
	return o.ApplyT(func(v *Instance) InstanceScratchDiskArrayOutput { return v.ScratchDisks }).(InstanceScratchDiskArrayOutput)
}

// The URI of the created resource.
func (o InstanceOutput) SelfLink() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.SelfLink }).(pulumi.StringOutput)
}

// Service account to attach to the instance.
// Structure is documented below.
// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
func (o InstanceOutput) ServiceAccount() InstanceServiceAccountPtrOutput {
	return o.ApplyT(func(v *Instance) InstanceServiceAccountPtrOutput { return v.ServiceAccount }).(InstanceServiceAccountPtrOutput)
}

// Enable [Shielded VM](https://cloud.google.com/security/shielded-cloud/shielded-vm) on this instance. Shielded VM provides verifiable integrity to prevent against malware and rootkits. Defaults to disabled. Structure is documented below.
// **Note**: `shieldedInstanceConfig` can only be used with boot images with shielded vm support. See the complete list [here](https://cloud.google.com/compute/docs/images#shielded-images).
// **Note**: `allowStoppingForUpdate` must be set to true or your instance must have a `desiredStatus` of `TERMINATED` in order to update this field.
func (o InstanceOutput) ShieldedInstanceConfig() InstanceShieldedInstanceConfigOutput {
	return o.ApplyT(func(v *Instance) InstanceShieldedInstanceConfigOutput { return v.ShieldedInstanceConfig }).(InstanceShieldedInstanceConfigOutput)
}

// A list of network tags to attach to the instance.
func (o InstanceOutput) Tags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringArrayOutput { return v.Tags }).(pulumi.StringArrayOutput)
}

// The unique fingerprint of the tags.
func (o InstanceOutput) TagsFingerprint() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.TagsFingerprint }).(pulumi.StringOutput)
}

// The zone that the machine should be created in. If it is not provided, the provider zone is used.
func (o InstanceOutput) Zone() pulumi.StringOutput {
	return o.ApplyT(func(v *Instance) pulumi.StringOutput { return v.Zone }).(pulumi.StringOutput)
}

type InstanceArrayOutput struct{ *pulumi.OutputState }

func (InstanceArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Instance)(nil)).Elem()
}

func (o InstanceArrayOutput) ToInstanceArrayOutput() InstanceArrayOutput {
	return o
}

func (o InstanceArrayOutput) ToInstanceArrayOutputWithContext(ctx context.Context) InstanceArrayOutput {
	return o
}

func (o InstanceArrayOutput) Index(i pulumi.IntInput) InstanceOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Instance {
		return vs[0].([]*Instance)[vs[1].(int)]
	}).(InstanceOutput)
}

type InstanceMapOutput struct{ *pulumi.OutputState }

func (InstanceMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Instance)(nil)).Elem()
}

func (o InstanceMapOutput) ToInstanceMapOutput() InstanceMapOutput {
	return o
}

func (o InstanceMapOutput) ToInstanceMapOutputWithContext(ctx context.Context) InstanceMapOutput {
	return o
}

func (o InstanceMapOutput) MapIndex(k pulumi.StringInput) InstanceOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Instance {
		return vs[0].(map[string]*Instance)[vs[1].(string)]
	}).(InstanceOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceInput)(nil)).Elem(), &Instance{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceArrayInput)(nil)).Elem(), InstanceArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceMapInput)(nil)).Elem(), InstanceMap{})
	pulumi.RegisterOutputType(InstanceOutput{})
	pulumi.RegisterOutputType(InstanceArrayOutput{})
	pulumi.RegisterOutputType(InstanceMapOutput{})
}
