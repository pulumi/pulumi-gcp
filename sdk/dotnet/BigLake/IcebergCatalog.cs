// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Gcp.BigLake
{
    /// <summary>
    /// IcebergCatalogs are top-level containers for Apache Iceberg REST Catalog served Namespaces and Tables.
    /// 
    /// To get more information about IcebergCatalog, see:
    /// * How-to Guides
    ///     * [Use the BigLake metastore Iceberg REST catalog](https://docs.cloud.google.com/biglake/docs/blms-rest-catalog)
    /// 
    /// &gt; **Warning:** If you are using User ADCs (Application Default Credentials) with this resource's IAM,
    /// you must specify a `BillingProject` and set `UserProjectOverride` to true
    /// in the provider configuration. Otherwise the IAM API will return 403s.
    /// Your account must have the `serviceusage.services.use` permission on the
    /// `BillingProject` you defined.
    /// 
    /// ## Example Usage
    /// 
    /// ### Biglake Iceberg Catalog
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var bucketForMyIcebergCatalog = new Gcp.Storage.Bucket("bucket_for_my_iceberg_catalog", new()
    ///     {
    ///         Name = "my_iceberg_catalog",
    ///         Location = "us-central1",
    ///         ForceDestroy = true,
    ///         UniformBucketLevelAccess = true,
    ///     });
    /// 
    ///     var myIcebergCatalog = new Gcp.BigLake.IcebergCatalog("my_iceberg_catalog", new()
    ///     {
    ///         Name = "my_iceberg_catalog",
    ///         CatalogType = "CATALOG_TYPE_GCS_BUCKET",
    ///     }, new CustomResourceOptions
    ///     {
    ///         DependsOn =
    ///         {
    ///             bucketForMyIcebergCatalog,
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// IcebergCatalog can be imported using any of these accepted formats:
    /// 
    /// * `iceberg/v1/restcatalog/extensions/projects/{{project}}/catalogs/{{name}}`
    /// * `{{project}}/{{name}}`
    /// * `{{name}}`
    /// 
    /// When using the `pulumi import` command, IcebergCatalog can be imported using one of the formats above. For example:
    /// 
    /// ```sh
    /// $ pulumi import gcp:biglake/icebergCatalog:IcebergCatalog default iceberg/v1/restcatalog/extensions/projects/{{project}}/catalogs/{{name}}
    /// $ pulumi import gcp:biglake/icebergCatalog:IcebergCatalog default {{project}}/{{name}}
    /// $ pulumi import gcp:biglake/icebergCatalog:IcebergCatalog default {{name}}
    /// ```
    /// </summary>
    [GcpResourceType("gcp:biglake/icebergCatalog:IcebergCatalog")]
    public partial class IcebergCatalog : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.
        /// </summary>
        [Output("biglakeServiceAccount")]
        public Output<string> BiglakeServiceAccount { get; private set; } = null!;

        /// <summary>
        /// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
        /// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
        /// </summary>
        [Output("catalogType")]
        public Output<string> CatalogType { get; private set; } = null!;

        /// <summary>
        /// Output only. The creation time of the IcebergCatalog.
        /// </summary>
        [Output("createTime")]
        public Output<string> CreateTime { get; private set; } = null!;

        /// <summary>
        /// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
        /// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
        /// </summary>
        [Output("credentialMode")]
        public Output<string> CredentialMode { get; private set; } = null!;

        /// <summary>
        /// Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.
        /// </summary>
        [Output("defaultLocation")]
        public Output<string> DefaultLocation { get; private set; } = null!;

        /// <summary>
        /// The name of the IcebergCatalog. Format:
        /// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The ID of the project in which the resource belongs.
        /// If it is not provided, the provider project is used.
        /// </summary>
        [Output("project")]
        public Output<string> Project { get; private set; } = null!;

        /// <summary>
        /// Output only. The replicas for the catalog metadata.
        /// Structure is documented below.
        /// </summary>
        [Output("replicas")]
        public Output<ImmutableArray<Outputs.IcebergCatalogReplica>> Replicas { get; private set; } = null!;

        /// <summary>
        /// Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `Nam4` or `Us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.
        /// </summary>
        [Output("storageRegions")]
        public Output<ImmutableArray<string>> StorageRegions { get; private set; } = null!;

        /// <summary>
        /// Output only. The last modification time of the IcebergCatalog.
        /// </summary>
        [Output("updateTime")]
        public Output<string> UpdateTime { get; private set; } = null!;


        /// <summary>
        /// Create a IcebergCatalog resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public IcebergCatalog(string name, IcebergCatalogArgs args, CustomResourceOptions? options = null)
            : base("gcp:biglake/icebergCatalog:IcebergCatalog", name, args ?? new IcebergCatalogArgs(), MakeResourceOptions(options, ""))
        {
        }

        private IcebergCatalog(string name, Input<string> id, IcebergCatalogState? state = null, CustomResourceOptions? options = null)
            : base("gcp:biglake/icebergCatalog:IcebergCatalog", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing IcebergCatalog resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static IcebergCatalog Get(string name, Input<string> id, IcebergCatalogState? state = null, CustomResourceOptions? options = null)
        {
            return new IcebergCatalog(name, id, state, options);
        }
    }

    public sealed class IcebergCatalogArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
        /// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
        /// </summary>
        [Input("catalogType", required: true)]
        public Input<string> CatalogType { get; set; } = null!;

        /// <summary>
        /// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
        /// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
        /// </summary>
        [Input("credentialMode")]
        public Input<string>? CredentialMode { get; set; }

        /// <summary>
        /// The name of the IcebergCatalog. Format:
        /// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The ID of the project in which the resource belongs.
        /// If it is not provided, the provider project is used.
        /// </summary>
        [Input("project")]
        public Input<string>? Project { get; set; }

        public IcebergCatalogArgs()
        {
        }
        public static new IcebergCatalogArgs Empty => new IcebergCatalogArgs();
    }

    public sealed class IcebergCatalogState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.
        /// </summary>
        [Input("biglakeServiceAccount")]
        public Input<string>? BiglakeServiceAccount { get; set; }

        /// <summary>
        /// The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
        /// Possible values are: `CATALOG_TYPE_GCS_BUCKET`.
        /// </summary>
        [Input("catalogType")]
        public Input<string>? CatalogType { get; set; }

        /// <summary>
        /// Output only. The creation time of the IcebergCatalog.
        /// </summary>
        [Input("createTime")]
        public Input<string>? CreateTime { get; set; }

        /// <summary>
        /// The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
        /// Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.
        /// </summary>
        [Input("credentialMode")]
        public Input<string>? CredentialMode { get; set; }

        /// <summary>
        /// Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.
        /// </summary>
        [Input("defaultLocation")]
        public Input<string>? DefaultLocation { get; set; }

        /// <summary>
        /// The name of the IcebergCatalog. Format:
        /// projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The ID of the project in which the resource belongs.
        /// If it is not provided, the provider project is used.
        /// </summary>
        [Input("project")]
        public Input<string>? Project { get; set; }

        [Input("replicas")]
        private InputList<Inputs.IcebergCatalogReplicaGetArgs>? _replicas;

        /// <summary>
        /// Output only. The replicas for the catalog metadata.
        /// Structure is documented below.
        /// </summary>
        public InputList<Inputs.IcebergCatalogReplicaGetArgs> Replicas
        {
            get => _replicas ?? (_replicas = new InputList<Inputs.IcebergCatalogReplicaGetArgs>());
            set => _replicas = value;
        }

        [Input("storageRegions")]
        private InputList<string>? _storageRegions;

        /// <summary>
        /// Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `Nam4` or `Us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.
        /// </summary>
        public InputList<string> StorageRegions
        {
            get => _storageRegions ?? (_storageRegions = new InputList<string>());
            set => _storageRegions = value;
        }

        /// <summary>
        /// Output only. The last modification time of the IcebergCatalog.
        /// </summary>
        [Input("updateTime")]
        public Input<string>? UpdateTime { get; set; }

        public IcebergCatalogState()
        {
        }
        public static new IcebergCatalogState Empty => new IcebergCatalogState();
    }
}
