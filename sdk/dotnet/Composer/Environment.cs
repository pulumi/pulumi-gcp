// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Gcp.Composer
{
    /// <summary>
    /// An environment for running orchestration tasks.
    /// 
    /// Environments run Apache Airflow software on Google infrastructure.
    /// 
    /// To get more information about Environments, see:
    /// 
    /// * [Cloud Composer documentation](https://cloud.google.com/composer/docs)
    /// * [Cloud Composer API documentation](https://cloud.google.com/composer/docs/reference/rest/v1beta1/projects.locations.environments)
    /// * How-to Guides (Cloud Composer 2)
    ///   * [Creating environments](https://cloud.google.com/composer/docs/composer-2/create-environments)
    ///   * [Scaling environments](https://cloud.google.com/composer/docs/composer-2/scale-environments)
    ///   * [Configuring Shared VPC for Composer Environments](https://cloud.google.com/composer/docs/composer-2/configure-shared-vpc)
    /// * How-to Guides (Cloud Composer 3)
    ///   * [Creating environments](https://cloud.google.com/composer/docs/composer-3/create-environments)
    ///   * [Scaling environments](https://cloud.google.com/composer/docs/composer-3/scale-environments)
    ///   * [Change environment networking type (Private or Public IP)](https://cloud.google.com/composer/docs/composer-3/change-networking-type)
    ///   * [Connect an environment to a VPC network](https://cloud.google.com/composer/docs/composer-3/connect-vpc-network)
    /// * [Apache Airflow Documentation](http://airflow.apache.org/)
    /// 
    /// &gt; **Note**
    ///   Cloud Composer 1 is in the post-maintenance mode. Google does
    ///   not release any further updates to Cloud Composer 1, including new versions
    ///   of Airflow, bugfixes, and security updates. We recommend using
    ///   Cloud Composer 2 or Cloud Composer 3 instead.
    /// 
    /// We **STRONGLY** recommend you read the [GCP
    /// guides](https://cloud.google.com/composer/docs/how-to) as the Environment resource requires a long
    /// deployment process and involves several layers of GCP infrastructure, including a Kubernetes Engine
    /// cluster, Cloud Storage, and Compute networking resources. Due to limitations of the API, Pulumi
    /// will not be able to find or manage many of these underlying resources automatically. In particular:
    /// * Creating or updating an environment resource can take up to one hour. In addition, GCP may only
    ///   detect some errors in the configuration when they are used (e.g., ~40-50 minutes into the creation
    ///   process), and is prone to limited error reporting. If you encounter confusing or uninformative
    ///   errors, please verify your configuration is valid against GCP Cloud Composer before filing bugs
    ///   against the provider.
    /// * **Environments create Google Cloud Storage buckets that are not automatically cleaned up** on environment deletion. [More about Composer's use of Cloud
    ///   Storage](https://cloud.google.com/composer/docs/concepts/cloud-storage).
    /// * Please review the [known
    ///   issues](https://cloud.google.com/composer/docs/known-issues) for Composer if you are having
    ///   problems.***
    /// 
    /// ## Example Usage
    /// 
    /// ### Basic Usage (Cloud Composer 3)
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var test = new Gcp.Composer.Environment("test", new()
    ///     {
    ///         Name = "example-composer-env",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             SoftwareConfig = new Gcp.Composer.Inputs.EnvironmentConfigSoftwareConfigArgs
    ///             {
    ///                 ImageVersion = "composer-3-airflow-2",
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Basic Usage (Cloud Composer 2)
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var test = new Gcp.Composer.Environment("test", new()
    ///     {
    ///         Name = "example-composer-env",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             SoftwareConfig = new Gcp.Composer.Inputs.EnvironmentConfigSoftwareConfigArgs
    ///             {
    ///                 ImageVersion = "composer-2-airflow-2",
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Basic Usage (Cloud Composer 1)
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var test = new Gcp.Composer.Environment("test", new()
    ///     {
    ///         Name = "example-composer-env",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             SoftwareConfig = new Gcp.Composer.Inputs.EnvironmentConfigSoftwareConfigArgs
    ///             {
    ///                 ImageVersion = "composer-1-airflow-2",
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### With GKE and Compute Resource Dependencies
    /// 
    /// &gt; **Note**
    ///   To use custom service accounts, you must give at least the
    ///   `role/composer.worker` role to the service account of the Cloud Composer
    ///   environment. For more information, see the
    ///   [Access Control](https://cloud.google.com/composer/docs/how-to/access-control)
    ///   page in the Cloud Composer documentation.
    ///   You might need to assign additional roles depending on specific workflows
    ///   that the Airflow DAGs will be running.
    /// 
    /// ### GKE and Compute Resource Dependencies (Cloud Composer 3)
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var testAccount = new Gcp.ServiceAccount.Account("test", new()
    ///     {
    ///         AccountId = "composer-env-account",
    ///         DisplayName = "Test Service Account for Composer Environment",
    ///     });
    /// 
    ///     var test = new Gcp.Composer.Environment("test", new()
    ///     {
    ///         Name = "example-composer-env-tf-c3",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             SoftwareConfig = new Gcp.Composer.Inputs.EnvironmentConfigSoftwareConfigArgs
    ///             {
    ///                 ImageVersion = "composer-3-airflow-2",
    ///             },
    ///             WorkloadsConfig = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigArgs
    ///             {
    ///                 Scheduler = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigSchedulerArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 2,
    ///                     StorageGb = 1,
    ///                     Count = 1,
    ///                 },
    ///                 Triggerer = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigTriggererArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 1,
    ///                     Count = 1,
    ///                 },
    ///                 DagProcessor = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigDagProcessorArgs
    ///                 {
    ///                     Cpu = 1,
    ///                     MemoryGb = 2,
    ///                     StorageGb = 1,
    ///                     Count = 1,
    ///                 },
    ///                 WebServer = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigWebServerArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 2,
    ///                     StorageGb = 1,
    ///                 },
    ///                 Worker = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigWorkerArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 2,
    ///                     StorageGb = 1,
    ///                     MinCount = 1,
    ///                     MaxCount = 3,
    ///                 },
    ///             },
    ///             EnvironmentSize = "ENVIRONMENT_SIZE_SMALL",
    ///             NodeConfig = new Gcp.Composer.Inputs.EnvironmentConfigNodeConfigArgs
    ///             {
    ///                 ServiceAccount = testAccount.Name,
    ///             },
    ///         },
    ///     });
    /// 
    ///     var composer_worker = new Gcp.Projects.IAMMember("composer-worker", new()
    ///     {
    ///         Project = "your-project-id",
    ///         Role = "roles/composer.worker",
    ///         Member = testAccount.Email.Apply(email =&gt; $"serviceAccount:{email}"),
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### GKE and Compute Resource Dependencies (Cloud Composer 2)
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var testNetwork = new Gcp.Compute.Network("test", new()
    ///     {
    ///         Name = "composer-test-network3",
    ///         AutoCreateSubnetworks = false,
    ///     });
    /// 
    ///     var testSubnetwork = new Gcp.Compute.Subnetwork("test", new()
    ///     {
    ///         Name = "composer-test-subnetwork",
    ///         IpCidrRange = "10.2.0.0/16",
    ///         Region = "us-central1",
    ///         Network = testNetwork.Id,
    ///     });
    /// 
    ///     var testAccount = new Gcp.ServiceAccount.Account("test", new()
    ///     {
    ///         AccountId = "composer-env-account",
    ///         DisplayName = "Test Service Account for Composer Environment",
    ///     });
    /// 
    ///     var test = new Gcp.Composer.Environment("test", new()
    ///     {
    ///         Name = "example-composer-env-tf-c2",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             SoftwareConfig = new Gcp.Composer.Inputs.EnvironmentConfigSoftwareConfigArgs
    ///             {
    ///                 ImageVersion = "composer-2-airflow-2",
    ///             },
    ///             WorkloadsConfig = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigArgs
    ///             {
    ///                 Scheduler = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigSchedulerArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 1.875,
    ///                     StorageGb = 1,
    ///                     Count = 1,
    ///                 },
    ///                 WebServer = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigWebServerArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 1.875,
    ///                     StorageGb = 1,
    ///                 },
    ///                 Worker = new Gcp.Composer.Inputs.EnvironmentConfigWorkloadsConfigWorkerArgs
    ///                 {
    ///                     Cpu = 0.5,
    ///                     MemoryGb = 1.875,
    ///                     StorageGb = 1,
    ///                     MinCount = 1,
    ///                     MaxCount = 3,
    ///                 },
    ///             },
    ///             EnvironmentSize = "ENVIRONMENT_SIZE_SMALL",
    ///             NodeConfig = new Gcp.Composer.Inputs.EnvironmentConfigNodeConfigArgs
    ///             {
    ///                 Network = testNetwork.Id,
    ///                 Subnetwork = testSubnetwork.Id,
    ///                 ServiceAccount = testAccount.Name,
    ///             },
    ///         },
    ///     });
    /// 
    ///     var composer_worker = new Gcp.Projects.IAMMember("composer-worker", new()
    ///     {
    ///         Project = "your-project-id",
    ///         Role = "roles/composer.worker",
    ///         Member = testAccount.Email.Apply(email =&gt; $"serviceAccount:{email}"),
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### GKE and Compute Resource Dependencies (Cloud Composer 1)
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var testNetwork = new Gcp.Compute.Network("test", new()
    ///     {
    ///         Name = "composer-test-network",
    ///         AutoCreateSubnetworks = false,
    ///     });
    /// 
    ///     var testSubnetwork = new Gcp.Compute.Subnetwork("test", new()
    ///     {
    ///         Name = "composer-test-subnetwork",
    ///         IpCidrRange = "10.2.0.0/16",
    ///         Region = "us-central1",
    ///         Network = testNetwork.Id,
    ///     });
    /// 
    ///     var testAccount = new Gcp.ServiceAccount.Account("test", new()
    ///     {
    ///         AccountId = "composer-env-account",
    ///         DisplayName = "Test Service Account for Composer Environment",
    ///     });
    /// 
    ///     var test = new Gcp.Composer.Environment("test", new()
    ///     {
    ///         Name = "example-composer-env",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             SoftwareConfig = new Gcp.Composer.Inputs.EnvironmentConfigSoftwareConfigArgs
    ///             {
    ///                 ImageVersion = "composer-1-airflow-2",
    ///             },
    ///             NodeCount = 4,
    ///             NodeConfig = new Gcp.Composer.Inputs.EnvironmentConfigNodeConfigArgs
    ///             {
    ///                 Zone = "us-central1-a",
    ///                 MachineType = "n1-standard-1",
    ///                 Network = testNetwork.Id,
    ///                 Subnetwork = testSubnetwork.Id,
    ///                 ServiceAccount = testAccount.Name,
    ///             },
    ///             DatabaseConfig = new Gcp.Composer.Inputs.EnvironmentConfigDatabaseConfigArgs
    ///             {
    ///                 MachineType = "db-n1-standard-2",
    ///             },
    ///             WebServerConfig = new Gcp.Composer.Inputs.EnvironmentConfigWebServerConfigArgs
    ///             {
    ///                 MachineType = "composer-n1-webserver-2",
    ///             },
    ///         },
    ///     });
    /// 
    ///     var composer_worker = new Gcp.Projects.IAMMember("composer-worker", new()
    ///     {
    ///         Role = "roles/composer.worker",
    ///         Member = testAccount.Email.Apply(email =&gt; $"serviceAccount:{email}"),
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Cloud Composer 3 networking configuration
    /// 
    /// In Cloud Composer 3, networking configuration is simplified compared to
    /// previous versions. You don't need to specify network ranges, and can attach
    /// custom VPC networks to your environment.
    /// 
    /// &gt; **Note**
    ///   It's not possible to detach a VPC network using Terraform. Instead, you can
    ///   attach a different VPC network in its place, or detach the network using
    ///   other tools like Google Cloud CLI.
    /// 
    /// Use Private IP networking:
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Gcp.Composer.Environment("example", new()
    ///     {
    ///         Name = "example-environment",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             EnablePrivateEnvironment = true,
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// Attach a custom VPC network (Cloud Composer creates a new network attachment):
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Gcp.Composer.Environment("example", new()
    ///     {
    ///         Name = "example-environment",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             NodeConfig = new Gcp.Composer.Inputs.EnvironmentConfigNodeConfigArgs
    ///             {
    ///                 Network = "projects/example-project/global/networks/example-network",
    ///                 Subnetwork = "projects/example-project/regions/us-central1/subnetworks/example-subnetwork",
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// Attach a custom VPC network (use existing network attachment):
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Gcp.Composer.Environment("example", new()
    ///     {
    ///         Name = "example-environment",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             NodeConfig = new Gcp.Composer.Inputs.EnvironmentConfigNodeConfigArgs
    ///             {
    ///                 ComposerNetworkAttachment = projects / example_project / regions / us_central1 / networkAttachments / example_network_attachment,
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// If you specify an existing network attachment that you also manage in Terraform, then Terraform will revert changes
    /// to the attachment done by Cloud Composer when you apply configuration changes. As a result, the environment will no
    /// longer use the attachment. To address this problem, make sure that Terraform ignores changes to the
    /// `ProducerAcceptLists` parameter of the attachment, as follows:
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Gcp.Compute.NetworkAttachment("example");
    /// 
    ///     var exampleEnvironment = new Gcp.Composer.Environment("example", new()
    ///     {
    ///         Name = "example-environment",
    ///         Region = "us-central1",
    ///         Config = new Gcp.Composer.Inputs.EnvironmentConfigArgs
    ///         {
    ///             NodeConfig = new Gcp.Composer.Inputs.EnvironmentConfigNodeConfigArgs
    ///             {
    ///                 ComposerNetworkAttachment = example.Id,
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Argument Reference - Cloud Composer 1
    /// 
    /// The following arguments are supported:
    /// 
    /// * `Name` -
    /// (Required)
    /// Name of the environment
    /// 
    /// * `Config` -
    /// (Optional)
    /// Configuration parameters for this environment  Structure is documented below.
    /// 
    /// * `Labels` -
    /// (Optional)
    /// User-defined labels for this environment. The labels map can contain
    /// no more than 64 entries. Entries of the labels map are UTF8 strings
    /// that comply with the following restrictions:
    /// Label keys must be between 1 and 63 characters long and must conform
    /// to the following regular expression: `a-z?`.
    /// Label values must be between 0 and 63 characters long and must
    /// conform to the regular expression `(a-z?)?`.
    /// No more than 64 labels can be associated with a given environment.
    /// Both keys and values must be &lt;= 128 bytes in size.
    ///   
    ///   **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
    /// Please refer to the field 'effective_labels' for all of the labels present on the resource.
    /// 
    /// * `TerraformLabels` -
    /// The combination of labels configured directly on the resource and default labels configured on the provider.
    /// 
    /// * `EffectiveLabels` -
    /// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
    /// 
    /// * `Region` -
    /// (Optional)
    /// The location or Compute Engine region for the environment.
    /// 
    /// * `Project` -
    /// (Optional) The ID of the project in which the resource belongs.
    /// If it is not provided, the provider project is used.
    /// 
    /// &lt;a name="NestedConfigC1"&gt;&lt;/a&gt;The `Config` block supports:
    /// 
    /// * `NodeCount` -
    /// (Optional, Cloud Composer 1 only)
    /// The number of nodes in the Kubernetes Engine cluster of the environment.
    /// 
    /// * `NodeConfig` -
    /// (Optional)
    /// The configuration used for the Kubernetes Engine cluster.  Structure is documented below.
    /// 
    /// * `SoftwareConfig` -
    /// (Optional)
    /// The configuration settings for software inside the environment.  Structure is documented below.
    /// 
    /// * `PrivateEnvironmentConfig` -
    /// (Optional)
    /// The configuration used for the Private IP Cloud Composer environment. Structure is documented below.
    /// 
    /// * `WebServerNetworkAccessControl` -
    /// The network-level access control policy for the Airflow web server.
    /// If unspecified, no network-level access restrictions are applied.
    /// 
    /// * `DatabaseConfig` -
    /// (Optional, Cloud Composer 1 only)
    /// The configuration settings for Cloud SQL instance used internally
    /// by Apache Airflow software.
    /// 
    /// * `WebServerConfig` -
    /// (Optional, Cloud Composer 1 only)
    /// The configuration settings for the Airflow web server App Engine instance.
    /// 
    /// * `EncryptionConfig` -
    /// (Optional)
    /// The encryption options for the Cloud Composer environment and its
    /// dependencies.
    /// 
    /// * `MaintenanceWindow` -
    /// (Optional, Beta)
    /// The configuration settings for Cloud Composer maintenance windows.
    /// 
    /// * `MasterAuthorizedNetworksConfig` -
    /// (Optional)
    /// Configuration options for the master authorized networks feature. Enabled
    /// master authorized networks will disallow all external traffic to access
    /// Kubernetes master through HTTPS except traffic from the given CIDR blocks,
    /// Google Compute Engine Public IPs and Google Prod IPs. Structure is
    /// documented below.
    /// 
    /// &lt;a name="NestedNodeConfigC1"&gt;&lt;/a&gt;The `NodeConfig` block supports:
    /// 
    /// * `Zone` -
    /// (Optional, Cloud Composer 1 only)
    /// The Compute Engine zone in which to deploy the VMs running the
    /// Apache Airflow software, specified as the zone name or
    /// relative resource name (e.g. "projects/{project}/zones/{zone}"). Must
    /// belong to the enclosing environment's project and region.
    /// 
    /// * `MachineType` -
    /// (Optional, Cloud Composer 1 only)
    /// The Compute Engine machine type used for cluster instances,
    /// specified as a name or relative resource name. For example:
    /// "projects/{project}/zones/{zone}/machineTypes/{machineType}". Must belong
    /// to the enclosing environment's project and region/zone.
    /// 
    /// * `Network` -
    /// (Optional)
    /// The Compute Engine network to be used for machine
    /// communications, specified as a self-link, relative resource name
    /// (for example "projects/{project}/global/networks/{network}"), by name.
    ///   
    ///   The network must belong to the environment's project. If unspecified, the "default" network ID in the environment's
    /// project is used. If a Custom Subnet Network is provided, subnetwork must also be provided.
    /// 
    /// * `Subnetwork` -
    /// (Optional)
    /// The Compute Engine subnetwork to be used for machine
    /// communications, specified as a self-link, relative resource name (for example,
    /// "projects/{project}/regions/{region}/subnetworks/{subnetwork}"), or by name. If subnetwork is provided,
    /// network must also be provided and the subnetwork must belong to the enclosing environment's project and region.
    /// 
    /// * `DiskSizeGb` -
    /// (Optional, Cloud Composer 1 only)
    /// The disk size in GB used for node VMs. Minimum size is 20GB.
    /// If unspecified, defaults to 100GB. Cannot be updated.
    /// 
    /// * `OauthScopes` -
    /// (Optional, Cloud Composer 1 only)
    /// The set of Google API scopes to be made available on all node
    /// VMs. Cannot be updated. If empty, defaults to
    /// `["https://www.googleapis.com/auth/cloud-platform"]`.
    /// 
    /// * `ServiceAccount` -
    /// (Optional)
    /// The Google Cloud Platform Service Account to be used by the
    /// node VMs. If a service account is not specified, the "default"
    /// Compute Engine service account is used. Cannot be updated. If given,
    /// note that the service account must have `roles/composer.worker`
    /// for any GCP resources created under the Cloud Composer Environment.
    /// 
    /// * `Tags` -
    /// (Optional)
    /// The list of instance tags applied to all node VMs. Tags are
    /// used to identify valid sources or targets for network
    /// firewalls. Each tag within the list must comply with RFC1035.
    /// Cannot be updated.
    /// 
    /// * `IpAllocationPolicy` -
    /// (Optional)
    /// Configuration for controlling how IPs are allocated in the GKE cluster.
    /// Structure is documented below.
    /// Cannot be updated.
    /// 
    /// * `MaxPodsPerNode` -
    /// (Optional, Beta,
    /// Cloud Composer 1 only)
    /// The maximum pods per node in the GKE cluster allocated during environment
    /// creation. Lowering this value reduces IP address consumption by the Cloud
    /// Composer Kubernetes cluster. This value can only be set if the environment is VPC-Native.
    /// The range of possible values is 8-110, and the default is 32.
    /// Cannot be updated.
    /// 
    /// * `EnableIpMasqAgent` -
    /// (Optional)
    /// Deploys 'ip-masq-agent' daemon set in the GKE cluster and defines
    /// nonMasqueradeCIDRs equals to pod IP range so IP masquerading is used for
    /// all destination addresses, except between pods traffic.
    /// See the [documentation](https://cloud.google.com/composer/docs/enable-ip-masquerade-agent).
    /// 
    /// &lt;a name="NestedSoftwareConfigC1"&gt;&lt;/a&gt;The `SoftwareConfig` block supports:
    /// 
    /// * `AirflowConfigOverrides` -
    /// (Optional) Apache Airflow configuration properties to override. Property keys contain the section and property names,
    /// separated by a hyphen, for example "core-dags_are_paused_at_creation".
    ///   
    ///   Section names must not contain hyphens ("-"), opening square brackets ("["), or closing square brackets ("]").
    /// The property name must not be empty and cannot contain "=" or ";". Section and property names cannot contain
    /// characters: "." Apache Airflow configuration property names must be written in snake_case. Property values can
    /// contain any character, and can be written in any lower/upper case format. Certain Apache Airflow configuration
    /// property values are [blacklisted](https://cloud.google.com/composer/docs/concepts/airflow-configurations#airflow_configuration_blacklists),
    /// and cannot be overridden.
    /// 
    /// * `PypiPackages` -
    /// (Optional)
    /// Custom Python Package Index (PyPI) packages to be installed
    /// in the environment. Keys refer to the lowercase package name (e.g. "numpy"). Values are the lowercase extras and
    /// version specifier (e.g. "==1.12.0", "[devel,gcp_api]", "[devel]&gt;=1.8.2, &lt;1.9.2"). To specify a package without
    /// pinning it to a version specifier, use the empty string as the value.
    /// 
    /// * `EnvVariables` -
    /// (Optional)
    /// Additional environment variables to provide to the Apache Airflow scheduler, worker, and webserver processes.
    /// Environment variable names must match the regular expression `[a-zA-Z_][a-zA-Z0-9_]*`.
    /// They cannot specify Apache Airflow software configuration overrides (they cannot match the regular expression
    /// `AIRFLOW__[A-Z0-9_]+__[A-Z0-9_]+`), and they cannot match any of the following reserved names:
    ///   AIRFLOW_HOME
    ///   C_FORCE_ROOT
    ///   CONTAINER_NAME
    ///   DAGS_FOLDER
    ///   GCP_PROJECT
    ///   GCS_BUCKET
    ///   GKE_CLUSTER_NAME
    ///   SQL_DATABASE
    ///   SQL_INSTANCE
    ///   SQL_PASSWORD
    ///   SQL_PROJECT
    ///   SQL_REGION
    ///   SQL_USER
    /// 
    ///   AIRFLOW_HOME
    ///   C_FORCE_ROOT
    ///   CONTAINER_NAME
    ///   DAGS_FOLDER
    ///   GCP_PROJECT
    ///   GCS_BUCKET
    ///   GKE_CLUSTER_NAME
    ///   SQL_DATABASE
    ///   SQL_INSTANCE
    ///   SQL_PASSWORD
    ///   SQL_PROJECT
    ///   SQL_REGION
    ///   SQL_USER
    /// </summary>
    [GcpResourceType("gcp:composer/environment:Environment")]
    public partial class Environment : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Configuration parameters for this environment.
        /// </summary>
        [Output("config")]
        public Output<Outputs.EnvironmentConfig> Config { get; private set; } = null!;

        /// <summary>
        /// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
        /// </summary>
        [Output("effectiveLabels")]
        public Output<ImmutableDictionary<string, string>> EffectiveLabels { get; private set; } = null!;

        /// <summary>
        /// User-defined labels for this environment. The labels map can contain no more than 64 entries. Entries of the labels map are UTF8 strings that comply with the following restrictions: Label keys must be between 1 and 63 characters long and must conform to the following regular expression: a-z?. Label values must be between 0 and 63 characters long and must conform to the regular expression (a-z?)?. No more than 64 labels can be associated with a given environment. Both keys and values must be &lt;= 128 bytes in size.
        /// 
        /// 				**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
        /// 				Please refer to the field 'effective_labels' for all of the labels present on the resource.
        /// </summary>
        [Output("labels")]
        public Output<ImmutableDictionary<string, string>?> Labels { get; private set; } = null!;

        /// <summary>
        /// Name of the environment.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The ID of the project in which the resource belongs. If it is not provided, the provider project is used.
        /// </summary>
        [Output("project")]
        public Output<string> Project { get; private set; } = null!;

        /// <summary>
        /// The combination of labels configured directly on the resource and default labels configured on the provider.
        /// </summary>
        [Output("pulumiLabels")]
        public Output<ImmutableDictionary<string, string>> PulumiLabels { get; private set; } = null!;

        /// <summary>
        /// The location or Compute Engine region for the environment.
        /// </summary>
        [Output("region")]
        public Output<string> Region { get; private set; } = null!;

        /// <summary>
        /// Configuration options for storage used by Composer environment.
        /// </summary>
        [Output("storageConfig")]
        public Output<Outputs.EnvironmentStorageConfig> StorageConfig { get; private set; } = null!;


        /// <summary>
        /// Create a Environment resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Environment(string name, EnvironmentArgs? args = null, CustomResourceOptions? options = null)
            : base("gcp:composer/environment:Environment", name, args ?? new EnvironmentArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Environment(string name, Input<string> id, EnvironmentState? state = null, CustomResourceOptions? options = null)
            : base("gcp:composer/environment:Environment", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                AdditionalSecretOutputs =
                {
                    "effectiveLabels",
                    "pulumiLabels",
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Environment resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Environment Get(string name, Input<string> id, EnvironmentState? state = null, CustomResourceOptions? options = null)
        {
            return new Environment(name, id, state, options);
        }
    }

    public sealed class EnvironmentArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Configuration parameters for this environment.
        /// </summary>
        [Input("config")]
        public Input<Inputs.EnvironmentConfigArgs>? Config { get; set; }

        [Input("labels")]
        private InputMap<string>? _labels;

        /// <summary>
        /// User-defined labels for this environment. The labels map can contain no more than 64 entries. Entries of the labels map are UTF8 strings that comply with the following restrictions: Label keys must be between 1 and 63 characters long and must conform to the following regular expression: a-z?. Label values must be between 0 and 63 characters long and must conform to the regular expression (a-z?)?. No more than 64 labels can be associated with a given environment. Both keys and values must be &lt;= 128 bytes in size.
        /// 
        /// 				**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
        /// 				Please refer to the field 'effective_labels' for all of the labels present on the resource.
        /// </summary>
        public InputMap<string> Labels
        {
            get => _labels ?? (_labels = new InputMap<string>());
            set => _labels = value;
        }

        /// <summary>
        /// Name of the environment.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The ID of the project in which the resource belongs. If it is not provided, the provider project is used.
        /// </summary>
        [Input("project")]
        public Input<string>? Project { get; set; }

        /// <summary>
        /// The location or Compute Engine region for the environment.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        /// <summary>
        /// Configuration options for storage used by Composer environment.
        /// </summary>
        [Input("storageConfig")]
        public Input<Inputs.EnvironmentStorageConfigArgs>? StorageConfig { get; set; }

        public EnvironmentArgs()
        {
        }
        public static new EnvironmentArgs Empty => new EnvironmentArgs();
    }

    public sealed class EnvironmentState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Configuration parameters for this environment.
        /// </summary>
        [Input("config")]
        public Input<Inputs.EnvironmentConfigGetArgs>? Config { get; set; }

        [Input("effectiveLabels")]
        private InputMap<string>? _effectiveLabels;

        /// <summary>
        /// All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.
        /// </summary>
        public InputMap<string> EffectiveLabels
        {
            get => _effectiveLabels ?? (_effectiveLabels = new InputMap<string>());
            set
            {
                var emptySecret = Output.CreateSecret(ImmutableDictionary.Create<string, string>());
                _effectiveLabels = Output.All(value, emptySecret).Apply(v => v[0]);
            }
        }

        [Input("labels")]
        private InputMap<string>? _labels;

        /// <summary>
        /// User-defined labels for this environment. The labels map can contain no more than 64 entries. Entries of the labels map are UTF8 strings that comply with the following restrictions: Label keys must be between 1 and 63 characters long and must conform to the following regular expression: a-z?. Label values must be between 0 and 63 characters long and must conform to the regular expression (a-z?)?. No more than 64 labels can be associated with a given environment. Both keys and values must be &lt;= 128 bytes in size.
        /// 
        /// 				**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
        /// 				Please refer to the field 'effective_labels' for all of the labels present on the resource.
        /// </summary>
        public InputMap<string> Labels
        {
            get => _labels ?? (_labels = new InputMap<string>());
            set => _labels = value;
        }

        /// <summary>
        /// Name of the environment.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The ID of the project in which the resource belongs. If it is not provided, the provider project is used.
        /// </summary>
        [Input("project")]
        public Input<string>? Project { get; set; }

        [Input("pulumiLabels")]
        private InputMap<string>? _pulumiLabels;

        /// <summary>
        /// The combination of labels configured directly on the resource and default labels configured on the provider.
        /// </summary>
        public InputMap<string> PulumiLabels
        {
            get => _pulumiLabels ?? (_pulumiLabels = new InputMap<string>());
            set
            {
                var emptySecret = Output.CreateSecret(ImmutableDictionary.Create<string, string>());
                _pulumiLabels = Output.All(value, emptySecret).Apply(v => v[0]);
            }
        }

        /// <summary>
        /// The location or Compute Engine region for the environment.
        /// </summary>
        [Input("region")]
        public Input<string>? Region { get; set; }

        /// <summary>
        /// Configuration options for storage used by Composer environment.
        /// </summary>
        [Input("storageConfig")]
        public Input<Inputs.EnvironmentStorageConfigGetArgs>? StorageConfig { get; set; }

        public EnvironmentState()
        {
        }
        public static new EnvironmentState Empty => new EnvironmentState();
    }
}
