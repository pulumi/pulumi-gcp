// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Gcp.BigQuery.Inputs
{

    public sealed class TableExternalDataConfigurationGetArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Let BigQuery try to autodetect the schema
        /// and format of the table.
        /// </summary>
        [Input("autodetect", required: true)]
        public Input<bool> Autodetect { get; set; } = null!;

        /// <summary>
        /// Additional options if `SourceFormat` is set to
        /// "AVRO".  Structure is documented below.
        /// </summary>
        [Input("avroOptions")]
        public Input<Inputs.TableExternalDataConfigurationAvroOptionsGetArgs>? AvroOptions { get; set; }

        /// <summary>
        /// Additional properties to set if
        /// `SourceFormat` is set to "BIGTABLE". Structure is documented below.
        /// </summary>
        [Input("bigtableOptions")]
        public Input<Inputs.TableExternalDataConfigurationBigtableOptionsGetArgs>? BigtableOptions { get; set; }

        /// <summary>
        /// The compression type of the data source.
        /// Valid values are "NONE" or "GZIP".
        /// </summary>
        [Input("compression")]
        public Input<string>? Compression { get; set; }

        /// <summary>
        /// The connection specifying the credentials to be used to read
        /// external storage, such as Azure Blob, Cloud Storage, or S3. The `ConnectionId` can have
        /// the form `{{project}}.{{location}}.{{connection_id}}`
        /// or `projects/{{project}}/locations/{{location}}/connections/{{connection_id}}`.
        /// 
        /// ~&gt;**NOTE:** If you set `external_data_configuration.connection_id`, the
        /// table schema must be specified using the top-level `Schema` field
        /// documented above.
        /// </summary>
        [Input("connectionId")]
        public Input<string>? ConnectionId { get; set; }

        /// <summary>
        /// Additional properties to set if
        /// `SourceFormat` is set to "CSV". Structure is documented below.
        /// </summary>
        [Input("csvOptions")]
        public Input<Inputs.TableExternalDataConfigurationCsvOptionsGetArgs>? CsvOptions { get; set; }

        /// <summary>
        /// Specifies how source URIs are interpreted for constructing the file set to load.
        /// By default source URIs are expanded against the underlying storage.
        /// Other options include specifying manifest files. Only applicable to object storage systems. Docs
        /// </summary>
        [Input("fileSetSpecType")]
        public Input<string>? FileSetSpecType { get; set; }

        /// <summary>
        /// Additional options if
        /// `SourceFormat` is set to "GOOGLE_SHEETS". Structure is
        /// documented below.
        /// </summary>
        [Input("googleSheetsOptions")]
        public Input<Inputs.TableExternalDataConfigurationGoogleSheetsOptionsGetArgs>? GoogleSheetsOptions { get; set; }

        /// <summary>
        /// When set, configures hive partitioning
        /// support. Not all storage formats support hive partitioning -- requesting hive
        /// partitioning on an unsupported format will lead to an error, as will providing
        /// an invalid specification. Structure is documented below.
        /// </summary>
        [Input("hivePartitioningOptions")]
        public Input<Inputs.TableExternalDataConfigurationHivePartitioningOptionsGetArgs>? HivePartitioningOptions { get; set; }

        /// <summary>
        /// Indicates if BigQuery should
        /// allow extra values that are not represented in the table schema.
        /// If true, the extra values are ignored. If false, records with
        /// extra columns are treated as bad records, and if there are too
        /// many bad records, an invalid error is returned in the job result.
        /// The default value is false.
        /// </summary>
        [Input("ignoreUnknownValues")]
        public Input<bool>? IgnoreUnknownValues { get; set; }

        /// <summary>
        /// Used to indicate that a JSON variant, rather than normal JSON, is being used as the sourceFormat. This should only be used in combination with the `JSON` source format. Valid values are: `GEOJSON`.
        /// </summary>
        [Input("jsonExtension")]
        public Input<string>? JsonExtension { get; set; }

        /// <summary>
        /// Additional properties to set if
        /// `SourceFormat` is set to "JSON". Structure is documented below.
        /// </summary>
        [Input("jsonOptions")]
        public Input<Inputs.TableExternalDataConfigurationJsonOptionsGetArgs>? JsonOptions { get; set; }

        /// <summary>
        /// The maximum number of bad records that
        /// BigQuery can ignore when reading data.
        /// </summary>
        [Input("maxBadRecords")]
        public Input<int>? MaxBadRecords { get; set; }

        /// <summary>
        /// Metadata Cache Mode for the table. Set this to enable caching of metadata from external data source. Valid values are `AUTOMATIC` and `MANUAL`.
        /// </summary>
        [Input("metadataCacheMode")]
        public Input<string>? MetadataCacheMode { get; set; }

        /// <summary>
        /// Object Metadata is used to create Object Tables. Object Tables contain a listing of objects (with their metadata) found at the sourceUris. If `ObjectMetadata` is set, `SourceFormat` should be omitted.
        /// </summary>
        [Input("objectMetadata")]
        public Input<string>? ObjectMetadata { get; set; }

        /// <summary>
        /// Additional properties to set if
        /// `SourceFormat` is set to "PARQUET". Structure is documented below.
        /// </summary>
        [Input("parquetOptions")]
        public Input<Inputs.TableExternalDataConfigurationParquetOptionsGetArgs>? ParquetOptions { get; set; }

        /// <summary>
        /// When creating an external table, the user can provide a reference file with the table schema. This is enabled for the following formats: AVRO, PARQUET, ORC.
        /// </summary>
        [Input("referenceFileSchemaUri")]
        public Input<string>? ReferenceFileSchemaUri { get; set; }

        /// <summary>
        /// A JSON schema for the external table. Schema is required
        /// for CSV and JSON formats if autodetect is not on. Schema is disallowed
        /// for Google Cloud Bigtable, Cloud Datastore backups, Avro, Iceberg, ORC and Parquet formats.
        /// ~&gt;**NOTE:** Because this field expects a JSON string, any changes to the
        /// string will create a diff, even if the JSON itself hasn't changed.
        /// Furthermore drift for this field cannot not be detected because BigQuery
        /// only uses this schema to compute the effective schema for the table, therefore
        /// any changes on the configured value will force the table to be recreated.
        /// This schema is effectively only applied when creating a table from an external
        /// datasource, after creation the computed schema will be stored in
        /// `google_bigquery_table.schema`
        /// 
        /// ~&gt;**NOTE:** If you set `external_data_configuration.connection_id`, the
        /// table schema must be specified using the top-level `Schema` field
        /// documented above.
        /// </summary>
        [Input("schema")]
        public Input<string>? Schema { get; set; }

        /// <summary>
        /// The data format. Please see sourceFormat under
        /// [ExternalDataConfiguration](https://cloud.google.com/bigquery/docs/reference/rest/v2/tables#externaldataconfiguration)
        /// in Bigquery's public API documentation for supported formats. To use "GOOGLE_SHEETS"
        /// the `Scopes` must include "https://www.googleapis.com/auth/drive.readonly".
        /// </summary>
        [Input("sourceFormat")]
        public Input<string>? SourceFormat { get; set; }

        [Input("sourceUris", required: true)]
        private InputList<string>? _sourceUris;

        /// <summary>
        /// A list of the fully-qualified URIs that point to
        /// your data in Google Cloud.
        /// </summary>
        public InputList<string> SourceUris
        {
            get => _sourceUris ?? (_sourceUris = new InputList<string>());
            set => _sourceUris = value;
        }

        public TableExternalDataConfigurationGetArgs()
        {
        }
        public static new TableExternalDataConfigurationGetArgs Empty => new TableExternalDataConfigurationGetArgs();
    }
}
