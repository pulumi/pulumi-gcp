// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Gcp.BackupDisasterRecovery
{
    /// <summary>
    /// ## Example Usage
    /// 
    /// ### Backup Dr Restore Workload Compute Instance Basic
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var restoreComputeBasic = new Gcp.BackupDisasterRecovery.RestoreWorkload("restore_compute_basic", new()
    ///     {
    ///         Location = "us-central1",
    ///         BackupVaultId = "backup-vault",
    ///         DataSourceId = "data-source",
    ///         BackupId = "backup",
    ///         Name = "projects/my-project/locations/us-central1/backups/my-backup",
    ///         ComputeInstanceTargetEnvironment = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceTargetEnvironmentArgs
    ///         {
    ///             Project = "my-project-name",
    ///             Zone = "us-central1-a",
    ///         },
    ///         ComputeInstanceRestoreProperties = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesArgs
    ///         {
    ///             Name = "restored-instance",
    ///             MachineType = "e2-medium",
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// ### Backup Dr Restore Workload Compute Instance Full
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var restoreComputeFull = new Gcp.BackupDisasterRecovery.RestoreWorkload("restore_compute_full", new()
    ///     {
    ///         Location = "us-central1",
    ///         BackupVaultId = "backup-vault",
    ///         DataSourceId = "data-source",
    ///         BackupId = "backup",
    ///         Name = "projects/my-project/locations/us-central1/backups/my-backup",
    ///         ComputeInstanceTargetEnvironment = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceTargetEnvironmentArgs
    ///         {
    ///             Project = "my-project-name",
    ///             Zone = "us-central1-a",
    ///         },
    ///         ComputeInstanceRestoreProperties = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesArgs
    ///         {
    ///             Name = "restored-instance-full",
    ///             MachineType = "e2-medium",
    ///             Description = "Restored compute instance with advanced configuration",
    ///             CanIpForward = true,
    ///             DeletionProtection = false,
    ///             Labels = 
    ///             {
    ///                 { "environment", "production" },
    ///                 { "restored", "true" },
    ///                 { "team", "infrastructure" },
    ///             },
    ///             Tags = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesTagsArgs
    ///             {
    ///                 Items = new[]
    ///                 {
    ///                     "web",
    ///                     "https-server",
    ///                     "restored",
    ///                 },
    ///             },
    ///             NetworkInterfaces = new[]
    ///             {
    ///                 new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesNetworkInterfaceArgs
    ///                 {
    ///                     Network = "default",
    ///                     Subnetwork = "projects/my-project-name/regions/us-central1/subnetworks/default",
    ///                     AccessConfigs = new[]
    ///                     {
    ///                         new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesNetworkInterfaceAccessConfigArgs
    ///                         {
    ///                             Name = "External NAT",
    ///                             NetworkTier = "PREMIUM",
    ///                         },
    ///                     },
    ///                 },
    ///             },
    ///             Scheduling = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesSchedulingArgs
    ///             {
    ///                 AutomaticRestart = true,
    ///                 OnHostMaintenance = "MIGRATE",
    ///                 Preemptible = false,
    ///                 ProvisioningModel = "STANDARD",
    ///             },
    ///             ServiceAccounts = new[]
    ///             {
    ///                 new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesServiceAccountArgs
    ///                 {
    ///                     Email = "default",
    ///                     Scopes = new[]
    ///                     {
    ///                         "https://www.googleapis.com/auth/cloud-platform",
    ///                         "https://www.googleapis.com/auth/compute",
    ///                     },
    ///                 },
    ///             },
    ///             ShieldedInstanceConfig = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesShieldedInstanceConfigArgs
    ///             {
    ///                 EnableSecureBoot = true,
    ///                 EnableVtpm = true,
    ///                 EnableIntegrityMonitoring = true,
    ///             },
    ///             AdvancedMachineFeatures = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesAdvancedMachineFeaturesArgs
    ///             {
    ///                 EnableNestedVirtualization = false,
    ///                 ThreadsPerCore = 1,
    ///             },
    ///             Metadata = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesMetadataArgs
    ///             {
    ///                 Items = new[]
    ///                 {
    ///                     new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesMetadataItemArgs
    ///                     {
    ///                         Key = "startup-script",
    ///                         Value = @"#!/bin/bash
    /// echo 'Instance restored' &gt; /tmp/restored.txt",
    ///                     },
    ///                     new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadComputeInstanceRestorePropertiesMetadataItemArgs
    ///                     {
    ///                         Key = "enable-oslogin",
    ///                         Value = "TRUE",
    ///                     },
    ///                 },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// ### Backup Dr Restore Workload Disk Basic
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var restoreDiskBasic = new Gcp.BackupDisasterRecovery.RestoreWorkload("restore_disk_basic", new()
    ///     {
    ///         Location = "us-central1",
    ///         BackupVaultId = "backup-vault",
    ///         DataSourceId = "data-source",
    ///         BackupId = "backup",
    ///         Name = "projects/my-project/locations/us-central1/backups/my-backup",
    ///         DiskTargetEnvironment = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadDiskTargetEnvironmentArgs
    ///         {
    ///             Project = "my-project-name",
    ///             Zone = "us-central1-a",
    ///         },
    ///         DiskRestoreProperties = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadDiskRestorePropertiesArgs
    ///         {
    ///             Name = "restored-disk",
    ///             SizeGb = 100,
    ///             Type = "pd-standard",
    ///             Description = "Restored persistent disk from backup",
    ///             Labels = 
    ///             {
    ///                 { "environment", "production" },
    ///                 { "restored", "true" },
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// ### Backup Dr Restore Workload Regional Disk
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var restoreRegionalDisk = new Gcp.BackupDisasterRecovery.RestoreWorkload("restore_regional_disk", new()
    ///     {
    ///         Location = "us-central1",
    ///         BackupVaultId = "backup-vault",
    ///         DataSourceId = "data-source",
    ///         BackupId = "backup",
    ///         Name = "projects/my-project/locations/us-central1/backups/my-backup",
    ///         RegionDiskTargetEnvironment = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadRegionDiskTargetEnvironmentArgs
    ///         {
    ///             Project = "my-project-name",
    ///             Region = "us-central1",
    ///             ReplicaZones = new[]
    ///             {
    ///                 "us-central1-a",
    ///                 "us-central1-b",
    ///             },
    ///         },
    ///         DiskRestoreProperties = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadDiskRestorePropertiesArgs
    ///         {
    ///             Name = "restored-regional-disk",
    ///             SizeGb = 200,
    ///             Type = "pd-balanced",
    ///             Description = "Restored regional persistent disk",
    ///             Labels = 
    ///             {
    ///                 { "type", "regional" },
    ///                 { "environment", "production" },
    ///             },
    ///             ProvisionedIops = 3000,
    ///             ProvisionedThroughput = 140,
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// ### Backup Dr Restore Workload Without Delete
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var restoreWithoutDelete = new Gcp.BackupDisasterRecovery.RestoreWorkload("restore_without_delete", new()
    ///     {
    ///         Location = "us-central1",
    ///         BackupVaultId = "backup-vault",
    ///         DataSourceId = "data-source",
    ///         BackupId = "backup",
    ///         Name = "projects/my-project/locations/us-central1/backups/my-backup",
    ///         DeleteRestoredInstance = false,
    ///         DiskTargetEnvironment = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadDiskTargetEnvironmentArgs
    ///         {
    ///             Project = "my-project-name",
    ///             Zone = "us-central1-a",
    ///         },
    ///         DiskRestoreProperties = new Gcp.BackupDisasterRecovery.Inputs.RestoreWorkloadDiskRestorePropertiesArgs
    ///         {
    ///             Name = "persistent-disk",
    ///             SizeGb = 50,
    ///             Type = "pd-standard",
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// RestoreWorkload can be imported using any of these accepted formats:
    /// 
    /// * `/{{name}}`
    /// 
    /// * `{{name}}`
    /// 
    /// When using the `pulumi import` command, RestoreWorkload can be imported using one of the formats above. For example:
    /// 
    /// ```sh
    /// $ pulumi import gcp:backupdisasterrecovery/restoreWorkload:RestoreWorkload default /{{name}}
    /// ```
    /// 
    /// ```sh
    /// $ pulumi import gcp:backupdisasterrecovery/restoreWorkload:RestoreWorkload default {{name}}
    /// ```
    /// </summary>
    [GcpResourceType("gcp:backupdisasterrecovery/restoreWorkload:RestoreWorkload")]
    public partial class RestoreWorkload : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Required. The ID of the backup to restore from.
        /// </summary>
        [Output("backupId")]
        public Output<string> BackupId { get; private set; } = null!;

        /// <summary>
        /// Required. The ID of the backup vault.
        /// </summary>
        [Output("backupVaultId")]
        public Output<string> BackupVaultId { get; private set; } = null!;

        /// <summary>
        /// Optional. A field mask used to clear server-side default values during restore.
        /// </summary>
        [Output("clearOverridesFieldMask")]
        public Output<string?> ClearOverridesFieldMask { get; private set; } = null!;

        /// <summary>
        /// Optional. Compute Engine instance properties to be overridden during restore.
        /// Structure is documented below.
        /// </summary>
        [Output("computeInstanceRestoreProperties")]
        public Output<Outputs.RestoreWorkloadComputeInstanceRestoreProperties?> ComputeInstanceRestoreProperties { get; private set; } = null!;

        /// <summary>
        /// Optional. The destination environment for GCE VM restoration.
        /// Structure is documented below.
        /// </summary>
        [Output("computeInstanceTargetEnvironment")]
        public Output<Outputs.RestoreWorkloadComputeInstanceTargetEnvironment?> ComputeInstanceTargetEnvironment { get; private set; } = null!;

        /// <summary>
        /// Required. The ID of the data source.
        /// </summary>
        [Output("dataSourceId")]
        public Output<string> DataSourceId { get; private set; } = null!;

        [Output("deleteRestoredInstance")]
        public Output<bool?> DeleteRestoredInstance { get; private set; } = null!;

        /// <summary>
        /// Optional. Disk properties to be overridden during restore.
        /// Structure is documented below.
        /// </summary>
        [Output("diskRestoreProperties")]
        public Output<Outputs.RestoreWorkloadDiskRestoreProperties?> DiskRestoreProperties { get; private set; } = null!;

        /// <summary>
        /// Optional. The destination environment for zonal disk restoration.
        /// Structure is documented below.
        /// </summary>
        [Output("diskTargetEnvironment")]
        public Output<Outputs.RestoreWorkloadDiskTargetEnvironment?> DiskTargetEnvironment { get; private set; } = null!;

        /// <summary>
        /// Required. The location for the backup vault.
        /// </summary>
        [Output("location")]
        public Output<string> Location { get; private set; } = null!;

        /// <summary>
        /// Required. The resource name of the backup instance.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// Optional. The destination environment for regional disk restoration.
        /// Structure is documented below.
        /// </summary>
        [Output("regionDiskTargetEnvironment")]
        public Output<Outputs.RestoreWorkloadRegionDiskTargetEnvironment?> RegionDiskTargetEnvironment { get; private set; } = null!;

        /// <summary>
        /// Optional. An optional request ID to identify requests. Specify a unique request ID
        /// so that if you must retry your request, the server will know to ignore
        /// the request if it has already been completed.
        /// </summary>
        [Output("requestId")]
        public Output<string?> RequestId { get; private set; } = null!;

        /// <summary>
        /// Output only. Details of the target resource created/modified as part of restore.
        /// Structure is documented below.
        /// </summary>
        [Output("targetResources")]
        public Output<ImmutableArray<Outputs.RestoreWorkloadTargetResource>> TargetResources { get; private set; } = null!;


        /// <summary>
        /// Create a RestoreWorkload resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public RestoreWorkload(string name, RestoreWorkloadArgs args, CustomResourceOptions? options = null)
            : base("gcp:backupdisasterrecovery/restoreWorkload:RestoreWorkload", name, args ?? new RestoreWorkloadArgs(), MakeResourceOptions(options, ""))
        {
        }

        private RestoreWorkload(string name, Input<string> id, RestoreWorkloadState? state = null, CustomResourceOptions? options = null)
            : base("gcp:backupdisasterrecovery/restoreWorkload:RestoreWorkload", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing RestoreWorkload resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static RestoreWorkload Get(string name, Input<string> id, RestoreWorkloadState? state = null, CustomResourceOptions? options = null)
        {
            return new RestoreWorkload(name, id, state, options);
        }
    }

    public sealed class RestoreWorkloadArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Required. The ID of the backup to restore from.
        /// </summary>
        [Input("backupId", required: true)]
        public Input<string> BackupId { get; set; } = null!;

        /// <summary>
        /// Required. The ID of the backup vault.
        /// </summary>
        [Input("backupVaultId", required: true)]
        public Input<string> BackupVaultId { get; set; } = null!;

        /// <summary>
        /// Optional. A field mask used to clear server-side default values during restore.
        /// </summary>
        [Input("clearOverridesFieldMask")]
        public Input<string>? ClearOverridesFieldMask { get; set; }

        /// <summary>
        /// Optional. Compute Engine instance properties to be overridden during restore.
        /// Structure is documented below.
        /// </summary>
        [Input("computeInstanceRestoreProperties")]
        public Input<Inputs.RestoreWorkloadComputeInstanceRestorePropertiesArgs>? ComputeInstanceRestoreProperties { get; set; }

        /// <summary>
        /// Optional. The destination environment for GCE VM restoration.
        /// Structure is documented below.
        /// </summary>
        [Input("computeInstanceTargetEnvironment")]
        public Input<Inputs.RestoreWorkloadComputeInstanceTargetEnvironmentArgs>? ComputeInstanceTargetEnvironment { get; set; }

        /// <summary>
        /// Required. The ID of the data source.
        /// </summary>
        [Input("dataSourceId", required: true)]
        public Input<string> DataSourceId { get; set; } = null!;

        [Input("deleteRestoredInstance")]
        public Input<bool>? DeleteRestoredInstance { get; set; }

        /// <summary>
        /// Optional. Disk properties to be overridden during restore.
        /// Structure is documented below.
        /// </summary>
        [Input("diskRestoreProperties")]
        public Input<Inputs.RestoreWorkloadDiskRestorePropertiesArgs>? DiskRestoreProperties { get; set; }

        /// <summary>
        /// Optional. The destination environment for zonal disk restoration.
        /// Structure is documented below.
        /// </summary>
        [Input("diskTargetEnvironment")]
        public Input<Inputs.RestoreWorkloadDiskTargetEnvironmentArgs>? DiskTargetEnvironment { get; set; }

        /// <summary>
        /// Required. The location for the backup vault.
        /// </summary>
        [Input("location", required: true)]
        public Input<string> Location { get; set; } = null!;

        /// <summary>
        /// Required. The resource name of the backup instance.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// Optional. The destination environment for regional disk restoration.
        /// Structure is documented below.
        /// </summary>
        [Input("regionDiskTargetEnvironment")]
        public Input<Inputs.RestoreWorkloadRegionDiskTargetEnvironmentArgs>? RegionDiskTargetEnvironment { get; set; }

        /// <summary>
        /// Optional. An optional request ID to identify requests. Specify a unique request ID
        /// so that if you must retry your request, the server will know to ignore
        /// the request if it has already been completed.
        /// </summary>
        [Input("requestId")]
        public Input<string>? RequestId { get; set; }

        public RestoreWorkloadArgs()
        {
        }
        public static new RestoreWorkloadArgs Empty => new RestoreWorkloadArgs();
    }

    public sealed class RestoreWorkloadState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Required. The ID of the backup to restore from.
        /// </summary>
        [Input("backupId")]
        public Input<string>? BackupId { get; set; }

        /// <summary>
        /// Required. The ID of the backup vault.
        /// </summary>
        [Input("backupVaultId")]
        public Input<string>? BackupVaultId { get; set; }

        /// <summary>
        /// Optional. A field mask used to clear server-side default values during restore.
        /// </summary>
        [Input("clearOverridesFieldMask")]
        public Input<string>? ClearOverridesFieldMask { get; set; }

        /// <summary>
        /// Optional. Compute Engine instance properties to be overridden during restore.
        /// Structure is documented below.
        /// </summary>
        [Input("computeInstanceRestoreProperties")]
        public Input<Inputs.RestoreWorkloadComputeInstanceRestorePropertiesGetArgs>? ComputeInstanceRestoreProperties { get; set; }

        /// <summary>
        /// Optional. The destination environment for GCE VM restoration.
        /// Structure is documented below.
        /// </summary>
        [Input("computeInstanceTargetEnvironment")]
        public Input<Inputs.RestoreWorkloadComputeInstanceTargetEnvironmentGetArgs>? ComputeInstanceTargetEnvironment { get; set; }

        /// <summary>
        /// Required. The ID of the data source.
        /// </summary>
        [Input("dataSourceId")]
        public Input<string>? DataSourceId { get; set; }

        [Input("deleteRestoredInstance")]
        public Input<bool>? DeleteRestoredInstance { get; set; }

        /// <summary>
        /// Optional. Disk properties to be overridden during restore.
        /// Structure is documented below.
        /// </summary>
        [Input("diskRestoreProperties")]
        public Input<Inputs.RestoreWorkloadDiskRestorePropertiesGetArgs>? DiskRestoreProperties { get; set; }

        /// <summary>
        /// Optional. The destination environment for zonal disk restoration.
        /// Structure is documented below.
        /// </summary>
        [Input("diskTargetEnvironment")]
        public Input<Inputs.RestoreWorkloadDiskTargetEnvironmentGetArgs>? DiskTargetEnvironment { get; set; }

        /// <summary>
        /// Required. The location for the backup vault.
        /// </summary>
        [Input("location")]
        public Input<string>? Location { get; set; }

        /// <summary>
        /// Required. The resource name of the backup instance.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// Optional. The destination environment for regional disk restoration.
        /// Structure is documented below.
        /// </summary>
        [Input("regionDiskTargetEnvironment")]
        public Input<Inputs.RestoreWorkloadRegionDiskTargetEnvironmentGetArgs>? RegionDiskTargetEnvironment { get; set; }

        /// <summary>
        /// Optional. An optional request ID to identify requests. Specify a unique request ID
        /// so that if you must retry your request, the server will know to ignore
        /// the request if it has already been completed.
        /// </summary>
        [Input("requestId")]
        public Input<string>? RequestId { get; set; }

        [Input("targetResources")]
        private InputList<Inputs.RestoreWorkloadTargetResourceGetArgs>? _targetResources;

        /// <summary>
        /// Output only. Details of the target resource created/modified as part of restore.
        /// Structure is documented below.
        /// </summary>
        public InputList<Inputs.RestoreWorkloadTargetResourceGetArgs> TargetResources
        {
            get => _targetResources ?? (_targetResources = new InputList<Inputs.RestoreWorkloadTargetResourceGetArgs>());
            set => _targetResources = value;
        }

        public RestoreWorkloadState()
        {
        }
        public static new RestoreWorkloadState Empty => new RestoreWorkloadState();
    }
}
