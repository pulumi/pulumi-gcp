// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Gcp.BigTable
{
    /// <summary>
    /// Creates a Google Cloud Bigtable table inside an instance. For more information see
    /// [the official documentation](https://cloud.google.com/bigtable/) and
    /// [API](https://cloud.google.com/bigtable/docs/go/reference).
    /// 
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Gcp = Pulumi.Gcp;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var instance = new Gcp.BigTable.Instance("instance", new()
    ///     {
    ///         Name = "tf-instance",
    ///         Clusters = new[]
    ///         {
    ///             new Gcp.BigTable.Inputs.InstanceClusterArgs
    ///             {
    ///                 ClusterId = "tf-instance-cluster",
    ///                 Zone = "us-central1-b",
    ///                 NumNodes = 3,
    ///                 StorageType = "HDD",
    ///             },
    ///         },
    ///     });
    /// 
    ///     var table = new Gcp.BigTable.Table("table", new()
    ///     {
    ///         Name = "tf-table",
    ///         InstanceName = instance.Name,
    ///         SplitKeys = new[]
    ///         {
    ///             "a",
    ///             "b",
    ///             "c",
    ///         },
    ///         ColumnFamilies = new[]
    ///         {
    ///             new Gcp.BigTable.Inputs.TableColumnFamilyArgs
    ///             {
    ///                 Family = "family-first",
    ///             },
    ///             new Gcp.BigTable.Inputs.TableColumnFamilyArgs
    ///             {
    ///                 Family = "family-second",
    ///                 Type = "intsum",
    ///             },
    ///             new Gcp.BigTable.Inputs.TableColumnFamilyArgs
    ///             {
    ///                 Family = "family-third",
    ///                 Type = @"        {
    /// 					""aggregateType"": {
    /// 						""max"": {},
    /// 						""inputType"": {
    /// 							""int64Type"": {
    /// 								""encoding"": {
    /// 									""bigEndianBytes"": {}
    /// 								}
    /// 							}
    /// 						}
    /// 					}
    /// 				}
    /// ",
    ///             },
    ///         },
    ///         ChangeStreamRetention = "24h0m0s",
    ///         AutomatedBackupPolicy = new Gcp.BigTable.Inputs.TableAutomatedBackupPolicyArgs
    ///         {
    ///             RetentionPeriod = "72h0m0s",
    ///             Frequency = "24h0m0s",
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// -&gt; **Fields affected by import** The following fields can't be read and will show diffs if set in config when imported: `split_keys`
    /// 
    /// Bigtable Tables can be imported using any of these accepted formats:
    /// 
    /// * `projects/{{project}}/instances/{{instance_name}}/tables/{{name}}`
    /// 
    /// * `{{project}}/{{instance_name}}/{{name}}`
    /// 
    /// * `{{instance_name}}/{{name}}`
    /// 
    /// When using the `pulumi import` command, Bigtable Tables can be imported using one of the formats above. For example:
    /// 
    /// ```sh
    /// $ pulumi import gcp:bigtable/table:Table default projects/{{project}}/instances/{{instance_name}}/tables/{{name}}
    /// ```
    /// 
    /// ```sh
    /// $ pulumi import gcp:bigtable/table:Table default {{project}}/{{instance_name}}/{{name}}
    /// ```
    /// 
    /// ```sh
    /// $ pulumi import gcp:bigtable/table:Table default {{instance_name}}/{{name}}
    /// ```
    /// </summary>
    [GcpResourceType("gcp:bigtable/table:Table")]
    public partial class Table : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Defines an automated backup policy for a table, specified by Retention Period and Frequency. To _create_ a table with automated backup disabled, either omit the automated_backup_policy argument, or set both Retention Period and Frequency properties to "0". To disable automated backup on an _existing_ table that has automated backup enabled, set _both_ Retention Period and Frequency properties to "0". When updating an existing table, to modify the Retention Period or Frequency properties of the resource's automated backup policy, set the respective property to a non-zero value. If the automated_backup_policy argument is not provided in the configuration on update, the resource's automated backup policy will _not_ be modified.
        /// 
        /// -----
        /// </summary>
        [Output("automatedBackupPolicy")]
        public Output<Outputs.TableAutomatedBackupPolicy> AutomatedBackupPolicy { get; private set; } = null!;

        /// <summary>
        /// Duration to retain change stream data for the table. Set to 0 to disable. Must be between 1 and 7 days.
        /// </summary>
        [Output("changeStreamRetention")]
        public Output<string> ChangeStreamRetention { get; private set; } = null!;

        /// <summary>
        /// A group of columns within a table which share a common configuration. This can be specified multiple times. Structure is documented below.
        /// </summary>
        [Output("columnFamilies")]
        public Output<ImmutableArray<Outputs.TableColumnFamily>> ColumnFamilies { get; private set; } = null!;

        /// <summary>
        /// A field to make the table protected against data loss i.e. when set to PROTECTED, deleting the table, the column families in the table, and the instance containing the table would be prohibited. If not provided, deletion protection will be set to UNPROTECTED.
        /// </summary>
        [Output("deletionProtection")]
        public Output<string> DeletionProtection { get; private set; } = null!;

        /// <summary>
        /// The name of the Bigtable instance.
        /// </summary>
        [Output("instanceName")]
        public Output<string> InstanceName { get; private set; } = null!;

        /// <summary>
        /// The name of the table. Must be 1-50 characters and must only contain hyphens, underscores, periods, letters and numbers.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The ID of the project in which the resource belongs. If it
        /// is not provided, the provider project is used.
        /// </summary>
        [Output("project")]
        public Output<string> Project { get; private set; } = null!;

        /// <summary>
        /// A list of predefined keys to split the table on.
        /// !&gt; **Warning:** Modifying the `split_keys` of an existing table will cause the provider
        /// to delete/recreate the entire `gcp.bigtable.Table` resource.
        /// </summary>
        [Output("splitKeys")]
        public Output<ImmutableArray<string>> SplitKeys { get; private set; } = null!;


        /// <summary>
        /// Create a Table resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Table(string name, TableArgs args, CustomResourceOptions? options = null)
            : base("gcp:bigtable/table:Table", name, args ?? new TableArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Table(string name, Input<string> id, TableState? state = null, CustomResourceOptions? options = null)
            : base("gcp:bigtable/table:Table", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Table resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Table Get(string name, Input<string> id, TableState? state = null, CustomResourceOptions? options = null)
        {
            return new Table(name, id, state, options);
        }
    }

    public sealed class TableArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Defines an automated backup policy for a table, specified by Retention Period and Frequency. To _create_ a table with automated backup disabled, either omit the automated_backup_policy argument, or set both Retention Period and Frequency properties to "0". To disable automated backup on an _existing_ table that has automated backup enabled, set _both_ Retention Period and Frequency properties to "0". When updating an existing table, to modify the Retention Period or Frequency properties of the resource's automated backup policy, set the respective property to a non-zero value. If the automated_backup_policy argument is not provided in the configuration on update, the resource's automated backup policy will _not_ be modified.
        /// 
        /// -----
        /// </summary>
        [Input("automatedBackupPolicy")]
        public Input<Inputs.TableAutomatedBackupPolicyArgs>? AutomatedBackupPolicy { get; set; }

        /// <summary>
        /// Duration to retain change stream data for the table. Set to 0 to disable. Must be between 1 and 7 days.
        /// </summary>
        [Input("changeStreamRetention")]
        public Input<string>? ChangeStreamRetention { get; set; }

        [Input("columnFamilies")]
        private InputList<Inputs.TableColumnFamilyArgs>? _columnFamilies;

        /// <summary>
        /// A group of columns within a table which share a common configuration. This can be specified multiple times. Structure is documented below.
        /// </summary>
        public InputList<Inputs.TableColumnFamilyArgs> ColumnFamilies
        {
            get => _columnFamilies ?? (_columnFamilies = new InputList<Inputs.TableColumnFamilyArgs>());
            set => _columnFamilies = value;
        }

        /// <summary>
        /// A field to make the table protected against data loss i.e. when set to PROTECTED, deleting the table, the column families in the table, and the instance containing the table would be prohibited. If not provided, deletion protection will be set to UNPROTECTED.
        /// </summary>
        [Input("deletionProtection")]
        public Input<string>? DeletionProtection { get; set; }

        /// <summary>
        /// The name of the Bigtable instance.
        /// </summary>
        [Input("instanceName", required: true)]
        public Input<string> InstanceName { get; set; } = null!;

        /// <summary>
        /// The name of the table. Must be 1-50 characters and must only contain hyphens, underscores, periods, letters and numbers.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The ID of the project in which the resource belongs. If it
        /// is not provided, the provider project is used.
        /// </summary>
        [Input("project")]
        public Input<string>? Project { get; set; }

        [Input("splitKeys")]
        private InputList<string>? _splitKeys;

        /// <summary>
        /// A list of predefined keys to split the table on.
        /// !&gt; **Warning:** Modifying the `split_keys` of an existing table will cause the provider
        /// to delete/recreate the entire `gcp.bigtable.Table` resource.
        /// </summary>
        public InputList<string> SplitKeys
        {
            get => _splitKeys ?? (_splitKeys = new InputList<string>());
            set => _splitKeys = value;
        }

        public TableArgs()
        {
        }
        public static new TableArgs Empty => new TableArgs();
    }

    public sealed class TableState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Defines an automated backup policy for a table, specified by Retention Period and Frequency. To _create_ a table with automated backup disabled, either omit the automated_backup_policy argument, or set both Retention Period and Frequency properties to "0". To disable automated backup on an _existing_ table that has automated backup enabled, set _both_ Retention Period and Frequency properties to "0". When updating an existing table, to modify the Retention Period or Frequency properties of the resource's automated backup policy, set the respective property to a non-zero value. If the automated_backup_policy argument is not provided in the configuration on update, the resource's automated backup policy will _not_ be modified.
        /// 
        /// -----
        /// </summary>
        [Input("automatedBackupPolicy")]
        public Input<Inputs.TableAutomatedBackupPolicyGetArgs>? AutomatedBackupPolicy { get; set; }

        /// <summary>
        /// Duration to retain change stream data for the table. Set to 0 to disable. Must be between 1 and 7 days.
        /// </summary>
        [Input("changeStreamRetention")]
        public Input<string>? ChangeStreamRetention { get; set; }

        [Input("columnFamilies")]
        private InputList<Inputs.TableColumnFamilyGetArgs>? _columnFamilies;

        /// <summary>
        /// A group of columns within a table which share a common configuration. This can be specified multiple times. Structure is documented below.
        /// </summary>
        public InputList<Inputs.TableColumnFamilyGetArgs> ColumnFamilies
        {
            get => _columnFamilies ?? (_columnFamilies = new InputList<Inputs.TableColumnFamilyGetArgs>());
            set => _columnFamilies = value;
        }

        /// <summary>
        /// A field to make the table protected against data loss i.e. when set to PROTECTED, deleting the table, the column families in the table, and the instance containing the table would be prohibited. If not provided, deletion protection will be set to UNPROTECTED.
        /// </summary>
        [Input("deletionProtection")]
        public Input<string>? DeletionProtection { get; set; }

        /// <summary>
        /// The name of the Bigtable instance.
        /// </summary>
        [Input("instanceName")]
        public Input<string>? InstanceName { get; set; }

        /// <summary>
        /// The name of the table. Must be 1-50 characters and must only contain hyphens, underscores, periods, letters and numbers.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// The ID of the project in which the resource belongs. If it
        /// is not provided, the provider project is used.
        /// </summary>
        [Input("project")]
        public Input<string>? Project { get; set; }

        [Input("splitKeys")]
        private InputList<string>? _splitKeys;

        /// <summary>
        /// A list of predefined keys to split the table on.
        /// !&gt; **Warning:** Modifying the `split_keys` of an existing table will cause the provider
        /// to delete/recreate the entire `gcp.bigtable.Table` resource.
        /// </summary>
        public InputList<string> SplitKeys
        {
            get => _splitKeys ?? (_splitKeys = new InputList<string>());
            set => _splitKeys = value;
        }

        public TableState()
        {
        }
        public static new TableState Empty => new TableState();
    }
}
