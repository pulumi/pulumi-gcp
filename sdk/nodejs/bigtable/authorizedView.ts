// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * Creates a Google Cloud Bigtable authorized view inside a table. For more information see
 * [the official documentation](https://cloud.google.com/bigtable/) and
 * [API](https://cloud.google.com/bigtable/docs/go/reference).
 *
 * > **Note:** It is strongly recommended to set `lifecycle { preventDestroy = true }`
 * on authorized views in order to prevent accidental data loss. See
 * Terraform docs
 * for more information on lifecycle parameters.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as gcp from "@pulumi/gcp";
 * import * as std from "@pulumi/std";
 *
 * const instance = new gcp.bigtable.Instance("instance", {
 *     name: "tf-instance",
 *     clusters: [{
 *         clusterId: "tf-instance-cluster",
 *         zone: "us-central1-b",
 *         numNodes: 3,
 *         storageType: "HDD",
 *     }],
 * });
 * const table = new gcp.bigtable.Table("table", {
 *     name: "tf-table",
 *     instanceName: instance.name,
 *     splitKeys: [
 *         "a",
 *         "b",
 *         "c",
 *     ],
 *     columnFamilies: [
 *         {
 *             family: "family-first",
 *         },
 *         {
 *             family: "family-second",
 *         },
 *     ],
 *     changeStreamRetention: "24h0m0s",
 * });
 * const authorizedView = new gcp.bigtable.AuthorizedView("authorized_view", {
 *     name: "tf-authorized-view",
 *     instanceName: instance.name,
 *     tableName: table.name,
 *     subsetView: {
 *         rowPrefixes: [std.base64encode({
 *             input: "prefix#",
 *         }).then(invoke => invoke.result)],
 *         familySubsets: [
 *             {
 *                 familyName: "family-first",
 *                 qualifiers: [
 *                     std.base64encode({
 *                         input: "qualifier",
 *                     }).then(invoke => invoke.result),
 *                     std.base64encode({
 *                         input: "qualifier-second",
 *                     }).then(invoke => invoke.result),
 *                 ],
 *             },
 *             {
 *                 familyName: "family-second",
 *                 qualifierPrefixes: [""],
 *             },
 *         ],
 *     },
 * });
 * ```
 *
 * ## Import
 *
 * Bigtable Authorized Views can be imported using any of these accepted formats:
 *
 * * `projects/{{project}}/instances/{{instance_name}}/tables/{{table_name}}/authorizedViews/{{name}}`
 * * `{{project}}/{{instance_name}}/{{table_name}}/{{name}}`
 * * `{{instance_name}}/{{table_name}}/{{name}}`
 *
 * When using the `pulumi import` command, Bigtable Authorized Views can be imported using one of the formats above. For example:
 *
 * ```sh
 * $ pulumi import gcp:bigtable/authorizedView:AuthorizedView default projects/{{project}}/instances/{{instance_name}}/tables/{{table_name}}/authorizedViews/{{name}}
 * $ pulumi import gcp:bigtable/authorizedView:AuthorizedView default {{project}}/{{instance_name}}/{{table_name}}/{{name}}
 * $ pulumi import gcp:bigtable/authorizedView:AuthorizedView default {{instance_name}}/{{table_name}}/{{name}}
 * ```
 */
export class AuthorizedView extends pulumi.CustomResource {
    /**
     * Get an existing AuthorizedView resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: AuthorizedViewState, opts?: pulumi.CustomResourceOptions): AuthorizedView {
        return new AuthorizedView(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'gcp:bigtable/authorizedView:AuthorizedView';

    /**
     * Returns true if the given object is an instance of AuthorizedView.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is AuthorizedView {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === AuthorizedView.__pulumiType;
    }

    /**
     * A field to make the table protected against data loss i.e. when set to PROTECTED, deleting the table, the column families in the table, and the instance containing the table would be prohibited.
     * If not provided, currently deletion protection will be set to UNPROTECTED as it is the API default value. Note this field configs the deletion protection provided by the API in the backend, and should not be confused with Terraform-side deletion protection.
     */
    declare public readonly deletionProtection: pulumi.Output<string>;
    /**
     * The name of the Bigtable instance in which the authorized view belongs.
     */
    declare public readonly instanceName: pulumi.Output<string>;
    /**
     * The name of the authorized view. Must be 1-50 characters and must only contain hyphens, underscores, periods, letters and numbers.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * The ID of the project in which the resource belongs. If it
     * is not provided, the provider project is used.
     */
    declare public readonly project: pulumi.Output<string>;
    /**
     * An AuthorizedView permitting access to an explicit subset of a Table. Structure is documented below.
     *
     * -----
     */
    declare public readonly subsetView: pulumi.Output<outputs.bigtable.AuthorizedViewSubsetView | undefined>;
    /**
     * The name of the Bigtable table in which the authorized view belongs.
     */
    declare public readonly tableName: pulumi.Output<string>;

    /**
     * Create a AuthorizedView resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: AuthorizedViewArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: AuthorizedViewArgs | AuthorizedViewState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as AuthorizedViewState | undefined;
            resourceInputs["deletionProtection"] = state?.deletionProtection;
            resourceInputs["instanceName"] = state?.instanceName;
            resourceInputs["name"] = state?.name;
            resourceInputs["project"] = state?.project;
            resourceInputs["subsetView"] = state?.subsetView;
            resourceInputs["tableName"] = state?.tableName;
        } else {
            const args = argsOrState as AuthorizedViewArgs | undefined;
            if (args?.instanceName === undefined && !opts.urn) {
                throw new Error("Missing required property 'instanceName'");
            }
            if (args?.tableName === undefined && !opts.urn) {
                throw new Error("Missing required property 'tableName'");
            }
            resourceInputs["deletionProtection"] = args?.deletionProtection;
            resourceInputs["instanceName"] = args?.instanceName;
            resourceInputs["name"] = args?.name;
            resourceInputs["project"] = args?.project;
            resourceInputs["subsetView"] = args?.subsetView;
            resourceInputs["tableName"] = args?.tableName;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(AuthorizedView.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering AuthorizedView resources.
 */
export interface AuthorizedViewState {
    /**
     * A field to make the table protected against data loss i.e. when set to PROTECTED, deleting the table, the column families in the table, and the instance containing the table would be prohibited.
     * If not provided, currently deletion protection will be set to UNPROTECTED as it is the API default value. Note this field configs the deletion protection provided by the API in the backend, and should not be confused with Terraform-side deletion protection.
     */
    deletionProtection?: pulumi.Input<string>;
    /**
     * The name of the Bigtable instance in which the authorized view belongs.
     */
    instanceName?: pulumi.Input<string>;
    /**
     * The name of the authorized view. Must be 1-50 characters and must only contain hyphens, underscores, periods, letters and numbers.
     */
    name?: pulumi.Input<string>;
    /**
     * The ID of the project in which the resource belongs. If it
     * is not provided, the provider project is used.
     */
    project?: pulumi.Input<string>;
    /**
     * An AuthorizedView permitting access to an explicit subset of a Table. Structure is documented below.
     *
     * -----
     */
    subsetView?: pulumi.Input<inputs.bigtable.AuthorizedViewSubsetView>;
    /**
     * The name of the Bigtable table in which the authorized view belongs.
     */
    tableName?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a AuthorizedView resource.
 */
export interface AuthorizedViewArgs {
    /**
     * A field to make the table protected against data loss i.e. when set to PROTECTED, deleting the table, the column families in the table, and the instance containing the table would be prohibited.
     * If not provided, currently deletion protection will be set to UNPROTECTED as it is the API default value. Note this field configs the deletion protection provided by the API in the backend, and should not be confused with Terraform-side deletion protection.
     */
    deletionProtection?: pulumi.Input<string>;
    /**
     * The name of the Bigtable instance in which the authorized view belongs.
     */
    instanceName: pulumi.Input<string>;
    /**
     * The name of the authorized view. Must be 1-50 characters and must only contain hyphens, underscores, periods, letters and numbers.
     */
    name?: pulumi.Input<string>;
    /**
     * The ID of the project in which the resource belongs. If it
     * is not provided, the provider project is used.
     */
    project?: pulumi.Input<string>;
    /**
     * An AuthorizedView permitting access to an explicit subset of a Table. Structure is documented below.
     *
     * -----
     */
    subsetView?: pulumi.Input<inputs.bigtable.AuthorizedViewSubsetView>;
    /**
     * The name of the Bigtable table in which the authorized view belongs.
     */
    tableName: pulumi.Input<string>;
}
