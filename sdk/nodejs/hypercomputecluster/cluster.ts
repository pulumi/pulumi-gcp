// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * A collection of virtual machines and connected resources forming a high-performance computing cluster capable of running large-scale, tightly coupled workloads. A cluster combines a set a compute resources that perform computations, storage resources that contain inputs and store outputs, an orchestrator that is responsible for assigning jobs to compute resources, and network resources that connect everything together.
 *
 * ## Example Usage
 *
 * ### Hypercomputecluster Cluster Basic
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as gcp from "@pulumi/gcp";
 *
 * const project = gcp.organizations.getProject({});
 * const projectId = project.then(project => project.name);
 * const cluster = new gcp.hypercomputecluster.Cluster("cluster", {
 *     clusterId: "my-cluster",
 *     location: "us-central1",
 *     description: "Cluster Director instance created through Terraform",
 *     networkResources: [{
 *         id: "network1",
 *         config: {
 *             newNetwork: {
 *                 description: "Network one",
 *                 network: projectId.then(projectId => `projects/${projectId}/global/networks/cluster-net1`),
 *             },
 *         },
 *     }],
 *     computeResources: [{
 *         id: "compute1",
 *         config: {
 *             newOnDemandInstances: {
 *                 machineType: "n2-standard-2",
 *                 zone: "us-central1-a",
 *             },
 *         },
 *     }],
 *     orchestrator: {
 *         slurm: {
 *             loginNodes: {
 *                 machineType: "n2-standard-2",
 *                 count: "1",
 *                 zone: "us-central1-a",
 *                 bootDisk: {
 *                     sizeGb: "100",
 *                     type: "pd-balanced",
 *                 },
 *             },
 *             nodeSets: [{
 *                 id: "nodeset1",
 *                 computeId: "compute1",
 *                 staticNodeCount: "1",
 *                 computeInstance: {
 *                     bootDisk: {
 *                         sizeGb: "100",
 *                         type: "pd-balanced",
 *                     },
 *                 },
 *             }],
 *             partitions: [{
 *                 id: "partition1",
 *                 nodeSetIds: ["nodeset1"],
 *             }],
 *             defaultPartition: "partition1",
 *         },
 *     },
 * });
 * ```
 *
 * ## Import
 *
 * Cluster can be imported using any of these accepted formats:
 *
 * * `projects/{{project}}/locations/{{location}}/clusters/{{cluster_id}}`
 * * `{{project}}/{{location}}/{{cluster_id}}`
 * * `{{location}}/{{cluster_id}}`
 *
 * When using the `pulumi import` command, Cluster can be imported using one of the formats above. For example:
 *
 * ```sh
 * $ pulumi import gcp:hypercomputecluster/cluster:Cluster default projects/{{project}}/locations/{{location}}/clusters/{{cluster_id}}
 * $ pulumi import gcp:hypercomputecluster/cluster:Cluster default {{project}}/{{location}}/{{cluster_id}}
 * $ pulumi import gcp:hypercomputecluster/cluster:Cluster default {{location}}/{{cluster_id}}
 * ```
 */
export class Cluster extends pulumi.CustomResource {
    /**
     * Get an existing Cluster resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: ClusterState, opts?: pulumi.CustomResourceOptions): Cluster {
        return new Cluster(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'gcp:hypercomputecluster/cluster:Cluster';

    /**
     * Returns true if the given object is an instance of Cluster.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Cluster {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Cluster.__pulumiType;
    }

    /**
     * ID of the cluster to create. Must conform to
     * [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     */
    declare public readonly clusterId: pulumi.Output<string>;
    /**
     * Compute resources available to the cluster. Keys specify the ID of the
     * compute resource by which it can be referenced elsewhere, and must conform
     * to [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    declare public readonly computeResources: pulumi.Output<outputs.hypercomputecluster.ClusterComputeResource[] | undefined>;
    /**
     * Time that the cluster was originally created.
     */
    declare public /*out*/ readonly createTime: pulumi.Output<string>;
    /**
     * User-provided description of the cluster.
     */
    declare public readonly description: pulumi.Output<string | undefined>;
    /**
     * All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
     */
    declare public /*out*/ readonly effectiveLabels: pulumi.Output<{[key: string]: string}>;
    /**
     * [Labels](https://cloud.google.com/compute/docs/labeling-resources) applied
     * to the cluster. Labels can be used to organize clusters and to filter them
     * in queries.
     * **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
     * Please refer to the field `effectiveLabels` for all of the labels present on the resource.
     */
    declare public readonly labels: pulumi.Output<{[key: string]: string} | undefined>;
    /**
     * Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.
     */
    declare public readonly location: pulumi.Output<string>;
    /**
     * Identifier. [Relative resource name](https://google.aip.dev/122) of the cluster, in the
     * format `projects/{project}/locations/{location}/clusters/{cluster}`.
     */
    declare public /*out*/ readonly name: pulumi.Output<string>;
    /**
     * Network resources available to the cluster. Must contain at most one value.
     * Keys specify the ID of the network resource by which it can be referenced
     * elsewhere, and must conform to
     * [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    declare public readonly networkResources: pulumi.Output<outputs.hypercomputecluster.ClusterNetworkResource[] | undefined>;
    /**
     * The component responsible for scheduling and running workloads on the
     * cluster as well as providing the user interface for interacting with the
     * cluster at runtime.
     * Structure is documented below.
     */
    declare public readonly orchestrator: pulumi.Output<outputs.hypercomputecluster.ClusterOrchestrator | undefined>;
    /**
     * The ID of the project in which the resource belongs.
     * If it is not provided, the provider project is used.
     */
    declare public readonly project: pulumi.Output<string>;
    /**
     * The combination of labels configured directly on the resource
     *  and default labels configured on the provider.
     */
    declare public /*out*/ readonly pulumiLabels: pulumi.Output<{[key: string]: string}>;
    /**
     * Indicates whether changes to the cluster are currently in flight. If this
     * is `true`, then the current state might not match the cluster's intended
     * state.
     */
    declare public /*out*/ readonly reconciling: pulumi.Output<boolean>;
    /**
     * Storage resources available to the cluster. Keys specify the ID of the
     * storage resource by which it can be referenced elsewhere, and must conform
     * to [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    declare public readonly storageResources: pulumi.Output<outputs.hypercomputecluster.ClusterStorageResource[] | undefined>;
    /**
     * Time that the cluster was most recently updated.
     */
    declare public /*out*/ readonly updateTime: pulumi.Output<string>;

    /**
     * Create a Cluster resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ClusterArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: ClusterArgs | ClusterState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as ClusterState | undefined;
            resourceInputs["clusterId"] = state?.clusterId;
            resourceInputs["computeResources"] = state?.computeResources;
            resourceInputs["createTime"] = state?.createTime;
            resourceInputs["description"] = state?.description;
            resourceInputs["effectiveLabels"] = state?.effectiveLabels;
            resourceInputs["labels"] = state?.labels;
            resourceInputs["location"] = state?.location;
            resourceInputs["name"] = state?.name;
            resourceInputs["networkResources"] = state?.networkResources;
            resourceInputs["orchestrator"] = state?.orchestrator;
            resourceInputs["project"] = state?.project;
            resourceInputs["pulumiLabels"] = state?.pulumiLabels;
            resourceInputs["reconciling"] = state?.reconciling;
            resourceInputs["storageResources"] = state?.storageResources;
            resourceInputs["updateTime"] = state?.updateTime;
        } else {
            const args = argsOrState as ClusterArgs | undefined;
            if (args?.clusterId === undefined && !opts.urn) {
                throw new Error("Missing required property 'clusterId'");
            }
            if (args?.location === undefined && !opts.urn) {
                throw new Error("Missing required property 'location'");
            }
            resourceInputs["clusterId"] = args?.clusterId;
            resourceInputs["computeResources"] = args?.computeResources;
            resourceInputs["description"] = args?.description;
            resourceInputs["labels"] = args?.labels;
            resourceInputs["location"] = args?.location;
            resourceInputs["networkResources"] = args?.networkResources;
            resourceInputs["orchestrator"] = args?.orchestrator;
            resourceInputs["project"] = args?.project;
            resourceInputs["storageResources"] = args?.storageResources;
            resourceInputs["createTime"] = undefined /*out*/;
            resourceInputs["effectiveLabels"] = undefined /*out*/;
            resourceInputs["name"] = undefined /*out*/;
            resourceInputs["pulumiLabels"] = undefined /*out*/;
            resourceInputs["reconciling"] = undefined /*out*/;
            resourceInputs["updateTime"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["effectiveLabels", "pulumiLabels"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(Cluster.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Cluster resources.
 */
export interface ClusterState {
    /**
     * ID of the cluster to create. Must conform to
     * [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     */
    clusterId?: pulumi.Input<string>;
    /**
     * Compute resources available to the cluster. Keys specify the ID of the
     * compute resource by which it can be referenced elsewhere, and must conform
     * to [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    computeResources?: pulumi.Input<pulumi.Input<inputs.hypercomputecluster.ClusterComputeResource>[]>;
    /**
     * Time that the cluster was originally created.
     */
    createTime?: pulumi.Input<string>;
    /**
     * User-provided description of the cluster.
     */
    description?: pulumi.Input<string>;
    /**
     * All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
     */
    effectiveLabels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * [Labels](https://cloud.google.com/compute/docs/labeling-resources) applied
     * to the cluster. Labels can be used to organize clusters and to filter them
     * in queries.
     * **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
     * Please refer to the field `effectiveLabels` for all of the labels present on the resource.
     */
    labels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.
     */
    location?: pulumi.Input<string>;
    /**
     * Identifier. [Relative resource name](https://google.aip.dev/122) of the cluster, in the
     * format `projects/{project}/locations/{location}/clusters/{cluster}`.
     */
    name?: pulumi.Input<string>;
    /**
     * Network resources available to the cluster. Must contain at most one value.
     * Keys specify the ID of the network resource by which it can be referenced
     * elsewhere, and must conform to
     * [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    networkResources?: pulumi.Input<pulumi.Input<inputs.hypercomputecluster.ClusterNetworkResource>[]>;
    /**
     * The component responsible for scheduling and running workloads on the
     * cluster as well as providing the user interface for interacting with the
     * cluster at runtime.
     * Structure is documented below.
     */
    orchestrator?: pulumi.Input<inputs.hypercomputecluster.ClusterOrchestrator>;
    /**
     * The ID of the project in which the resource belongs.
     * If it is not provided, the provider project is used.
     */
    project?: pulumi.Input<string>;
    /**
     * The combination of labels configured directly on the resource
     *  and default labels configured on the provider.
     */
    pulumiLabels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * Indicates whether changes to the cluster are currently in flight. If this
     * is `true`, then the current state might not match the cluster's intended
     * state.
     */
    reconciling?: pulumi.Input<boolean>;
    /**
     * Storage resources available to the cluster. Keys specify the ID of the
     * storage resource by which it can be referenced elsewhere, and must conform
     * to [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    storageResources?: pulumi.Input<pulumi.Input<inputs.hypercomputecluster.ClusterStorageResource>[]>;
    /**
     * Time that the cluster was most recently updated.
     */
    updateTime?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Cluster resource.
 */
export interface ClusterArgs {
    /**
     * ID of the cluster to create. Must conform to
     * [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     */
    clusterId: pulumi.Input<string>;
    /**
     * Compute resources available to the cluster. Keys specify the ID of the
     * compute resource by which it can be referenced elsewhere, and must conform
     * to [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    computeResources?: pulumi.Input<pulumi.Input<inputs.hypercomputecluster.ClusterComputeResource>[]>;
    /**
     * User-provided description of the cluster.
     */
    description?: pulumi.Input<string>;
    /**
     * [Labels](https://cloud.google.com/compute/docs/labeling-resources) applied
     * to the cluster. Labels can be used to organize clusters and to filter them
     * in queries.
     * **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
     * Please refer to the field `effectiveLabels` for all of the labels present on the resource.
     */
    labels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.
     */
    location: pulumi.Input<string>;
    /**
     * Network resources available to the cluster. Must contain at most one value.
     * Keys specify the ID of the network resource by which it can be referenced
     * elsewhere, and must conform to
     * [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    networkResources?: pulumi.Input<pulumi.Input<inputs.hypercomputecluster.ClusterNetworkResource>[]>;
    /**
     * The component responsible for scheduling and running workloads on the
     * cluster as well as providing the user interface for interacting with the
     * cluster at runtime.
     * Structure is documented below.
     */
    orchestrator?: pulumi.Input<inputs.hypercomputecluster.ClusterOrchestrator>;
    /**
     * The ID of the project in which the resource belongs.
     * If it is not provided, the provider project is used.
     */
    project?: pulumi.Input<string>;
    /**
     * Storage resources available to the cluster. Keys specify the ID of the
     * storage resource by which it can be referenced elsewhere, and must conform
     * to [RFC-1034](https://datatracker.ietf.org/doc/html/rfc1034) (lower-case,
     * alphanumeric, and at most 63 characters).
     * Structure is documented below.
     */
    storageResources?: pulumi.Input<pulumi.Input<inputs.hypercomputecluster.ClusterStorageResource>[]>;
}
