// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.gcp.bigquery.outputs;

import com.pulumi.core.annotations.CustomType;
import com.pulumi.exceptions.MissingRequiredPropertyException;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationAvroOptions;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationBigtableOptions;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationCsvOptions;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationGoogleSheetsOptions;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationHivePartitioningOptions;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationJsonOptions;
import com.pulumi.gcp.bigquery.outputs.TableExternalDataConfigurationParquetOptions;
import java.lang.Boolean;
import java.lang.Integer;
import java.lang.String;
import java.util.List;
import java.util.Objects;
import java.util.Optional;
import javax.annotation.Nullable;

@CustomType
public final class TableExternalDataConfiguration {
    /**
     * @return Let BigQuery try to autodetect the schema
     * and format of the table.
     * 
     */
    private Boolean autodetect;
    /**
     * @return Additional options if `sourceFormat` is set to
     * &#34;AVRO&#34;.  Structure is documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationAvroOptions avroOptions;
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;BIGTABLE&#34;. Structure is documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationBigtableOptions bigtableOptions;
    /**
     * @return The compression type of the data source.
     * Valid values are &#34;NONE&#34; or &#34;GZIP&#34;.
     * 
     */
    private @Nullable String compression;
    /**
     * @return The connection specifying the credentials to be used to read
     * external storage, such as Azure Blob, Cloud Storage, or S3. The `connectionId` can have
     * the form `{{project}}.{{location}}.{{connection_id}}`
     * or `projects/{{project}}/locations/{{location}}/connections/{{connection_id}}`.
     * 
     * ~&gt;**NOTE:** If you set `external_data_configuration.connection_id`, the
     * table schema must be specified using the top-level `schema` field
     * documented above.
     * 
     */
    private @Nullable String connectionId;
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;CSV&#34;. Structure is documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationCsvOptions csvOptions;
    /**
     * @return Specifies how source URIs are interpreted for constructing the file set to load.
     * By default source URIs are expanded against the underlying storage.
     * Other options include specifying manifest files. Only applicable to object storage systems. Docs
     * 
     */
    private @Nullable String fileSetSpecType;
    /**
     * @return Additional options if
     * `sourceFormat` is set to &#34;GOOGLE_SHEETS&#34;. Structure is
     * documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationGoogleSheetsOptions googleSheetsOptions;
    /**
     * @return When set, configures hive partitioning
     * support. Not all storage formats support hive partitioning -- requesting hive
     * partitioning on an unsupported format will lead to an error, as will providing
     * an invalid specification. Structure is documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationHivePartitioningOptions hivePartitioningOptions;
    /**
     * @return Indicates if BigQuery should
     * allow extra values that are not represented in the table schema.
     * If true, the extra values are ignored. If false, records with
     * extra columns are treated as bad records, and if there are too
     * many bad records, an invalid error is returned in the job result.
     * The default value is false.
     * 
     */
    private @Nullable Boolean ignoreUnknownValues;
    /**
     * @return Used to indicate that a JSON variant, rather than normal JSON, is being used as the sourceFormat. This should only be used in combination with the `JSON` source format. Valid values are: `GEOJSON`.
     * 
     */
    private @Nullable String jsonExtension;
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;JSON&#34;. Structure is documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationJsonOptions jsonOptions;
    /**
     * @return The maximum number of bad records that
     * BigQuery can ignore when reading data.
     * 
     */
    private @Nullable Integer maxBadRecords;
    /**
     * @return Metadata Cache Mode for the table. Set this to enable caching of metadata from external data source. Valid values are `AUTOMATIC` and `MANUAL`.
     * 
     */
    private @Nullable String metadataCacheMode;
    /**
     * @return Object Metadata is used to create Object Tables. Object Tables contain a listing of objects (with their metadata) found at the sourceUris. If `objectMetadata` is set, `sourceFormat` should be omitted.
     * 
     */
    private @Nullable String objectMetadata;
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;PARQUET&#34;. Structure is documented below.
     * 
     */
    private @Nullable TableExternalDataConfigurationParquetOptions parquetOptions;
    /**
     * @return When creating an external table, the user can provide a reference file with the table schema. This is enabled for the following formats: AVRO, PARQUET, ORC.
     * 
     */
    private @Nullable String referenceFileSchemaUri;
    /**
     * @return A JSON schema for the external table. Schema is required
     * for CSV and JSON formats if autodetect is not on. Schema is disallowed
     * for Google Cloud Bigtable, Cloud Datastore backups, Avro, Iceberg, ORC and Parquet formats.
     * ~&gt;**NOTE:** Because this field expects a JSON string, any changes to the
     * string will create a diff, even if the JSON itself hasn&#39;t changed.
     * Furthermore drift for this field cannot not be detected because BigQuery
     * only uses this schema to compute the effective schema for the table, therefore
     * any changes on the configured value will force the table to be recreated.
     * This schema is effectively only applied when creating a table from an external
     * datasource, after creation the computed schema will be stored in
     * `google_bigquery_table.schema`
     * 
     * ~&gt;**NOTE:** If you set `external_data_configuration.connection_id`, the
     * table schema must be specified using the top-level `schema` field
     * documented above.
     * 
     */
    private @Nullable String schema;
    /**
     * @return The data format. Please see sourceFormat under
     * [ExternalDataConfiguration](https://cloud.google.com/bigquery/docs/reference/rest/v2/tables#externaldataconfiguration)
     * in Bigquery&#39;s public API documentation for supported formats. To use &#34;GOOGLE_SHEETS&#34;
     * the `scopes` must include &#34;https://www.googleapis.com/auth/drive.readonly&#34;.
     * 
     */
    private @Nullable String sourceFormat;
    /**
     * @return A list of the fully-qualified URIs that point to
     * your data in Google Cloud.
     * 
     */
    private List<String> sourceUris;

    private TableExternalDataConfiguration() {}
    /**
     * @return Let BigQuery try to autodetect the schema
     * and format of the table.
     * 
     */
    public Boolean autodetect() {
        return this.autodetect;
    }
    /**
     * @return Additional options if `sourceFormat` is set to
     * &#34;AVRO&#34;.  Structure is documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationAvroOptions> avroOptions() {
        return Optional.ofNullable(this.avroOptions);
    }
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;BIGTABLE&#34;. Structure is documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationBigtableOptions> bigtableOptions() {
        return Optional.ofNullable(this.bigtableOptions);
    }
    /**
     * @return The compression type of the data source.
     * Valid values are &#34;NONE&#34; or &#34;GZIP&#34;.
     * 
     */
    public Optional<String> compression() {
        return Optional.ofNullable(this.compression);
    }
    /**
     * @return The connection specifying the credentials to be used to read
     * external storage, such as Azure Blob, Cloud Storage, or S3. The `connectionId` can have
     * the form `{{project}}.{{location}}.{{connection_id}}`
     * or `projects/{{project}}/locations/{{location}}/connections/{{connection_id}}`.
     * 
     * ~&gt;**NOTE:** If you set `external_data_configuration.connection_id`, the
     * table schema must be specified using the top-level `schema` field
     * documented above.
     * 
     */
    public Optional<String> connectionId() {
        return Optional.ofNullable(this.connectionId);
    }
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;CSV&#34;. Structure is documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationCsvOptions> csvOptions() {
        return Optional.ofNullable(this.csvOptions);
    }
    /**
     * @return Specifies how source URIs are interpreted for constructing the file set to load.
     * By default source URIs are expanded against the underlying storage.
     * Other options include specifying manifest files. Only applicable to object storage systems. Docs
     * 
     */
    public Optional<String> fileSetSpecType() {
        return Optional.ofNullable(this.fileSetSpecType);
    }
    /**
     * @return Additional options if
     * `sourceFormat` is set to &#34;GOOGLE_SHEETS&#34;. Structure is
     * documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationGoogleSheetsOptions> googleSheetsOptions() {
        return Optional.ofNullable(this.googleSheetsOptions);
    }
    /**
     * @return When set, configures hive partitioning
     * support. Not all storage formats support hive partitioning -- requesting hive
     * partitioning on an unsupported format will lead to an error, as will providing
     * an invalid specification. Structure is documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationHivePartitioningOptions> hivePartitioningOptions() {
        return Optional.ofNullable(this.hivePartitioningOptions);
    }
    /**
     * @return Indicates if BigQuery should
     * allow extra values that are not represented in the table schema.
     * If true, the extra values are ignored. If false, records with
     * extra columns are treated as bad records, and if there are too
     * many bad records, an invalid error is returned in the job result.
     * The default value is false.
     * 
     */
    public Optional<Boolean> ignoreUnknownValues() {
        return Optional.ofNullable(this.ignoreUnknownValues);
    }
    /**
     * @return Used to indicate that a JSON variant, rather than normal JSON, is being used as the sourceFormat. This should only be used in combination with the `JSON` source format. Valid values are: `GEOJSON`.
     * 
     */
    public Optional<String> jsonExtension() {
        return Optional.ofNullable(this.jsonExtension);
    }
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;JSON&#34;. Structure is documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationJsonOptions> jsonOptions() {
        return Optional.ofNullable(this.jsonOptions);
    }
    /**
     * @return The maximum number of bad records that
     * BigQuery can ignore when reading data.
     * 
     */
    public Optional<Integer> maxBadRecords() {
        return Optional.ofNullable(this.maxBadRecords);
    }
    /**
     * @return Metadata Cache Mode for the table. Set this to enable caching of metadata from external data source. Valid values are `AUTOMATIC` and `MANUAL`.
     * 
     */
    public Optional<String> metadataCacheMode() {
        return Optional.ofNullable(this.metadataCacheMode);
    }
    /**
     * @return Object Metadata is used to create Object Tables. Object Tables contain a listing of objects (with their metadata) found at the sourceUris. If `objectMetadata` is set, `sourceFormat` should be omitted.
     * 
     */
    public Optional<String> objectMetadata() {
        return Optional.ofNullable(this.objectMetadata);
    }
    /**
     * @return Additional properties to set if
     * `sourceFormat` is set to &#34;PARQUET&#34;. Structure is documented below.
     * 
     */
    public Optional<TableExternalDataConfigurationParquetOptions> parquetOptions() {
        return Optional.ofNullable(this.parquetOptions);
    }
    /**
     * @return When creating an external table, the user can provide a reference file with the table schema. This is enabled for the following formats: AVRO, PARQUET, ORC.
     * 
     */
    public Optional<String> referenceFileSchemaUri() {
        return Optional.ofNullable(this.referenceFileSchemaUri);
    }
    /**
     * @return A JSON schema for the external table. Schema is required
     * for CSV and JSON formats if autodetect is not on. Schema is disallowed
     * for Google Cloud Bigtable, Cloud Datastore backups, Avro, Iceberg, ORC and Parquet formats.
     * ~&gt;**NOTE:** Because this field expects a JSON string, any changes to the
     * string will create a diff, even if the JSON itself hasn&#39;t changed.
     * Furthermore drift for this field cannot not be detected because BigQuery
     * only uses this schema to compute the effective schema for the table, therefore
     * any changes on the configured value will force the table to be recreated.
     * This schema is effectively only applied when creating a table from an external
     * datasource, after creation the computed schema will be stored in
     * `google_bigquery_table.schema`
     * 
     * ~&gt;**NOTE:** If you set `external_data_configuration.connection_id`, the
     * table schema must be specified using the top-level `schema` field
     * documented above.
     * 
     */
    public Optional<String> schema() {
        return Optional.ofNullable(this.schema);
    }
    /**
     * @return The data format. Please see sourceFormat under
     * [ExternalDataConfiguration](https://cloud.google.com/bigquery/docs/reference/rest/v2/tables#externaldataconfiguration)
     * in Bigquery&#39;s public API documentation for supported formats. To use &#34;GOOGLE_SHEETS&#34;
     * the `scopes` must include &#34;https://www.googleapis.com/auth/drive.readonly&#34;.
     * 
     */
    public Optional<String> sourceFormat() {
        return Optional.ofNullable(this.sourceFormat);
    }
    /**
     * @return A list of the fully-qualified URIs that point to
     * your data in Google Cloud.
     * 
     */
    public List<String> sourceUris() {
        return this.sourceUris;
    }

    public static Builder builder() {
        return new Builder();
    }

    public static Builder builder(TableExternalDataConfiguration defaults) {
        return new Builder(defaults);
    }
    @CustomType.Builder
    public static final class Builder {
        private Boolean autodetect;
        private @Nullable TableExternalDataConfigurationAvroOptions avroOptions;
        private @Nullable TableExternalDataConfigurationBigtableOptions bigtableOptions;
        private @Nullable String compression;
        private @Nullable String connectionId;
        private @Nullable TableExternalDataConfigurationCsvOptions csvOptions;
        private @Nullable String fileSetSpecType;
        private @Nullable TableExternalDataConfigurationGoogleSheetsOptions googleSheetsOptions;
        private @Nullable TableExternalDataConfigurationHivePartitioningOptions hivePartitioningOptions;
        private @Nullable Boolean ignoreUnknownValues;
        private @Nullable String jsonExtension;
        private @Nullable TableExternalDataConfigurationJsonOptions jsonOptions;
        private @Nullable Integer maxBadRecords;
        private @Nullable String metadataCacheMode;
        private @Nullable String objectMetadata;
        private @Nullable TableExternalDataConfigurationParquetOptions parquetOptions;
        private @Nullable String referenceFileSchemaUri;
        private @Nullable String schema;
        private @Nullable String sourceFormat;
        private List<String> sourceUris;
        public Builder() {}
        public Builder(TableExternalDataConfiguration defaults) {
    	      Objects.requireNonNull(defaults);
    	      this.autodetect = defaults.autodetect;
    	      this.avroOptions = defaults.avroOptions;
    	      this.bigtableOptions = defaults.bigtableOptions;
    	      this.compression = defaults.compression;
    	      this.connectionId = defaults.connectionId;
    	      this.csvOptions = defaults.csvOptions;
    	      this.fileSetSpecType = defaults.fileSetSpecType;
    	      this.googleSheetsOptions = defaults.googleSheetsOptions;
    	      this.hivePartitioningOptions = defaults.hivePartitioningOptions;
    	      this.ignoreUnknownValues = defaults.ignoreUnknownValues;
    	      this.jsonExtension = defaults.jsonExtension;
    	      this.jsonOptions = defaults.jsonOptions;
    	      this.maxBadRecords = defaults.maxBadRecords;
    	      this.metadataCacheMode = defaults.metadataCacheMode;
    	      this.objectMetadata = defaults.objectMetadata;
    	      this.parquetOptions = defaults.parquetOptions;
    	      this.referenceFileSchemaUri = defaults.referenceFileSchemaUri;
    	      this.schema = defaults.schema;
    	      this.sourceFormat = defaults.sourceFormat;
    	      this.sourceUris = defaults.sourceUris;
        }

        @CustomType.Setter
        public Builder autodetect(Boolean autodetect) {
            if (autodetect == null) {
              throw new MissingRequiredPropertyException("TableExternalDataConfiguration", "autodetect");
            }
            this.autodetect = autodetect;
            return this;
        }
        @CustomType.Setter
        public Builder avroOptions(@Nullable TableExternalDataConfigurationAvroOptions avroOptions) {

            this.avroOptions = avroOptions;
            return this;
        }
        @CustomType.Setter
        public Builder bigtableOptions(@Nullable TableExternalDataConfigurationBigtableOptions bigtableOptions) {

            this.bigtableOptions = bigtableOptions;
            return this;
        }
        @CustomType.Setter
        public Builder compression(@Nullable String compression) {

            this.compression = compression;
            return this;
        }
        @CustomType.Setter
        public Builder connectionId(@Nullable String connectionId) {

            this.connectionId = connectionId;
            return this;
        }
        @CustomType.Setter
        public Builder csvOptions(@Nullable TableExternalDataConfigurationCsvOptions csvOptions) {

            this.csvOptions = csvOptions;
            return this;
        }
        @CustomType.Setter
        public Builder fileSetSpecType(@Nullable String fileSetSpecType) {

            this.fileSetSpecType = fileSetSpecType;
            return this;
        }
        @CustomType.Setter
        public Builder googleSheetsOptions(@Nullable TableExternalDataConfigurationGoogleSheetsOptions googleSheetsOptions) {

            this.googleSheetsOptions = googleSheetsOptions;
            return this;
        }
        @CustomType.Setter
        public Builder hivePartitioningOptions(@Nullable TableExternalDataConfigurationHivePartitioningOptions hivePartitioningOptions) {

            this.hivePartitioningOptions = hivePartitioningOptions;
            return this;
        }
        @CustomType.Setter
        public Builder ignoreUnknownValues(@Nullable Boolean ignoreUnknownValues) {

            this.ignoreUnknownValues = ignoreUnknownValues;
            return this;
        }
        @CustomType.Setter
        public Builder jsonExtension(@Nullable String jsonExtension) {

            this.jsonExtension = jsonExtension;
            return this;
        }
        @CustomType.Setter
        public Builder jsonOptions(@Nullable TableExternalDataConfigurationJsonOptions jsonOptions) {

            this.jsonOptions = jsonOptions;
            return this;
        }
        @CustomType.Setter
        public Builder maxBadRecords(@Nullable Integer maxBadRecords) {

            this.maxBadRecords = maxBadRecords;
            return this;
        }
        @CustomType.Setter
        public Builder metadataCacheMode(@Nullable String metadataCacheMode) {

            this.metadataCacheMode = metadataCacheMode;
            return this;
        }
        @CustomType.Setter
        public Builder objectMetadata(@Nullable String objectMetadata) {

            this.objectMetadata = objectMetadata;
            return this;
        }
        @CustomType.Setter
        public Builder parquetOptions(@Nullable TableExternalDataConfigurationParquetOptions parquetOptions) {

            this.parquetOptions = parquetOptions;
            return this;
        }
        @CustomType.Setter
        public Builder referenceFileSchemaUri(@Nullable String referenceFileSchemaUri) {

            this.referenceFileSchemaUri = referenceFileSchemaUri;
            return this;
        }
        @CustomType.Setter
        public Builder schema(@Nullable String schema) {

            this.schema = schema;
            return this;
        }
        @CustomType.Setter
        public Builder sourceFormat(@Nullable String sourceFormat) {

            this.sourceFormat = sourceFormat;
            return this;
        }
        @CustomType.Setter
        public Builder sourceUris(List<String> sourceUris) {
            if (sourceUris == null) {
              throw new MissingRequiredPropertyException("TableExternalDataConfiguration", "sourceUris");
            }
            this.sourceUris = sourceUris;
            return this;
        }
        public Builder sourceUris(String... sourceUris) {
            return sourceUris(List.of(sourceUris));
        }
        public TableExternalDataConfiguration build() {
            final var _resultValue = new TableExternalDataConfiguration();
            _resultValue.autodetect = autodetect;
            _resultValue.avroOptions = avroOptions;
            _resultValue.bigtableOptions = bigtableOptions;
            _resultValue.compression = compression;
            _resultValue.connectionId = connectionId;
            _resultValue.csvOptions = csvOptions;
            _resultValue.fileSetSpecType = fileSetSpecType;
            _resultValue.googleSheetsOptions = googleSheetsOptions;
            _resultValue.hivePartitioningOptions = hivePartitioningOptions;
            _resultValue.ignoreUnknownValues = ignoreUnknownValues;
            _resultValue.jsonExtension = jsonExtension;
            _resultValue.jsonOptions = jsonOptions;
            _resultValue.maxBadRecords = maxBadRecords;
            _resultValue.metadataCacheMode = metadataCacheMode;
            _resultValue.objectMetadata = objectMetadata;
            _resultValue.parquetOptions = parquetOptions;
            _resultValue.referenceFileSchemaUri = referenceFileSchemaUri;
            _resultValue.schema = schema;
            _resultValue.sourceFormat = sourceFormat;
            _resultValue.sourceUris = sourceUris;
            return _resultValue;
        }
    }
}
